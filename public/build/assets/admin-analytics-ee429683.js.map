{"version":3,"mappings":"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","names":["activeWorkspaceId","getActiveWorkspaceId","setActiveWorkspaceId","id","isAbsoluteUrl","url","errorStatusIs","err","status","axios","_a","queryClient","QueryClient","failureCount","apiClient","internalEndpoints","config","endpoint","method","_b","_c","_d","workspaceId","_e","_f","message","msg","props","SvgIcon","forwardRef","ref","attr","size","title","className","color","style","children","viewBox","width","height","svgProps","jsxs","clsx","getSizeClassName","jsx","createSvgIcon","path","displayName","Component","React","createSvgIconFromTree","data","treeToElement","tree","node","i","elementToTree","el","attributes","attribute","child","PeopleIcon","getButtonSizeStyle","padding","equalWidth","variant","getSharedButtonStyle","shadow","whitespace","display","variantProps","outline","text","contained","link","border","disabled","createEventHandler","handler","e","ButtonBase","radius","justify","href","form","elementType","to","state","relative","replace","end","type","onClick","onPointerDown","onPointerUp","onKeyDown","domProps","Element","isLink","Button","startIcon","endIcon","sizeClassName","download","other","mergedClassName","InlineIcon","icon","position","shallowEqual","objA","objB","aKeys","bKeys","len","key","useBootstrapDataStore","create","set","decodeBootstrapData","decodedData","partial","getBootstrapData","setBootstrapData","mergeBootstrapData","useSelectedLocale","s","useUserTimezone","user","settings","defaultTimezone","preferredTimezone","useMemo","getLocalTimeZone","handlePluralMessage","localeCode","values","match","count","pluralPlaceholder","pluralConfig","choices","choiceName","getRules","choiceConfig","c","choice","memoize","hasOwn","obj","Trans","memo","initialMessage","lines","translatedMessage","Fragment","nodePlaceholders","tagNames","value","isValidElement","regexArray","tagNameMatchers","nodePlaceholderMatchers","regex","compiledMessage","part","matches","tagName","content","renderFn","cloneElement","areEqual","prevProps","nextProps","otherProps","nextValues","nextOtherProps","DialogContext","useDialogContext","useContext","useTrans","useCallback","translate","DismissButton","onDismiss","trans","Dialog","dialogProps","contextProps","background","maxWidth","maxHeight","dismissButton","isTrayOrFullScreen","sizeStyle","mergeProps","Children","dialogSize","IconButton","iconSize","badge","CloseIcon","DialogHeader","leftAdornment","rightAdornment","hideDismissButton","showDivider","titleFontWeight","titleTextSize","closeButtonSize","actions","closeButtonIcon","labelId","isDismissable","close","getPadding","DialogBody","useFloatingPosition","floatingWidth","disablePositioning","placement","offset","showArrow","shiftMainAxis","shiftCrossAxis","fallbackPlacements","arrowRef","useRef","floatingConfig","autoUpdate","offsetMiddleware","shift","flip","rects","availableHeight","availableWidth","elements","arrow","floatingProps","useFloating","mergedReferenceRef","mergeRefs","arrowX","arrowY","staticSide","arrowStyle","PopoverAnimation","rootEl","themeEl","TOOLTIP_COOLDOWN","tooltips","globalWarmedUp","globalWarmUpTimeout","globalCooldownTimeout","closeOpenTooltips","tooltipId","hideTooltipId","Tooltip","label","delay","isDisabled","usePortal","x","y","reference","strategy","refs","isOpen","setIsOpen","useState","useId","closeTimeout","showTooltip","hideTooltip","immediate","warmupTooltip","showTooltipWithWarmup","useEffect","tooltipContent","AnimatePresence","m","createPortal","KeyboardArrowDownIcon","useSettings","isSsr","ThemeSelectorContext","createContext","useThemeSelector","LazyLoader","__publicField","params","currentState","resolve","finalUrl","finalId","buildId","assetOptions","options","doc","parentEl","prefixedId","script","lazyLoader","clamp","num","min","max","useNumberFormatter","NumberFormatter","ProgressCircle","minValue","maxValue","isIndeterminate","trackColor","fillColor","trackWidth","strokeWidth","circumference","percentage","formatter","valueLabel","getCircleStyle","useMediaQuery","query","noSSR","supportsMatchMedia","setMatches","mq","onChange","useIsMobileMediaQuery","useOverlayViewport","useViewportSize","Popover","autoFocus","restoreFocus","isContextMenu","onClose","triggerRef","onPointerLeave","onPointerEnter","viewPortStyle","objRef","useObjectRef","useCloseOnInteractOutside","FocusScope","visibleOverlays","stateRef","isValidEvent","target","ownerDocument","isTopMostPopover","hideOverlay","clickedOnTriggerElement","onInteractOutsideStart","onInteractOutside","onContextMenu","onScroll","scrollableRegion","triggerEl","index","opacityAnimation","Underlay","isTransparent","isBlurred","disableInitialTransition","Tray","Modal","Section","buildListboxCollection","maxItems","items","inputValue","collection","childrenToCollection","filteredCollection","filterCollection","filterIndex","meta","reactChildren","item","optionIndex","setOption","element","section","sectionIndex","sectionItemIndex","getTextLabel","childIndex","nestedChild","nestedChildIndex","useListbox","role","virtualFocus","focusLoopingMode","autoFocusFirstItem","onItemSelected","clearInputOnItemSelection","blurReferenceOnItemSelection","floatingMinWidth","floatingMaxHeight","showCheckmark","showEmptyMessage","isAsync","allowCustomValue","clearSelectionOnInputClear","selectionMode","listboxId","setInputValue","useControlledState","activeCollection","setActiveCollection","collections","listItemsRef","listContent","o","selectedValues","selectValues","useControlledSelection","activeIndex","setActiveIndex","selectedOption","selectedIndex","setSelectedIndex","focusItem","fallbackOperation","newIndex","allItemsDisabled","lastIndex","getNonDisabledIndex","onInputChange","operation","allowEmptySelection","selectionEnabled","stateValues","setStateValues","mixedValue","newValues","newValue","ListBoxContext","useListboxContext","CheckIcon","ListItemBase","capitalizeFirst","description","endSection","isActive","isSelected","iconClassName","endSectionClassName","itemClassName","userPadding","Item","textLabel","onSelected","handleItemSelection","tabIndex","MOBILE_SCREEN_WIDTH","useIsMobileDevice","useIsSSR","Listbox","listbox","trigger","isLoading","mobileOverlay","searchField","prepend","listboxClassName","isMobile","positionStyle","floating","Overlay","renderedSections","prev","curr","showContent","innerContent","FocusContainer","autoFocusRef","domRef","indexToFocus","EmptyMessage","useListboxKeyboardNavigation","handleTriggerKeyDown","handleListboxKeyboardNavigation","cache","useCollator","cacheKey","b","useTypeSelect","collator","getMatchingIndex","fromIndex","substring","character","getStringForKey","SearchIcon","getInputFieldClassNames","startAppend","endAppend","labelPosition","labelDisplay","wrapLabel","inputClassName","inputWrapperClassName","unstyled","invalid","flexibleHeight","inputShadow","descriptionPosition","inputRing","inputFontSize","labelSuffix","sizeClass","inputSizeClass","isInputGroup","ringClassName","getRadius","getInputBorder","getInputPadding","iconSizeClass","inputBorder","borderColor","startAdornment","endAdornment","inputRadius","Adornment","direction","removeEmptyValuesFromObject","shouldCopy","newObj","_key","Field","errorMessage","descriptionProps","errorMessageProps","adornmentPosition","fieldClassNames","wrapperProps","Label","Append","labelElementType","labelProps","labelSuffixPosition","required","ElementType","labelNode","useAutoFocus","autoSelectText","useField","focusRef","inputDomProps","defaultId","inputId","descriptionId","errorId","inputProps","labelledBy","describedBy","TextField","inputElementType","inputRef","inputTestId","inputObjRef","fieldProps","isTextArea","inputFieldClassNames","FormTextField","name","onBlur","error","useController","formProps","MenuTrigger","searchPlaceholder","showSearchField","menuTrigger","menu","handleListboxSearchFieldKeydown","findMatchingItem","handleListboxTypeSelect","Menu","preventContextOnMenu","ContextMenu","pointToVirtualElement","contextElement","useCallbackRef","callback","callbackRef","args","DialogTrigger","moveFocusToDialog","returnFocusToTrigger","triggerOnHover","triggerOnContextMenu","handleTriggerClick","mobileType","alwaysReturnCurrentValueOnClose","contextMenuTriggerRef","initialValueRef","setValue","hoverTimeoutRef","floatingStyle","formId","closeValue","finalValue","open","useLayoutEffect","contextValue","handleTriggerHover","handleFloatingHover","handleTriggerContextMenu","triggerClickHandler","dialogTrigger","dialog","extractChildren","dialogContent","rawChildren","ctx","KeyboardArrowLeftIcon","DialogFooter","startAction","dividerTop","requestAnimationFrame","cancelAnimationFrame","helmetAttribute","rafId","Helmet","tags","mapChildrenToTags","updateTags","titleTagChildrenToString","removeOldTags","tag","template","updateTag","newElement","StaticPageTitle","site_name","Badge","withBorder","top","right","List","dataTestId","listRef","ListItem","borderRadius","listItemProps","focusManager","useFocusManager","isSelectable","setIsActive","prettyBytes","fractionDigits","neg","units","exponent","unit","ComboboxEndAdornment","timeout","showLoading","setShowLoading","lastInputValue","Select","hideCaret","placeholder","selectedValue","onOpenChange","onInputValueChange","onSelectionChange","minWidth","defaultInputValue","userInputValue","valueClassName","inputFieldProps","handleTriggerTypeSelect","SelectForwardRef","FormSelect","useDateFormatter","lastOptions","DateFormatter","DateFormatPresets","FormattedDate","date","preset","propsTimezone","dates","userTimezone","timezone","formatterOptions","parseAbsolute","Skeleton","animation","skeletonSize","StorageIcon","Input","startOfDay","endOfDay","getUserTimezone","useCurrentDateTime","now","getCurrentDateTime","Now","locale","DateRangePresets","startOfWeek","endOfWeek","start","startOfMonth","endOfMonth","startOfYear","endOfYear","DateRangeIcon","DatePickerField","createFocusManager","getDefaultGranularity","CalendarDate","dateIsInvalid","toSafeZoned","timeZone","disambiguation","toZoned","useBaseDatePickerState","selectedDate","calendarIsOpen","setCalendarIsOpen","closeDialogOnSelection","granularity","useDateRangePickerState","isPlaceholder","setIsPlaceholder","setStateValue","internalValue","setInternalValue","completeRange","clear","anchorDate","setAnchorDate","isHighlighting","setIsHighlighting","highlightedRange","setHighlightedRange","calendarDates","setCalendarDates","rangeToCalendarDates","constrainRange","range","maxDate","startMax","minDate","endMin","setSelectedValue","newRange","dayIsActive","day","isSameDay","dayIsHighlighted","dayIsRangeStart","dayIsRangeEnd","getCellProps","isSameMonth","makeRange","finalRange","toCalendarDate","ArrowRightAltIcon","adjustSegment","amount","hours","isPM","setSegment","segmentValue","wasPM","PAGE_STEP","EditableDateSegment","segment","enteredKeys","parser","NumberParser","setSegmentValue","adjustSegmentValue","backspace","parsed","today","onInput","amPmFormatter","am","amDate","pm","pmDate","numberValue","allowsZero","shouldSetValue","spinButtonProps","LiteralDateSegment","getSegmentLimits","getMinimumMonthInYear","getMinimumDayInMonth","DateSegmentList","segmentProps","memoOptions","dateValue","segments","limits","textValue","KeyboardArrowRightIcon","CalendarCell","currentMonth","dayOfWeek","getDayOfWeek","isHighlighted","isRangeStart","isRangeEnd","dayIsToday","isToday","sameMonth","CalendarMonth","startDate","isFirst","isLast","weeksInMonth","getWeeksInMonth","monthStart","CalendarMonthHeader","WeekdayHeader","weekIndex","dayIndex","shiftCalendars","newDates","monthFormatter","isBackwardDisabled","isForwardDisabled","dayFormatter","dateDay","weekday","Calendar","visibleMonths","FormattedDateTimeRange","castToDate","DatePresetList","onPresetSelected","useIsTabletMediaQuery","Switch","iconRight","FormSwitch","DateRangeComparePresets","diffInMinutes","DateRangeComparePresetList","originalRangeValue","DateRangeDialog","compareState","showInlineDatePickerField","compareVisibleDefault","isTablet","initialStateRef","hasPlaceholder","compareVisible","setCompareVisible","footer","Calendars","InlineDatePickerField","DateRangePicker","hideCalendarIcon","openOnClick","isHourSegment","FormattedNumber","RefreshIcon","ArrowBackIcon","themeValueToHex","parseColor","FormattedBytes","bytes","DownloadIcon","CloudUploadIcon","SecurityIcon","ShareIcon","SpeedIcon","TrendingDownIcon","TrendingFlatIcon","TrendingUpIcon","Card","CardContent","ChartLayout","contentIsFlex","contentClassName","contentRef","ChartLoadingIndicator","LazyChart","lazy","BaseChart","rowSpan","colSpan","Suspense","formatReportData","report","shareFirstDatasetLabels","firstDatasetLabels","dataset","datasetIndex","datasetItem","itemIndex","generateDatasetLabels","datum","generateTimeLabels","isoDate","isoEndDate","parseAbsoluteToLocal","endDate","getFormatter","a","primaryColor","ChartColors","LineChartOptions","LineChart","formattedData","BarChart","individualBarColors","isHorizontal","PieChart","hideLegend","chartData","context","total","CardHeader","CardTitle","TransferAnalyticsPage","dateRange","setDateRange","refreshKey","setRefreshKey","analyticsData","useQuery","response","handleRefresh","handleExport","stats","charts","StatCard","change","trend","isPositive","isNegative","Endpoint","useAdminReport","payload","fetchAnalyticsReport","keepPreviousData","types","FormattedDuration","minutes","seconds","propsMs","propsStartDate","propsEndDate","verbose","addZeroToFirstUnit","isLive","maxIsLiveMs","minDuration","liveInterval","initialMs","diff","ms","setMs","msRef","overMaxMs","interval","unsignedMs","parsedMS","formattedValue","formatVerbose","formatCompact","t","output","addZero","v","AdminReportCardRow","ReportCard","propsIcon","currentValue","previousValue","percentageChange","IconEl","FormattedValue","TrendingIndicator","calculatePercentage","PolarAreaChartOptions","PolarAreaChart","d","loaderUrl","useGoogleGeoChart","placeholderRef","country","onCountrySelected","analytics","apiKey","selectedTheme","geoChartRef","regionInteractivity","drawGoogleChart","seedData","location","backgroundColor","initGoogleGeoChart","InfoDialogTriggerIcon","InfoDialogTrigger","body","FormattedCountryName","countryCode","regionNames","formattedName","GeoChart","metricData","layoutProps","initialData","InfoTrigger","VisitorsReportCharts","totalViews","monthDayFormat","ReportDateSelector","compactOnMobile","enableCompare","DateSelectorDialog","compareHasInitialValue"],"sources":["../../../common/foundation/resources/client/workspace/active-workspace-id.jsx","../../../common/foundation/resources/client/ui/library/utils/urls/is-absolute-url.jsx","../../../common/foundation/resources/client/http/error-status-is.jsx","../../../common/foundation/resources/client/http/query-client.jsx","../../../common/foundation/resources/client/ui/library/i18n/message.jsx","../../../common/foundation/resources/client/ui/library/icons/svg-icon.jsx","../../../common/foundation/resources/client/ui/library/icons/create-svg-icon.jsx","../../../common/foundation/resources/client/ui/library/icons/material/People.jsx","../../../common/foundation/resources/client/ui/library/buttons/button-size.jsx","../../../common/foundation/resources/client/ui/library/buttons/get-shared-button-style.jsx","../../../common/foundation/resources/client/ui/library/utils/dom/create-event-handler.jsx","../../../common/foundation/resources/client/ui/library/buttons/button-base.jsx","../../../common/foundation/resources/client/ui/library/buttons/button.jsx","../../../common/foundation/resources/client/ui/library/utils/shallow-equal.jsx","../../../common/foundation/resources/client/ui/library/bootstrap-data/bootstrap-data-store.jsx","../../../common/foundation/resources/client/ui/library/i18n/selected-locale.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-user-timezone.jsx","../../../common/foundation/resources/client/ui/library/i18n/handle-plural-message.jsx","../../../common/foundation/resources/client/ui/library/i18n/trans.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog-context.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-trans.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dismiss-button.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog.jsx","../../../common/foundation/resources/client/ui/library/buttons/icon-button.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Close.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog-header.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog-body.jsx","../../../common/foundation/resources/client/ui/library/overlays/floating-position.jsx","../../../common/foundation/resources/client/ui/library/overlays/popover-animation.jsx","../../../common/foundation/resources/client/ui/library/root-el.jsx","../../../common/foundation/resources/client/ui/library/tooltip/tooltip.jsx","../../../common/foundation/resources/client/ui/library/icons/material/KeyboardArrowDown.jsx","../../../common/foundation/resources/client/ui/library/settings/use-settings.jsx","../../../common/foundation/resources/client/ui/library/utils/dom/is-ssr.jsx","../../../common/foundation/resources/client/ui/library/themes/theme-selector-context.jsx","../../../common/foundation/resources/client/ui/library/utils/loaders/lazy-loader.jsx","../../../common/foundation/resources/client/ui/library/utils/number/clamp.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-number-formatter.jsx","../../../common/foundation/resources/client/ui/library/progress/progress-circle.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/use-media-query.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/is-mobile-media-query.jsx","../../../common/foundation/resources/client/ui/library/overlays/use-overlay-viewport.jsx","../../../common/foundation/resources/client/ui/library/overlays/popover.jsx","../../../common/foundation/resources/client/ui/library/animation/opacity-animation.jsx","../../../common/foundation/resources/client/ui/library/overlays/underlay.jsx","../../../common/foundation/resources/client/ui/library/overlays/tray.jsx","../../../common/foundation/resources/client/ui/library/overlays/modal.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/section.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/build-listbox-collection.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/use-listbox.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/listbox-context.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Check.jsx","../../../common/foundation/resources/client/ui/library/list/list-item-base.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/item.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/is-mobile-device.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/listbox.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/use-listbox-keyboard-navigation.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-collator.jsx","../../../common/foundation/resources/client/ui/library/forms/listbox/use-type-select.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Search.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/get-input-field-class-names.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/adornment.jsx","../../../common/foundation/resources/client/ui/library/utils/objects/remove-empty-values-from-object.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/field.jsx","../../../common/foundation/resources/client/ui/library/focus/use-auto-focus.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/use-field.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/text-field/text-field.jsx","../../../common/foundation/resources/client/ui/library/menu/menu-trigger.jsx","../../../common/foundation/resources/client/ui/library/menu/context-menu.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/use-callback-ref.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog-trigger.jsx","../../../common/foundation/resources/client/ui/library/icons/material/KeyboardArrowLeft.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/dialog-footer.jsx","../../../common/foundation/resources/client/seo/helmet.jsx","../../../common/foundation/resources/client/seo/static-page-title.jsx","../../../common/foundation/resources/client/ui/library/badge/badge.jsx","../../../common/foundation/resources/client/ui/library/list/list.jsx","../../../common/foundation/resources/client/ui/library/utils/files/pretty-bytes.jsx","../../../common/foundation/resources/client/ui/library/forms/combobox/combobox-end-adornment.jsx","../../../common/foundation/resources/client/ui/library/forms/select/select.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-date-formatter.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-date.jsx","../../../common/foundation/resources/client/ui/library/skeleton/skeleton.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Storage.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/input.jsx","../../../common/foundation/resources/client/ui/library/utils/date/start-of-day.jsx","../../../common/foundation/resources/client/ui/library/utils/date/end-of-day.jsx","../../../common/foundation/resources/client/ui/library/i18n/get-user-timezone.jsx","../../../common/foundation/resources/client/ui/library/i18n/use-current-date-time.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/dialog/date-range-presets.jsx","../../../common/foundation/resources/client/ui/library/icons/material/DateRange.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/date-picker-field.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/utils.jsx","../../../common/foundation/resources/client/ui/library/i18n/to-safe-zoned.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/use-base-date-picker-state.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/use-date-range-picker-state.jsx","../../../common/foundation/resources/client/ui/library/icons/material/ArrowRightAlt.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/utils/adjust-segment.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/utils/set-segment.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/utils/page-step.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/editable-date-segment.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/literal-segment.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/utils/get-segment-limits.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/segments/date-segment-list.jsx","../../../common/foundation/resources/client/ui/library/icons/material/KeyboardArrowRight.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/calendar/calendar-cell.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/calendar/calendar-month.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/calendar/calendar.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-date-time-range.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/dialog/date-range-preset-list.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/is-tablet-media-query.jsx","../../../common/foundation/resources/client/ui/library/forms/toggle/switch.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/dialog/date-range-compare-presets.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/dialog/date-range-compare-preset-list.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/dialog/date-range-dialog.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/date-range-picker.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-number.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Refresh.jsx","../../../common/foundation/resources/client/ui/library/icons/material/ArrowBack.jsx","../../../common/foundation/resources/client/ui/library/themes/utils/theme-value-to-hex.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-bytes.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Download.jsx","../../../common/foundation/resources/client/ui/library/icons/material/CloudUpload.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Security.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Share.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Speed.jsx","../../../common/foundation/resources/client/ui/library/icons/material/TrendingDown.jsx","../../../common/foundation/resources/client/ui/library/icons/material/TrendingFlat.jsx","../../../common/foundation/resources/client/ui/library/icons/material/TrendingUp.jsx","../../../common/foundation/resources/client/ui/library/card/card.jsx","../../../common/foundation/resources/client/ui/library/card/card-content.jsx","../../../common/foundation/resources/client/charts/chart-layout.jsx","../../../common/foundation/resources/client/charts/chart-loading-indicator.jsx","../../../common/foundation/resources/client/charts/base-chart.jsx","../../../common/foundation/resources/client/charts/data/format-report-data.jsx","../../../common/foundation/resources/client/charts/chart-colors.jsx","../../../common/foundation/resources/client/charts/line-chart.jsx","../../../common/foundation/resources/client/charts/bar-chart.jsx","../../../common/foundation/resources/client/charts/pie-chart.jsx","../../../common/foundation/resources/client/ui/library/card/card-header.jsx","../../../common/foundation/resources/client/ui/library/card/card-title.jsx","../../../resources/client/admin/analytics/transfer-analytics-page.jsx","../../../common/foundation/resources/client/admin/analytics/use-admin-report.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-duration.jsx","../../../common/foundation/resources/client/admin/analytics/admin-report-card-row.jsx","../../../common/foundation/resources/client/charts/polar-area-chart.jsx","../../../common/foundation/resources/client/admin/analytics/geo-chart/use-google-geo-chart.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/info-dialog-trigger/info-dialog-trigger-icon.jsx","../../../common/foundation/resources/client/ui/library/overlays/dialog/info-dialog-trigger/info-dialog-trigger.jsx","../../../common/foundation/resources/client/ui/library/i18n/formatted-country-name.jsx","../../../common/foundation/resources/client/admin/analytics/geo-chart/geo-chart.jsx","../../../common/foundation/resources/client/admin/analytics/visitors-report-charts.jsx","../../../common/foundation/resources/client/admin/analytics/report-date-selector.jsx","../../../common/foundation/resources/client/admin/analytics/admin-report-page.jsx"],"sourcesContent":["// store this in a separate file, to avoid importing query client and axios in pixie\n\nlet activeWorkspaceId = 0;\n\n// for access outside react\nexport function getActiveWorkspaceId() {\n  return activeWorkspaceId;\n}\nexport function setActiveWorkspaceId(id) {\n  activeWorkspaceId = id;\n}","export function isAbsoluteUrl(url) {\n  if (!url) return false;\n  return /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/.test(url);\n}","import axios from 'axios';\nexport function errorStatusIs(err, status) {\n  return axios.isAxiosError(err) && err.response?.status == status;\n}","import { QueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { getActiveWorkspaceId } from '../workspace/active-workspace-id';\nimport { isAbsoluteUrl } from '@ui/utils/urls/is-absolute-url';\nimport { errorStatusIs } from '@common/http/error-status-is';\nimport { getEchoSocketId } from '@common/http/get-echo-socket-id';\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 30000,\n      retry: (failureCount, err) => {\n        return !errorStatusIs(err, 401) && !errorStatusIs(err, 403) && !errorStatusIs(err, 404) && failureCount < 2;\n      }\n    }\n  }\n});\nexport const apiClient = axios.create();\napiClient.defaults.withCredentials = true;\napiClient.defaults.responseType = 'json';\n// @ts-ignore\napiClient.defaults.headers = {\n  common: {\n    Accept: 'application/json'\n  }\n};\nconst internalEndpoints = ['auth', 'secure', 'log-viewer', 'horizon'];\n// @ts-ignore\napiClient.interceptors.request.use(config => {\n  if (!internalEndpoints.some(endpoint => config.url?.startsWith(endpoint)) && !isAbsoluteUrl(config?.url)) {\n    config.url = `api/v1/${config.url}`;\n  }\n  const method = config.method?.toUpperCase();\n\n  // transform array query params in GET request to comma separated string\n  if (method === 'GET' && Array.isArray(config.params?.with)) {\n    config.params.with = config.params.with.join(',');\n  }\n  if (method === 'GET' && Array.isArray(config.params?.load)) {\n    config.params.load = config.params.load.join(',');\n  }\n  if (method === 'GET' && Array.isArray(config.params?.loadCount)) {\n    config.params.loadCount = config.params.loadCount.join(',');\n  }\n\n  // add workspace query parameter\n  const workspaceId = getActiveWorkspaceId();\n  if (workspaceId) {\n    const method = config.method?.toLowerCase();\n    if (['get', 'post', 'put'].includes(method) && config.params?.workspaceId == null) {\n      config.params = {\n        ...config.params,\n        workspaceId\n      };\n    }\n  }\n  const echoSocketId = getEchoSocketId();\n  if (echoSocketId) {\n    config.headers = {\n      ...config.headers,\n      // @ts-ignore\n      'X-Socket-ID': echoSocketId\n    };\n  }\n\n  // override PUT, DELETE, PATCH methods, they might not be supported on the backend\n  if (method === 'PUT' || method === 'DELETE' || method === 'PATCH') {\n    config.headers = {\n      ...config.headers,\n      'X-HTTP-Method-Override': method\n    };\n    config.method = 'POST';\n    config.params = {\n      ...config.params,\n      _method: method\n    };\n  }\n  if (import.meta.env.SSR) {\n    config.headers = {\n      ...config.headers,\n      referer: 'http://localhost'\n    };\n  }\n  return config;\n});","export function message(msg, props) {\n  return {\n    ...props,\n    message: msg\n  };\n}","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nexport const SvgIcon = forwardRef((props, ref) => {\n  const {\n    attr,\n    size,\n    title,\n    className,\n    color,\n    style,\n    children,\n    viewBox,\n    width,\n    height,\n    ...svgProps\n  } = props;\n  return <svg aria-hidden={!title} focusable={false} xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox || '0 0 24 24'} {...attr} {...svgProps} className={clsx('svg-icon', className, getSizeClassName(size))} style={{\n    color,\n    ...style\n  }} ref={ref} height={height || '1em'} width={width || '1em'}>\n        {title && <title>{title}</title>}\n        {children}\n      </svg>;\n});\nfunction getSizeClassName(size) {\n  switch (size) {\n    case '2xs':\n      return 'icon-2xs';\n    case 'xs':\n      return 'icon-xs';\n    case 'sm':\n      return 'icon-sm';\n    case 'md':\n      return 'icon-md';\n    case 'lg':\n      return 'icon-lg';\n    case 'xl':\n      return 'icon-xl';\n    default:\n      return size;\n  }\n}","import React from 'react';\nimport { SvgIcon } from '@ui/icons/svg-icon';\nexport function createSvgIcon(path, displayName = '', viewBox) {\n  const Component = (props, ref) => <SvgIcon data-testid={`${displayName}Icon`} ref={ref} viewBox={viewBox} {...props} size={props.size || 'md'}>\n    {path}\n  </SvgIcon>;\n  if (process.env.NODE_ENV !== 'production') {\n    // Need to set `displayName` on the inner component for React.memo.\n    // React prior to 16.14 ignores `displayName` on the wrapper.\n    Component.displayName = `${displayName}Icon`;\n  }\n  return React.memo(React.forwardRef(Component));\n}\nexport function createSvgIconFromTree(data, displayName = '') {\n  const path = treeToElement(data);\n  return createSvgIcon(path, displayName);\n}\nfunction treeToElement(tree) {\n  return tree?.map && tree.map((node, i) => {\n    return React.createElement(node.tag, {\n      key: i,\n      ...node.attr\n    }, treeToElement(node.child));\n  });\n}\nexport function elementToTree(el) {\n  const attributes = {};\n  const tree = {\n    tag: el.tagName,\n    attr: attributes\n  };\n  Array.from(el.attributes).forEach(attribute => {\n    attributes[attribute.name] = attribute.value;\n  });\n  if (el.children.length) {\n    tree.child = Array.from(el.children).map(child => elementToTree(child));\n  }\n  return tree;\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const PeopleIcon = createSvgIcon(<path d=\"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z\" />, 'PeopleOutlined');","export function getButtonSizeStyle(size, {\n  padding,\n  equalWidth,\n  variant\n} = {}) {\n  switch (size) {\n    case '2xs':\n      if (variant === 'link') return 'text-xs';\n      return `text-xs h-28 ${equalWidth ? 'w-28' : padding || 'px-12'}`;\n    case 'xs':\n      if (variant === 'link') return 'text-xs';\n      return `text-xs h-34 ${equalWidth ? 'w-34' : padding || 'px-16'}`;\n    case 'sm':\n      if (variant === 'link') return 'text-sm';\n      return `text-sm h-40 ${equalWidth ? 'w-40' : padding || 'px-20'}`;\n    case 'md':\n      if (variant === 'link') return 'text-base';\n      return `text-base h-48 ${equalWidth ? 'w-48' : padding || 'px-24'}`;\n    case 'lg':\n      if (variant === 'link') return 'text-lg';\n      return `text-base h-56 ${equalWidth ? 'w-56' : padding || 'px-28'}`;\n    case 'xl':\n      if (variant === 'link') return 'text-xl';\n      return `text-lg h-64 ${equalWidth ? 'w-64' : padding || 'px-36'}`;\n    default:\n      return size || '';\n  }\n}","export function getSharedButtonStyle(props) {\n  const {\n    variant,\n    shadow,\n    whitespace = 'whitespace-nowrap',\n    display = 'inline-flex'\n  } = props;\n  const variantProps = {\n    ...props,\n    border: props.border || 'border'\n  };\n  let style = [];\n  if (variant === 'outline') {\n    style = outline(variantProps);\n  } else if (variant === 'text') {\n    style = text(variantProps);\n  } else if (variant === 'flat' || variant === 'raised') {\n    style = contained(variantProps);\n  } else if (variant === 'link') {\n    style = link(variantProps);\n  }\n  return [...style, shadow || variant === 'raised' && 'shadow-md', whitespace, display, variant && 'align-middle flex-shrink-0 items-center transition-button duration-200', 'select-none appearance-none no-underline outline-none disabled:pointer-events-none disabled:cursor-default'];\n}\nfunction outline({\n  color,\n  border\n}) {\n  const disabled = 'disabled:text-disabled disabled:bg-transparent disabled:border-disabled-bg';\n  switch (color) {\n    case 'primary':\n      return [`text-primary bg-transparent ${border} border-primary/50`, 'hover:bg-primary/hover hover:border-primary', disabled];\n    case 'danger':\n      return [`text-danger bg-transparent ${border} border-danger/50`, 'hover:bg-danger/4 hover:border-danger', disabled];\n    case 'positive':\n      return [`text-positive bg-transparent ${border} border-positive/50`, 'hover:bg-positive/4 hover:border-positive', disabled];\n    case 'paper':\n      return [`text bg-paper ${border}`, 'hover:bg-hover', disabled];\n    case 'white':\n      return ['text-white bg-transparent border border-white', 'hover:bg-white/20', 'disabled:text-white/70 disabled:border-white/70 disabled:bg-transparent'];\n    default:\n      return [`bg-transparent ${border}`, 'hover:bg-hover', disabled];\n  }\n}\nfunction text({\n  color\n}) {\n  const disabled = 'disabled:text-disabled disabled:bg-transparent';\n  switch (color) {\n    case 'primary':\n      return ['text-primary bg-transparent border-transparent', 'hover:bg-primary/4', disabled];\n    case 'danger':\n      return ['text-danger bg-transparent border-transparent', 'hover:bg-danger/4', disabled];\n    case 'positive':\n      return ['text-positive bg-transparent border-transparent', 'hover:bg-positive/4', disabled];\n    case 'white':\n      return ['text-white bg-transparent border-transparent', 'hover:bg-white/20', 'disabled:text-white/70 disabled:bg-transparent'];\n    default:\n      return ['bg-transparent border-transparent', 'hover:bg-hover', disabled];\n  }\n}\nfunction link({\n  color\n}) {\n  switch (color) {\n    case 'primary':\n      return ['text-primary', 'hover:underline', 'disabled:text-disabled'];\n    case 'danger':\n      return ['text-danger', 'hover:underline', 'disabled:text-disabled'];\n    default:\n      return ['text-main', 'hover:underline', 'disabled:text-disabled'];\n  }\n}\nfunction contained({\n  color,\n  border\n}) {\n  const disabled = 'disabled:text-disabled disabled:bg-disabled disabled:border-transparent disabled:shadow-none';\n  switch (color) {\n    case 'primary':\n      return [`text-on-primary bg-primary ${border} border-primary`, 'hover:bg-primary-dark hover:border-primary-dark', disabled];\n    case 'danger':\n      return [`text-white bg-danger ${border} border-danger`, 'hover:bg-danger/90 hover:border-danger/90', disabled];\n    case 'chip':\n      return [`text-main bg-chip ${border} border-chip`, 'hover:bg-chip/90 hover:border-chip/90', disabled];\n    case 'paper':\n      return [`text-main bg-paper ${border} border-paper`, 'hover:bg-paper/90 hover:border-paper/90', disabled];\n    case 'white':\n      return [`text-black bg-white ${border} border-white`, 'hover:bg-white/90', disabled];\n    default:\n      return [`bg ${border} border-background`, 'hover:bg-hover', disabled];\n  }\n}","export function createEventHandler(handler) {\n  if (!handler) return handler;\n  return e => {\n    // ignore events bubbling up from portals\n    if (e.currentTarget.contains(e.target)) {\n      handler(e);\n    }\n  };\n}","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { getSharedButtonStyle } from './get-shared-button-style';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nexport const ButtonBase = forwardRef((props, ref) => {\n  const {\n    children,\n    color = null,\n    variant,\n    radius,\n    shadow,\n    whitespace,\n    justify = 'justify-center',\n    className,\n    href,\n    form,\n    border,\n    elementType,\n    to,\n    state,\n    relative,\n    replace,\n    end,\n    display,\n    type = 'button',\n    onClick,\n    onPointerDown,\n    onPointerUp,\n    onKeyDown,\n    ...domProps\n  } = props;\n  const Element = elementType || (href ? 'a' : 'button');\n  const isLink = Element === 'a';\n  return <Element ref={ref} form={isLink ? undefined : form} href={href} to={to} state={state} relative={relative} type={isLink ? undefined : type} replace={replace} end={end} onPointerDown={createEventHandler(onPointerDown)} onPointerUp={createEventHandler(onPointerUp)} onClick={createEventHandler(onClick)} onKeyDown={createEventHandler(onKeyDown)} className={clsx('focus-visible:ring', getSharedButtonStyle({\n    variant,\n    color,\n    border,\n    whitespace,\n    display,\n    shadow\n  }), radius, justify, className)} {...domProps}>\n    {children}\n  </Element>;\n});","import React from 'react';\nimport clsx from 'clsx';\nimport { getButtonSizeStyle } from './button-size';\nimport { ButtonBase } from './button-base';\nexport const Button = React.forwardRef(({\n  children,\n  startIcon,\n  endIcon,\n  size = 'sm',\n  sizeClassName,\n  className,\n  equalWidth = false,\n  radius = 'rounded-button',\n  variant = 'text',\n  disabled,\n  elementType,\n  to,\n  replace,\n  href,\n  download,\n  ...other\n}, ref) => {\n  const mergedClassName = clsx('font-semibold', sizeClassName || getButtonSizeStyle(size, {\n    equalWidth,\n    variant\n  }), className);\n  return <ButtonBase className={mergedClassName} ref={ref} radius={radius} variant={variant} disabled={disabled} to={disabled ? undefined : to} href={disabled ? undefined : href} download={disabled ? undefined : download} elementType={disabled ? undefined : elementType} replace={disabled ? undefined : replace} {...other}>\n        {startIcon && <InlineIcon position=\"start\" icon={startIcon} size={size} />}\n        {children}\n        {endIcon && <InlineIcon position=\"end\" icon={endIcon} size={size} />}\n      </ButtonBase>;\n});\nfunction InlineIcon({\n  icon,\n  position,\n  size\n}) {\n  const className = clsx('m-auto', {\n    '-ml-4 mr-8': position === 'start',\n    '-mr-4 ml-8': position === 'end'\n  }, icon.props.className);\n  // don't override size, if it was explicitly set on the icon\n  return React.cloneElement(icon, {\n    className,\n    size: icon.props.size ?? size\n  });\n}","export function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  if (!objA || !objB) {\n    return false;\n  }\n  const aKeys = Object.keys(objA);\n  const bKeys = Object.keys(objB);\n  const len = aKeys.length;\n  if (bKeys.length !== len) {\n    return false;\n  }\n  for (let i = 0; i < len; i++) {\n    const key = aKeys[i];\n    if (objA[key] !== objB[key] || !Object.prototype.hasOwnProperty.call(objB, key)) {\n      return false;\n    }\n  }\n  return true;\n}","import { create } from 'zustand';\nexport const useBootstrapDataStore = create()(set => ({\n  // set bootstrap data that was provided with initial request from backend\n  data: typeof window !== 'undefined' && window.bootstrapData ? decodeBootstrapData(window.bootstrapData) : null,\n  setData: data => {\n    const decodedData = typeof data === 'string' ? decodeBootstrapData(data) : data;\n    set({\n      data: decodedData\n    });\n  },\n  mergeData: partial => {\n    set(state => ({\n      data: {\n        ...state.data,\n        ...partial\n      }\n    }));\n  }\n}));\nexport const getBootstrapData = () => useBootstrapDataStore.getState().data;\nexport const setBootstrapData = useBootstrapDataStore.getState().setData;\nexport const mergeBootstrapData = useBootstrapDataStore.getState().mergeData;\nexport function decodeBootstrapData(data) {\n  return typeof data === 'string' ? JSON.parse(data) : data;\n}","import { useBootstrapDataStore } from '@ui/bootstrap-data/bootstrap-data-store';\nexport function useSelectedLocale() {\n  const data = useBootstrapDataStore(s => s.data);\n  return {\n    locale: data?.i18n,\n    localeCode: data?.i18n?.language || 'en',\n    lines: data?.i18n?.lines\n  };\n}","import { useMemo } from 'react';\nimport { getLocalTimeZone } from '@internationalized/date';\nimport { useBootstrapDataStore } from '@ui/bootstrap-data/bootstrap-data-store';\nexport function useUserTimezone() {\n  const {\n    user,\n    settings\n  } = useBootstrapDataStore(s => s.data);\n  const defaultTimezone = settings.dates.default_timezone;\n  const preferredTimezone = user?.timezone || defaultTimezone || 'auto';\n  return useMemo(() => {\n    return !preferredTimezone || preferredTimezone === 'auto' ? getLocalTimeZone() : preferredTimezone;\n  }, [preferredTimezone]);\n}","import memoize from 'nano-memoize';\n// this will get memoized by enclosing function (<Trans> or useTrans)\nexport function handlePluralMessage(localeCode, {\n  message,\n  values\n}) {\n  // find plural config e.g. [one 1 item|other :count items]\n  const match = message.match(/\\[(.+?)]/);\n  const count = values?.count;\n  if (match && match[1] && !Number.isNaN(count)) {\n    // get config without brackets and split by pipe e.g. [one 1 item, other :count items]\n    const [pluralPlaceholder, pluralConfig] = match;\n    const choices = pluralConfig.split('|');\n    if (!choices.length) return message;\n\n    // use Intl.PluralRules to determine which choice to use, based on special \"count\" value\n    const rules = getRules(localeCode);\n    const choiceName = rules.select(count);\n\n    // find the correct choice from config, or use first one\n    let choiceConfig = choices.find(c => {\n      return c.startsWith(choiceName);\n    });\n    if (!choiceConfig) {\n      choiceConfig = choices[0];\n    }\n\n    // get rid of plural prefix e.g. one 1 item => 1 item\n    const choice = choiceConfig.substring(choiceConfig.indexOf(' ') + 1);\n    return message.replace(pluralPlaceholder, choice);\n  }\n  return message;\n}\nconst getRules = memoize(localeCode => {\n  return new Intl.PluralRules(localeCode);\n});","import { cloneElement, Fragment, isValidElement, memo } from 'react';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { handlePluralMessage } from '@ui/i18n/handle-plural-message';\nfunction hasOwn(obj, key) {\n  if (obj == null) {\n    return false;\n  }\n  if (Object.hasOwn !== undefined) {\n    return Object.hasOwn(obj, key);\n  }\n  return Object.hasOwnProperty(key);\n}\nexport const Trans = memo(props => {\n  const {\n    message: initialMessage,\n    values\n  } = props;\n  const {\n    lines,\n    localeCode\n  } = useSelectedLocale();\n  let translatedMessage;\n  if (hasOwn(lines, initialMessage)) {\n    translatedMessage = lines?.[initialMessage];\n  } else if (hasOwn(lines, initialMessage?.toLowerCase())) {\n    translatedMessage = lines?.[initialMessage?.toLowerCase()];\n  } else {\n    translatedMessage = initialMessage;\n  }\n  if (!values || !translatedMessage) {\n    return <Fragment>{translatedMessage}</Fragment>;\n  }\n  translatedMessage = handlePluralMessage(localeCode, {\n    message: translatedMessage,\n    values\n  });\n\n  // placeholders that need to be replaced with react element, eg. <Icon/>\n  const nodePlaceholders = [];\n  // placeholders that need to be replaced with render fn, eg. <a>link text</a>\n  const tagNames = [];\n  Object.entries(values).forEach(([key, value]) => {\n    // value is react render function\n    if (typeof value === 'function') {\n      tagNames.push(key);\n      // value is react element\n    } else if (isValidElement(value)) {\n      nodePlaceholders.push(key);\n      // value is primitive, can do simple string replace\n    } else if (value != undefined) {\n      translatedMessage = translatedMessage?.replace(`:${key}`, `${value}`);\n    }\n  });\n\n  // if we need to replace placeholder with react element or render fn, we will need to split the\n  // string by these placeholders and replace static string values with matching react element value\n  if (tagNames.length || nodePlaceholders.length) {\n    // we'll build simple OR regex to split the string eg. (<[ab]>content</[ab]>)|({(?:icon|link)})\n    const regexArray = [];\n    if (tagNames.length) {\n      const tagNameMatchers = tagNames.join('');\n      regexArray.push(`(<[${tagNameMatchers}]>.+?<\\\\/[${tagNameMatchers}]>)`);\n    }\n    if (nodePlaceholders.length) {\n      const nodePlaceholderMatchers = nodePlaceholders.join('|');\n      regexArray.push(`(\\:(?:${nodePlaceholderMatchers}))`);\n    }\n    const regex = new RegExp(regexArray.join('|'), 'gm');\n    const parts = translatedMessage.split(regex);\n\n    // get rid of any empty strings or undefined from split by regex\n    const compiledMessage = parts.filter(Boolean).map((part, i) => {\n      // it's a tag name placeholder, eg. <a>content</a>\n      if (part.startsWith('<') && part.endsWith('>')) {\n        // grab tag content\n        const matches = part.match(/<([a-z]+)>(.+?)<\\/([a-z]+)>/);\n        if (matches) {\n          const [, tagName, content] = matches;\n          const renderFn = values?.[tagName];\n          if (typeof renderFn === 'function') {\n            // pass it to render fn from values\n            const node = renderFn(content);\n            // add a key to avoid react errors\n            return cloneElement(node, {\n              key: i\n            });\n          }\n        }\n      }\n\n      // it's a regular placeholder with react element value, eg. {icon}\n      if (part.startsWith(':')) {\n        const key = part.replace(':', '');\n        const node = values?.[key];\n        if (isValidElement(node)) {\n          return cloneElement(node, {\n            key: i\n          });\n        }\n      }\n\n      // it's a regular string\n      return part;\n    });\n    return <Fragment>{compiledMessage}</Fragment>;\n  }\n  return <Fragment>{translatedMessage}</Fragment>;\n}, areEqual);\nexport function areEqual(prevProps, nextProps) {\n  const {\n    values,\n    ...otherProps\n  } = prevProps;\n  const {\n    values: nextValues,\n    ...nextOtherProps\n  } = nextProps;\n  return shallowEqual(nextValues, values) && shallowEqual(otherProps, nextOtherProps);\n}","import React, { useContext } from 'react';\nexport const DialogContext = React.createContext(null);\nexport function useDialogContext() {\n  return useContext(DialogContext);\n}","import { useCallback } from 'react';\nimport memoize from 'nano-memoize';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { handlePluralMessage } from '@ui/i18n/handle-plural-message';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nexport function useTrans() {\n  const {\n    lines,\n    localeCode\n  } = useSelectedLocale();\n  const trans = useCallback(props => {\n    return translate({\n      ...props,\n      lines,\n      localeCode\n    });\n  }, [lines, localeCode]);\n  return {\n    trans\n  };\n}\nconst translate = memoize(props => {\n  let {\n    lines,\n    message,\n    values,\n    localeCode\n  } = props;\n  if (message == null) {\n    return '';\n  }\n  message = lines?.[message] || lines?.[message.toLowerCase()] || message;\n  if (!values) {\n    return message;\n  }\n  message = handlePluralMessage(localeCode, props);\n  Object.entries(values).forEach(([key, value]) => {\n    message = message.replace(`:${key}`, `${value}`);\n  });\n  return message;\n}, {\n  equals: shallowEqual,\n  callTimeout: 0\n});","import React from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { message } from '@ui/i18n/message';\nexport function DismissButton({\n  onDismiss\n}) {\n  const {\n    trans\n  } = useTrans();\n  const onClick = () => {\n    if (onDismiss) {\n      onDismiss();\n    }\n  };\n  return <button className=\"sr-only\" aria-label={trans(message('Dismiss'))} tabIndex={-1} onClick={onClick} />;\n}","import React, { Children, cloneElement, isValidElement, useContext } from 'react';\nimport clsx from 'clsx';\nimport { mergeProps } from '@react-aria/utils';\nimport { DialogContext } from './dialog-context';\nimport { DismissButton } from './dismiss-button';\nexport function Dialog(props) {\n  const {\n    type = 'modal',\n    dialogProps,\n    ...contextProps\n  } = useContext(DialogContext);\n  const {\n    children,\n    className,\n    size = 'md',\n    background,\n    radius = 'rounded-lg',\n    maxWidth = 'max-w-dialog',\n    maxHeight = 'max-h-dialog',\n    shadow = 'shadow-2xl',\n    ...domProps\n  } = props;\n\n  // If rendered in a popover or tray there won't be a visible dismiss button,\n  // so we render a hidden one for screen readers.\n  let dismissButton = null;\n  if (type === 'popover' || type === 'tray') {\n    dismissButton = <DismissButton onDismiss={contextProps.close} />;\n  }\n  const isTrayOrFullScreen = size === 'fullscreenTakeover' || type === 'tray';\n  const mergedClassName = clsx('mx-auto pointer-events-auto outline-none flex flex-col overflow-hidden', background || 'bg', type !== 'tray' && sizeStyle(size), type === 'tray' && 'rounded-t border-b-bg', size !== 'fullscreenTakeover' && `${shadow} border ${maxHeight}`, !isTrayOrFullScreen && `${radius} ${maxWidth}`, className);\n  return <div {...mergeProps({\n    role: 'dialog',\n    tabIndex: -1\n  }, dialogProps, domProps)} style={{\n    ...props.style,\n    '--be-dialog-padding': '24px'\n  }} aria-modal className={mergedClassName}>\n      {Children.toArray(children).map(child => {\n      if (isValidElement(child)) {\n        return cloneElement(child, {\n          size: child.props.size ?? size\n        });\n      }\n      return child;\n    })}\n      {dismissButton}\n    </div>;\n}\nfunction sizeStyle(dialogSize) {\n  switch (dialogSize) {\n    case '2xs':\n      return 'w-256';\n    case 'xs':\n      return 'w-320';\n    case 'sm':\n      return 'w-384';\n    case 'md':\n      return 'w-440';\n    case 'lg':\n      return 'w-620';\n    case 'xl':\n      return 'w-780';\n    case '2xl':\n      return 'w-850';\n    case 'fullscreen':\n      return 'w-1280';\n    case 'fullscreenTakeover':\n      return 'w-full h-full';\n    default:\n      return dialogSize;\n  }\n}","import React, { cloneElement, forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { getButtonSizeStyle } from './button-size';\nimport { ButtonBase } from './button-base';\nexport const IconButton = forwardRef(({\n  children,\n  size = 'md',\n  // only set icon size based on button size if \"ButtonSize\" is passed in and not custom className\n  iconSize = size && size.length <= 3 ? size : 'md',\n  variant = 'text',\n  radius = 'rounded-button',\n  className,\n  padding,\n  equalWidth = true,\n  badge,\n  ...other\n}, ref) => {\n  const mergedClassName = clsx(getButtonSizeStyle(size, {\n    padding,\n    equalWidth,\n    variant\n  }), className, badge && 'relative');\n  return <ButtonBase {...other} ref={ref} radius={radius} variant={variant} className={mergedClassName}>\n    {cloneElement(children, {\n      size: iconSize\n    })}\n    {badge}\n  </ButtonBase>;\n});","import { createSvgIcon } from '../create-svg-icon';\nexport const CloseIcon = createSvgIcon(<path d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />, 'CloseOutlined');","import React, { useContext } from 'react';\nimport clsx from 'clsx';\nimport { DialogContext } from './dialog-context';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { CloseIcon } from '@ui/icons/material/Close';\nexport function DialogHeader(props) {\n  const {\n    children,\n    className,\n    color,\n    onDismiss,\n    leftAdornment,\n    rightAdornment,\n    hideDismissButton = false,\n    size,\n    showDivider,\n    justify = 'justify-between',\n    titleFontWeight = 'font-semibold',\n    titleTextSize = size === 'xs' ? 'text-xs' : 'text-sm',\n    closeButtonSize = size === 'xs' ? 'xs' : 'sm',\n    actions,\n    closeButtonIcon\n  } = props;\n  const {\n    labelId,\n    isDismissable,\n    close\n  } = useContext(DialogContext);\n  return <div className={clsx(className, 'flex flex-shrink-0 items-center gap-5', titleFontWeight, showDivider && 'border-b', getPadding(props), color || 'text-main', justify)}>\n      {leftAdornment}\n      <h3 id={labelId} className={clsx(titleTextSize, 'mr-auto leading-5 opacity-90')}>\n        {children}\n      </h3>\n      {rightAdornment}\n      {actions}\n      {isDismissable && !hideDismissButton && <IconButton aria-label=\"Dismiss\" onClick={() => {\n      if (onDismiss) {\n        onDismiss();\n      } else {\n        close();\n      }\n    }} size={closeButtonSize} className={clsx('-mr-8 text-muted', rightAdornment && 'sr-only')}>\n          {closeButtonIcon || <CloseIcon />}\n        </IconButton>}\n    </div>;\n}\nfunction getPadding({\n  size,\n  padding\n}) {\n  if (padding) {\n    return padding;\n  }\n  switch (size) {\n    case '2xs':\n    case 'xs':\n      return 'px-2 py-4';\n    case 'sm':\n      return 'px-2 py-4';\n    default:\n      return 'px-8 py-6';\n  }\n}","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nexport const DialogBody = forwardRef((props, ref) => {\n  const {\n    children,\n    className,\n    padding,\n    size,\n    ...domProps\n  } = props;\n  return <div {...domProps} ref={ref} className={clsx(className, getPadding(props), 'overflow-y-auto overflow-x-hidden overscroll-contain text-sm flex-auto')}>\n        {children}\n      </div>;\n});\nfunction getPadding({\n  size,\n  padding\n}) {\n  if (padding) {\n    return padding;\n  }\n  switch (size) {\n    case 'xs':\n      return 'p-14';\n    case 'sm':\n      return 'p-18';\n    default:\n      return 'px-4 py-4';\n  }\n}","import { arrow, autoUpdate, flip, offset as offsetMiddleware, shift, size, useFloating } from '@floating-ui/react-dom';\nimport { useMemo, useRef } from 'react';\nimport { mergeRefs } from 'react-merge-refs';\nexport function useFloatingPosition({\n  floatingWidth,\n  ref,\n  disablePositioning = false,\n  placement = 'bottom',\n  offset = 2,\n  showArrow = false,\n  maxHeight,\n  shiftMainAxis = true,\n  shiftCrossAxis = true,\n  fallbackPlacements\n}) {\n  const arrowRef = useRef(null);\n  const floatingConfig = {\n    placement,\n    strategy: 'fixed'\n  };\n  if (!disablePositioning) {\n    floatingConfig.whileElementsMounted = autoUpdate;\n    floatingConfig.middleware = [offsetMiddleware(offset), shift({\n      padding: 16,\n      crossAxis: shiftCrossAxis,\n      mainAxis: shiftMainAxis\n    }), flip({\n      padding: 16,\n      fallbackPlacements\n    }), size({\n      apply({\n        rects,\n        availableHeight,\n        availableWidth,\n        elements\n      }) {\n        if (floatingWidth === 'matchTrigger' && maxHeight != null) {\n          Object.assign(elements.floating.style, {\n            width: `${rects.reference.width}px`,\n            maxWidth: `${availableWidth}`,\n            maxHeight: `${Math.min(availableHeight, maxHeight)}px`\n          });\n        } else if (maxHeight != null) {\n          Object.assign(elements.floating.style, {\n            maxHeight: `${Math.min(availableHeight, maxHeight)}px`\n          });\n        }\n      },\n      padding: 16\n    })];\n    if (showArrow) {\n      floatingConfig.middleware.push(arrow({\n        element: arrowRef\n      }));\n    }\n  }\n  const floatingProps = useFloating(floatingConfig);\n  const mergedReferenceRef = useMemo(() => mergeRefs([ref, floatingProps.refs.setReference]), [floatingProps.refs.setReference, ref]);\n  const {\n    x: arrowX,\n    y: arrowY\n  } = floatingProps.middlewareData.arrow || {};\n  const staticSide = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right'\n  }[floatingProps.placement.split('-')[0]];\n  const arrowStyle = {\n    left: arrowX,\n    top: arrowY,\n    right: '',\n    bottom: '',\n    [staticSide]: '-4px'\n  };\n  return {\n    ...floatingProps,\n    reference: mergedReferenceRef,\n    arrowRef,\n    arrowStyle\n  };\n}","export const PopoverAnimation = {\n  initial: {\n    opacity: 0,\n    y: 5\n  },\n  animate: {\n    opacity: 1,\n    y: 0\n  },\n  exit: {\n    opacity: 0,\n    y: 5\n  },\n  transition: {\n    type: 'tween',\n    duration: 0.125\n  }\n};","export let rootEl = typeof document !== 'undefined' ? document.getElementById('root') ?? document.body : undefined;\nexport let themeEl = typeof document !== 'undefined' ? document.documentElement : undefined;\nexport let dialogEl = rootEl;\nexport function setDialogEl(el) {\n  dialogEl = el;\n}\nexport function setRootEl(el) {\n  rootEl = el;\n  themeEl = el;\n}","import { cloneElement, forwardRef, Fragment, useCallback, useEffect, useId, useRef, useState } from 'react';\nimport { AnimatePresence, m } from 'framer-motion';\nimport clsx from 'clsx';\nimport { createPortal } from 'react-dom';\nimport { mergeProps } from '@react-aria/utils';\nimport { useFloatingPosition } from '@ui/overlays/floating-position';\nimport { PopoverAnimation } from '@ui/overlays/popover-animation';\nimport { rootEl } from '@ui/root-el';\nconst TOOLTIP_COOLDOWN = 500;\nconst tooltips = {};\nlet globalWarmedUp = false;\nlet globalWarmUpTimeout = null;\nlet globalCooldownTimeout = null;\nconst closeOpenTooltips = tooltipId => {\n  for (const hideTooltipId in tooltips) {\n    if (hideTooltipId !== tooltipId) {\n      tooltips[hideTooltipId]?.(true);\n      delete tooltips[hideTooltipId];\n    }\n  }\n};\nexport const Tooltip = forwardRef(({\n  children,\n  label,\n  placement = 'top',\n  offset = 10,\n  variant = 'neutral',\n  delay = 1500,\n  isDisabled,\n  usePortal = true,\n  ...domProps\n}, ref) => {\n  const {\n    x,\n    y,\n    reference,\n    strategy,\n    arrowRef,\n    arrowStyle,\n    refs\n  } = useFloatingPosition({\n    placement,\n    offset,\n    ref,\n    showArrow: true\n  });\n  const [isOpen, setIsOpen] = useState(false);\n  const tooltipId = useId();\n  const closeTimeout = useRef();\n  const showTooltip = () => {\n    clearTimeout(closeTimeout.current);\n    closeTimeout.current = undefined;\n    closeOpenTooltips(tooltipId);\n    tooltips[tooltipId] = hideTooltip;\n    globalWarmedUp = true;\n    setIsOpen(true);\n    if (globalWarmUpTimeout) {\n      clearTimeout(globalWarmUpTimeout);\n      globalWarmUpTimeout = null;\n    }\n    if (globalCooldownTimeout) {\n      clearTimeout(globalCooldownTimeout);\n      globalCooldownTimeout = null;\n    }\n  };\n  const hideTooltip = useCallback(immediate => {\n    if (immediate) {\n      clearTimeout(closeTimeout.current);\n      closeTimeout.current = undefined;\n      setIsOpen(false);\n    } else if (!closeTimeout.current) {\n      closeTimeout.current = setTimeout(() => {\n        closeTimeout.current = undefined;\n        setIsOpen(false);\n      }, TOOLTIP_COOLDOWN);\n    }\n    if (globalWarmUpTimeout) {\n      clearTimeout(globalWarmUpTimeout);\n      globalWarmUpTimeout = null;\n    }\n    if (globalWarmedUp) {\n      if (globalCooldownTimeout) {\n        clearTimeout(globalCooldownTimeout);\n      }\n      globalCooldownTimeout = setTimeout(() => {\n        delete tooltips[tooltipId];\n        globalCooldownTimeout = null;\n        globalWarmedUp = false;\n      }, TOOLTIP_COOLDOWN);\n    }\n  }, [tooltipId]);\n  const warmupTooltip = () => {\n    closeOpenTooltips(tooltipId);\n    tooltips[tooltipId] = hideTooltip;\n    if (!isOpen && !globalWarmUpTimeout && !globalWarmedUp) {\n      globalWarmUpTimeout = setTimeout(() => {\n        globalWarmUpTimeout = null;\n        globalWarmedUp = true;\n        showTooltip();\n      }, delay);\n    } else if (!isOpen) {\n      showTooltip();\n    }\n  };\n  const showTooltipWithWarmup = immediate => {\n    if (!immediate && delay > 0 && !closeTimeout.current) {\n      warmupTooltip();\n    } else {\n      showTooltip();\n    }\n  };\n\n  // close on unmount\n  useEffect(() => {\n    return () => {\n      clearTimeout(closeTimeout.current);\n      const tooltip = tooltips[tooltipId];\n      if (tooltip) {\n        delete tooltips[tooltipId];\n      }\n    };\n  }, [tooltipId]);\n\n  // close on \"escape\" key press\n  useEffect(() => {\n    const onKeyDown = e => {\n      if (e.key === 'Escape') {\n        hideTooltip(true);\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('keydown', onKeyDown, true);\n      return () => {\n        document.removeEventListener('keydown', onKeyDown, true);\n      };\n    }\n  }, [isOpen, hideTooltip]);\n  const tooltipContent = <AnimatePresence>\n        {isOpen && <m.div {...PopoverAnimation} ref={refs.setFloating} id={tooltipId} role=\"tooltip\" onPointerEnter={() => {\n      showTooltipWithWarmup(true);\n    }} onPointerLeave={() => {\n      hideTooltip();\n    }} className={clsx('z-tooltip my-4 max-w-240 break-words rounded px-8 py-4 text-xs text-white shadow', variant === 'positive' && 'bg-positive', variant === 'danger' && 'bg-danger', variant === 'neutral' && 'bg-toast')} style={{\n      position: strategy,\n      top: y ?? '',\n      left: x ?? ''\n    }}>\n            <div ref={arrowRef} className=\"absolute h-8 w-8 rotate-45 bg-inherit\" style={arrowStyle} />\n            {label}\n          </m.div>}\n      </AnimatePresence>;\n  return <Fragment>\n        {cloneElement(children,\n    // pass dom props down to child element, in case tooltip is wrapped in menu trigger\n    mergeProps({\n      'aria-describedby': isOpen ? tooltipId : undefined,\n      ref: reference,\n      onPointerEnter: e => {\n        if (e.pointerType === 'mouse') {\n          showTooltipWithWarmup();\n        }\n      },\n      onFocus: e => {\n        if (e.target.matches(':focus-visible')) {\n          showTooltipWithWarmup(true);\n        }\n      },\n      onPointerLeave: e => {\n        if (e.pointerType === 'mouse') {\n          hideTooltip();\n        }\n      },\n      onPointerDown: () => {\n        hideTooltip(true);\n      },\n      onBlur: () => {\n        hideTooltip();\n      },\n      'aria-label': typeof label === 'string' ? label : label.props.message\n    }, domProps))}\n        {usePortal ? rootEl && createPortal(tooltipContent, rootEl) : tooltipContent}\n      </Fragment>;\n});","import { createSvgIcon } from '../create-svg-icon';\nexport const KeyboardArrowDownIcon = createSvgIcon(<path d=\"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\" />, 'KeyboardArrowDownOutlined');","import { useBootstrapDataStore } from '@ui/bootstrap-data/bootstrap-data-store';\nexport function useSettings() {\n  return useBootstrapDataStore(s => s.data.settings);\n}","export function isSsr() {\n  return import.meta.env.SSR;\n}","import { createContext, useContext } from 'react';\nexport const ThemeSelectorContext = createContext(null);\nexport function useThemeSelector() {\n  return useContext(ThemeSelectorContext);\n}","import { isAbsoluteUrl } from '@ui/utils/urls/is-absolute-url';\nclass LazyLoader {\n  loadedAssets = {};\n  loadAsset(url, params = {\n    type: 'js'\n  }) {\n    // current protocol\n    url = url.startsWith('//') ? `${window.location.protocol}${url}` : url;\n    const currentState = this.loadedAssets[url]?.state;\n\n    // script is already loaded, return resolved promise\n    if (currentState === 'loaded' && !params.force) {\n      return new Promise(resolve => resolve());\n    }\n    const neverLoaded = !currentState || this.loadedAssets[url].doc !== params.document;\n    // script has never been loaded before, load it, return promise and resolve on script load event\n    if (neverLoaded || params.force && currentState === 'loaded') {\n      this.loadedAssets[url] = {\n        state: new Promise(resolve => {\n          const finalUrl = isAbsoluteUrl(url) ? url : `assets/${url}`;\n          const finalId = buildId(url, params.id);\n          const assetOptions = {\n            url: finalUrl,\n            id: finalId,\n            resolve,\n            parentEl: params.parentEl,\n            document: params.document\n          };\n          if (params.type === 'css') {\n            this.loadStyleAsset(assetOptions);\n          } else {\n            this.loadScriptAsset(assetOptions);\n          }\n        }),\n        doc: params.document\n      };\n      return this.loadedAssets[url].state;\n    }\n\n    // script is still loading, return existing promise\n    return this.loadedAssets[url].state;\n  }\n\n  /**\n   * Check whether asset is loading or has already loaded.\n   */\n  isLoadingOrLoaded(url) {\n    return this.loadedAssets[url] != null;\n  }\n  loadStyleAsset(options) {\n    const doc = options.document || document;\n    const parentEl = options.parentEl || doc.head;\n    const style = doc.createElement('link');\n    const prefixedId = buildId(options.url, options.id);\n    style.rel = 'stylesheet';\n    style.id = prefixedId;\n    style.href = options.url;\n    try {\n      if (parentEl.querySelector(`#${prefixedId}`)) {\n        parentEl.querySelector(`#${prefixedId}`)?.remove();\n      }\n    } catch (e) {}\n    style.onload = () => {\n      this.loadedAssets[options.url].state = 'loaded';\n      options.resolve();\n    };\n    parentEl.appendChild(style);\n  }\n  loadScriptAsset(options) {\n    const doc = options.document || document;\n    const parentEl = options.parentEl || doc.body;\n    const script = doc.createElement('script');\n    const prefixedId = buildId(options.url, options.id);\n    script.async = true;\n    script.id = prefixedId;\n    script.src = options.url;\n    try {\n      if (parentEl.querySelector(`#${prefixedId}`)) {\n        parentEl.querySelector(`#${prefixedId}`)?.remove();\n      }\n    } catch (e) {}\n    script.onload = () => {\n      this.loadedAssets[options.url].state = 'loaded';\n      options.resolve();\n    };\n    (parentEl || parentEl).appendChild(script);\n  }\n}\nfunction buildId(url, id) {\n  if (id) return id;\n  return btoa(url.split('/').pop());\n}\nexport default new LazyLoader();","export function clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}","import { NumberFormatter } from '@internationalized/number';\nimport { useMemo } from 'react';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nexport function useNumberFormatter(options = {}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  return useMemo(() => new NumberFormatter(localeCode, options), [localeCode, options]);\n}","import React from 'react';\nimport clsx from 'clsx';\nimport { clamp } from '@ui/utils/number/clamp';\nimport { useNumberFormatter } from '@ui/i18n/use-number-formatter';\nexport const ProgressCircle = React.forwardRef((props, ref) => {\n  let {\n    value = 0,\n    minValue = 0,\n    maxValue = 100,\n    size = 'md',\n    isIndeterminate = false,\n    className,\n    position = 'relative',\n    trackColor,\n    fillColor = 'border-primary',\n    trackWidth = 3,\n    ...domProps\n  } = props;\n  value = clamp(value, minValue, maxValue);\n  const strokeWidth = trackWidth;\n  const radius = 16 - strokeWidth;\n  const circumference = 2 * radius * Math.PI;\n  const percentage = isIndeterminate ? 0.25 : (value - minValue) / (maxValue - minValue);\n  const formatter = useNumberFormatter({\n    style: 'percent'\n  });\n  const offset = circumference - percentage * circumference;\n  let valueLabel = '';\n  if (!isIndeterminate && !valueLabel) {\n    valueLabel = formatter.format(percentage);\n  }\n  return <div {...domProps} aria-valuenow={isIndeterminate ? undefined : value} aria-valuemin={minValue} aria-valuemax={maxValue} aria-valuetext={isIndeterminate ? undefined : valueLabel} role=\"progressbar\" ref={ref} className={clsx(position, getCircleStyle(size), className)}>\n      <svg viewBox=\"0 0 32 32\" fill=\"none\" strokeWidth={strokeWidth} className={clsx('progress-circle h-full w-full', isIndeterminate && 'indeterminate')}>\n        <circle cx=\"50%\" cy=\"50%\" r={radius} role=\"presentation\" strokeDasharray={`${circumference} ${circumference}`} strokeDashoffset=\"0\" transform=\"rotate(-90 16 16)\" className=\"progress-circle-track\" />\n        <circle cx=\"50%\" cy=\"50%\" r={radius} role=\"presentation\" strokeDasharray={`${circumference} ${circumference}`} strokeDashoffset={offset} transform=\"rotate(-90 16 16)\" className=\"progress-circle-fill\" />\n      </svg>\n    </div>;\n});\nfunction getCircleStyle(size) {\n  switch (size) {\n    case 'xs':\n      return 'w-18 h-18';\n    case 'sm':\n      return 'w-32 h-32';\n    case 'md':\n      return 'w-40 h-40';\n    case 'lg':\n      return 'w-48 h-48';\n    default:\n      return size;\n  }\n}","import { useEffect, useState } from 'react';\nexport function useMediaQuery(query, {\n  noSSR\n} = {\n  noSSR: true\n}) {\n  const supportsMatchMedia = typeof window !== 'undefined' && typeof window.matchMedia === 'function';\n  const [matches, setMatches] = useState(noSSR ? () => supportsMatchMedia ? window.matchMedia(query).matches : false : null);\n  useEffect(() => {\n    if (!supportsMatchMedia) {\n      return;\n    }\n    const mq = window.matchMedia(query);\n    const onChange = () => {\n      setMatches(mq.matches);\n    };\n    mq.addEventListener('change', onChange);\n    if (!noSSR) {\n      onChange();\n    }\n    return () => {\n      mq.removeEventListener('change', onChange);\n    };\n  }, [supportsMatchMedia, query, noSSR]);\n\n  // If in SSR, the media query should never match. Once the page hydrates,\n  // this will update and the real value will be returned.\n  return typeof window === 'undefined' ? null : matches;\n}","import { useMediaQuery } from '@ui/utils/hooks/use-media-query';\nexport function useIsMobileMediaQuery(options) {\n  return useMediaQuery('(max-width: 768px)', options);\n}","import { useViewportSize } from '@react-aria/utils';\nexport function useOverlayViewport() {\n  const {\n    width,\n    height\n  } = useViewportSize();\n  return {\n    '--be-viewport-height': `${height}px`,\n    '--be-viewport-width': `${width}px`\n  };\n}","import React, { forwardRef, useCallback, useEffect, useRef } from 'react';\nimport { m } from 'framer-motion';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { FocusScope } from '@react-aria/focus';\nimport { useOverlayViewport } from '@ui/overlays/use-overlay-viewport';\nimport { PopoverAnimation } from '@ui/overlays/popover-animation';\nexport const Popover = forwardRef(({\n  children,\n  style,\n  autoFocus = false,\n  restoreFocus = true,\n  isDismissable,\n  isContextMenu,\n  isOpen,\n  onClose,\n  triggerRef,\n  arrowRef,\n  arrowStyle,\n  onPointerLeave,\n  onPointerEnter\n}, ref) => {\n  const viewPortStyle = useOverlayViewport();\n  const objRef = useObjectRef(ref);\n  const {\n    domProps\n  } = useCloseOnInteractOutside({\n    isDismissable,\n    isOpen,\n    onClose,\n    triggerRef,\n    isContextMenu\n  }, objRef);\n  return <m.div className=\"isolate z-popover\" role=\"presentation\" ref={objRef} style={{\n    ...viewPortStyle,\n    ...style,\n    position: 'fixed'\n  }} {...PopoverAnimation} {...mergeProps(domProps, {\n    onPointerLeave,\n    onPointerEnter\n  })}>\n        <FocusScope restoreFocus={restoreFocus} autoFocus={autoFocus} contain={false}>\n          {children}\n        </FocusScope>\n      </m.div>;\n});\n\n// this should only be rendered when overlay is open\nconst visibleOverlays = [];\nfunction useCloseOnInteractOutside({\n  onClose,\n  isDismissable = true,\n  triggerRef,\n  isContextMenu = false\n}, ref) {\n  const stateRef = useRef({\n    isPointerDown: false,\n    isContextMenu,\n    onClose\n  });\n  const state = stateRef.current;\n  state.isContextMenu = isContextMenu;\n  state.onClose = onClose;\n  const isValidEvent = useCallback(e => {\n    // if (e.button > 0 && (!state.isContextMenu || e.button !== 2)) {\n    //   return false;\n    // }\n\n    const target = e.target;\n\n    // if the event target is no longer in the document\n    if (target) {\n      const ownerDocument = target.ownerDocument;\n      if (!ownerDocument || !ownerDocument.documentElement.contains(target)) {\n        return false;\n      }\n    }\n    return ref.current && !ref.current.contains(target);\n  }, [ref]);\n\n  // Only hide the overlay when it is the topmost visible overlay in the stack.\n  // For context menu, hide it regardless\n  const isTopMostPopover = useCallback(() => {\n    return visibleOverlays[visibleOverlays.length - 1] === ref;\n  }, [ref]);\n  const hideOverlay = useCallback(() => {\n    if (isTopMostPopover()) {\n      state.onClose();\n    }\n  }, [isTopMostPopover, state]);\n  const clickedOnTriggerElement = useCallback(el => {\n    if (triggerRef.current && 'contains' in triggerRef.current) {\n      return triggerRef.current.contains?.(el);\n    }\n    return false;\n  }, [triggerRef]);\n  const onInteractOutsideStart = useCallback(e => {\n    if (!clickedOnTriggerElement(e.target)) {\n      if (isTopMostPopover()) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  }, [clickedOnTriggerElement, isTopMostPopover]);\n  const onInteractOutside = useCallback(e => {\n    if (!clickedOnTriggerElement(e.target)) {\n      if (isTopMostPopover()) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      // don't close context menu on right click, it will be done in \"onInteractOutsideStart\" already.\n      // And it would prevent repositioning of context menu when right-clicking on the same element\n      if (!state.isContextMenu || e.button !== 2) {\n        hideOverlay();\n      }\n    }\n  }, [clickedOnTriggerElement, hideOverlay, state, isTopMostPopover]);\n\n  // Add popover ref to the stack of visible popovers on mount, and remove on unmount.\n  useEffect(() => {\n    visibleOverlays.push(ref);\n\n    // handle pointer up and down events\n    const onPointerDown = e => {\n      if (isValidEvent(e)) {\n        onInteractOutsideStart(e);\n        stateRef.current.isPointerDown = true;\n      }\n    };\n    const onPointerUp = e => {\n      if (stateRef.current.isPointerDown && isValidEvent(e)) {\n        stateRef.current.isPointerDown = false;\n        onInteractOutside(e);\n      }\n    };\n\n    // handle context menu event\n    const onContextMenu = e => {\n      e.preventDefault();\n      if (isValidEvent(e)) {\n        hideOverlay();\n      }\n    };\n\n    // handle closing on scroll\n    const onScroll = e => {\n      if (!triggerRef.current) {\n        return;\n      }\n      const scrollableRegion = e.target;\n      let triggerEl;\n      if (triggerRef.current instanceof Node) {\n        triggerEl = triggerRef.current;\n      } else if ('contextElement' in triggerRef.current) {\n        triggerEl = triggerRef.current.contextElement;\n      }\n      // window is not a Node and doesn't have \"contain\", but window contains everything\n      if (!(scrollableRegion instanceof Node) || !triggerEl || scrollableRegion.contains(triggerEl)) {\n        state.onClose();\n      }\n    };\n    document.addEventListener('pointerdown', onPointerDown, true);\n    document.addEventListener('pointerup', onPointerUp, true);\n    document.addEventListener('contextmenu', onContextMenu, true);\n    document.addEventListener('scroll', onScroll, true);\n    return () => {\n      const index = visibleOverlays.indexOf(ref);\n      if (index >= 0) {\n        visibleOverlays.splice(index, 1);\n      }\n      document.removeEventListener('pointerdown', onPointerDown, true);\n      document.removeEventListener('pointerup', onPointerUp, true);\n      document.removeEventListener('contextmenu', onContextMenu, true);\n      document.removeEventListener('scroll', onScroll, true);\n    };\n  }, [ref, isValidEvent, state, onInteractOutside, onInteractOutsideStart, triggerRef, clickedOnTriggerElement, hideOverlay]);\n\n  // Handle the escape key\n  const onKeyDown = e => {\n    if (e.key === 'Escape') {\n      e.stopPropagation();\n      e.preventDefault();\n      hideOverlay();\n    }\n  };\n  return {\n    domProps: {\n      onKeyDown\n    }\n  };\n}","export const opacityAnimation = {\n  initial: {\n    opacity: 0\n  },\n  animate: {\n    opacity: 1\n  },\n  exit: {\n    opacity: 0\n  },\n  transition: {\n    duration: 0.2\n  }\n};","import { m } from 'framer-motion';\nimport clsx from 'clsx';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nexport function Underlay({\n  position = 'absolute',\n  className,\n  isTransparent = false,\n  isBlurred = true,\n  disableInitialTransition,\n  ...domProps\n}) {\n  return <m.div {...domProps} className={clsx(className, !isTransparent && 'bg-background/80', 'inset-0 z-10 h-full w-full', position, isBlurred && 'backdrop-blur-sm')} aria-hidden initial={disableInitialTransition ? undefined : {\n    opacity: 0\n  }} animate={{\n    opacity: 1\n  }} exit={{\n    opacity: 0\n  }} {...opacityAnimation} transition={{\n    duration: 0.15\n  }} />;\n}","import { m } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { FocusScope } from '@react-aria/focus';\nimport { useObjectRef } from '@react-aria/utils';\nimport { useOverlayViewport } from '@ui/overlays/use-overlay-viewport';\nimport { Underlay } from '@ui/overlays/underlay';\nexport const Tray = forwardRef(({\n  children,\n  autoFocus = false,\n  restoreFocus = true,\n  isDismissable,\n  isOpen,\n  onClose\n}, ref) => {\n  const viewPortStyle = useOverlayViewport();\n  const objRef = useObjectRef(ref);\n  return <div className=\"fixed inset-0 isolate z-tray\" style={viewPortStyle}>\n        <Underlay key=\"tray-underlay\" onClick={() => {\n      if (isDismissable) {\n        onClose();\n      }\n    }} />\n        <m.div ref={objRef} className=\"absolute bottom-0 left-0 right-0 z-20 mx-auto max-h-tray w-full max-w-375 overflow-hidden rounded-t pb-safe-area\" role=\"presentation\" initial={{\n      opacity: 0,\n      y: '100%'\n    }} animate={{\n      opacity: 1,\n      y: 0\n    }} exit={{\n      opacity: 0,\n      y: '100%'\n    }} transition={{\n      type: 'tween',\n      duration: 0.2\n    }}>\n          <FocusScope restoreFocus={restoreFocus} autoFocus={autoFocus} contain>\n            {children}\n          </FocusScope>\n        </m.div>\n      </div>;\n});","import { forwardRef } from 'react';\nimport { m } from 'framer-motion';\nimport { useOverlayViewport } from './use-overlay-viewport';\nimport { Underlay } from './underlay';\nimport { FocusScope } from '@react-aria/focus';\nimport { useObjectRef } from '@react-aria/utils';\nimport clsx from 'clsx';\nexport const Modal = forwardRef(({\n  children,\n  autoFocus = false,\n  restoreFocus = true,\n  isDismissable = true,\n  isOpen = false,\n  placement = 'center',\n  onClose\n}, ref) => {\n  const viewPortStyle = useOverlayViewport();\n  const objRef = useObjectRef(ref);\n  return <div className=\"fixed inset-0 isolate z-modal\" style={viewPortStyle} onKeyDown={e => {\n    if (e.key === 'Escape') {\n      e.stopPropagation();\n      e.preventDefault();\n      onClose();\n    }\n  }}>\n        <Underlay key=\"modal-underlay\" onClick={() => {\n      if (isDismissable) {\n        onClose();\n      }\n    }} />\n        <m.div ref={objRef} className={clsx('pointer-events-none absolute inset-0 z-20 flex h-full w-full', placement === 'center' && 'items-center justify-center', placement === 'top' && 'items-start justify-center pt-40')} role=\"presentation\" initial={{\n      opacity: 0,\n      scale: placement === 'top' ? 1 : 0.7\n    }} animate={{\n      opacity: 1,\n      scale: 1\n    }} exit={{\n      opacity: 0,\n      scale: 1\n    }} transition={{\n      duration: 0.1\n    }}>\n          <FocusScope restoreFocus={restoreFocus} autoFocus={autoFocus} contain>\n            {children}\n          </FocusScope>\n        </m.div>\n      </div>;\n});","import React, { useId } from 'react';\nimport clsx from 'clsx';\nexport function Section({\n  children,\n  label,\n  index\n}) {\n  const id = useId();\n  return <div role=\"group\" className={clsx(index !== 0 && 'border-t my-4')} aria-labelledby={label ? `be-select-${id}` : undefined}>\n      {label && <div className=\"block uppercase text-muted text-xs px-16 py-10\" role=\"presentation\" id={`be-select-${id}`} aria-hidden=\"true\">\n          {label}\n        </div>}\n      {children}\n    </div>;\n}","import { Children, isValidElement } from 'react';\nimport memoize from 'nano-memoize';\nimport { Section } from './section';\nexport const buildListboxCollection = memoize(({\n  maxItems,\n  children,\n  items,\n  inputValue\n}) => {\n  let collection = childrenToCollection({\n    children,\n    items\n  });\n  let filteredCollection = filterCollection({\n    collection,\n    inputValue\n  });\n  if (maxItems) {\n    collection = new Map([...collection.entries()].slice(0, maxItems));\n    filteredCollection = new Map([...filteredCollection.entries()].slice(0, maxItems));\n  }\n  return {\n    collection,\n    filteredCollection\n  };\n});\nconst filterCollection = memoize(({\n  collection,\n  inputValue\n}) => {\n  let filteredCollection = new Map();\n  const query = inputValue ? `${inputValue}`.toLowerCase().trim() : '';\n  if (!query) {\n    filteredCollection = collection;\n  } else {\n    let filterIndex = 0;\n    collection.forEach((meta, value) => {\n      const haystack = meta.item ? JSON.stringify(meta.item) : meta.textLabel;\n      if (haystack.toLowerCase().trim().includes(query)) {\n        filteredCollection.set(value, {\n          ...meta,\n          index: filterIndex++\n        });\n      }\n    });\n  }\n  return filteredCollection;\n});\nconst childrenToCollection = memoize(({\n  children,\n  items\n}) => {\n  let reactChildren;\n  if (items && typeof children === 'function') {\n    reactChildren = items.map(item => children(item));\n  } else {\n    reactChildren = children;\n  }\n  const collection = new Map();\n  let optionIndex = 0;\n  const setOption = (element, section, sectionIndex, sectionItemIndex) => {\n    const index = optionIndex++;\n    const item = section ?\n    // get item from nested array\n    items?.[sectionIndex].items[sectionItemIndex] :\n    // get item from flat array\n    items?.[index];\n    collection.set(element.props.value, {\n      index,\n      element,\n      textLabel: getTextLabel(element),\n      item,\n      section,\n      isDisabled: element.props.isDisabled,\n      value: element.props.value\n    });\n  };\n  Children.forEach(reactChildren, (child, childIndex) => {\n    if (!isValidElement(child)) return;\n    if (child.type === Section) {\n      Children.forEach(child.props.children, (nestedChild, nestedChildIndex) => {\n        setOption(nestedChild, child, childIndex, nestedChildIndex);\n      });\n    } else {\n      setOption(child);\n    }\n  });\n  return collection;\n});\nfunction getTextLabel(item) {\n  const content = item.props.children;\n  if (item.props.textLabel) {\n    return item.props.textLabel;\n  }\n  if (content?.props?.message) {\n    return content.props.message;\n  }\n  return `${content}` || '';\n}","import { useCallback, useId, useMemo, useRef, useState } from 'react';\nimport { useControlledState } from '@react-stately/utils';\nimport { buildListboxCollection } from './build-listbox-collection';\nimport { useFloatingPosition } from '@ui/overlays/floating-position';\nexport function useListbox(props, ref) {\n  const {\n    children,\n    items,\n    role = 'listbox',\n    virtualFocus,\n    focusLoopingMode = 'stay',\n    autoFocusFirstItem = true,\n    onItemSelected,\n    clearInputOnItemSelection,\n    blurReferenceOnItemSelection,\n    floatingWidth = 'matchTrigger',\n    floatingMinWidth,\n    floatingMaxHeight,\n    offset,\n    placement,\n    showCheckmark,\n    showEmptyMessage,\n    maxItems,\n    isAsync,\n    allowCustomValue,\n    clearSelectionOnInputClear\n  } = props;\n  const selectionMode = props.selectionMode || 'none';\n  const id = useId();\n  const listboxId = `${id}-listbox`;\n\n  // controlled state for text input (if in combobox mode)\n  const [inputValue, setInputValue] = useControlledState(props.inputValue, props.defaultInputValue || '', props.onInputValueChange);\n\n  // mostly for combobox, so can show all collection items on dropdown icon click, even if user has filtered via input\n  const [activeCollection, setActiveCollection] = useState('all');\n  const collections = buildListboxCollection({\n    children,\n    items,\n    // don't filter on client side if async, it will already be filtered on server\n    inputValue: isAsync ? undefined : inputValue,\n    maxItems\n  });\n  const collection = activeCollection === 'all' ? collections.collection : collections.filteredCollection;\n\n  // items for keyboard navigation\n  const listItemsRef = useRef([]);\n\n  // plain text labels for typeahead\n  const listContent = useMemo(() => {\n    return [...collection.values()].map(o => o.isDisabled ? null : o.textLabel);\n  }, [collection]);\n\n  // state for currently selected values (always array, even in single selection mode)\n  const {\n    selectedValues,\n    selectValues\n  } = useControlledSelection(props);\n  const [isOpen, setIsOpen] = useControlledState(props.isOpen, props.defaultIsOpen, props.onOpenChange);\n  const [activeIndex, setActiveIndex] = useState(null);\n\n  // handle listbox positioning relative to trigger\n  const floatingProps = useFloatingPosition({\n    floatingWidth,\n    ref,\n    placement,\n    offset,\n    maxHeight: floatingMaxHeight ?? 420,\n    // don't shift floating menu on the sides of combobox, otherwise input might get obscured\n    shiftCrossAxis: !virtualFocus\n  });\n  const {\n    refs,\n    strategy,\n    x,\n    y\n  } = floatingProps;\n\n  // handle selection state for syncing with active index in keyboard navigation\n  const selectedOption = selectionMode === 'none' ? undefined : collection.get(selectedValues[0]);\n  const selectedIndex = selectionMode === 'none' ? undefined : selectedOption?.index;\n  const setSelectedIndex = index => {\n    if (selectionMode !== 'none') {\n      const item = [...collection.values()][index];\n      if (item) {\n        selectValues(item.value);\n      }\n    }\n  };\n\n  // focus and scroll to specified index, in both virtual and regular mode.\n  // will also skip disabled indices and focus next or previous non-disabled index instead\n  const focusItem = useCallback((fallbackOperation, newIndex) => {\n    const items = [...collection.values()];\n    const allItemsDisabled = !items.find(i => !i.isDisabled);\n    const lastIndex = collection.size - 1;\n\n    // invalid index\n    if (newIndex == null || !collection.size || newIndex > lastIndex || newIndex < 0 || allItemsDisabled) {\n      setActiveIndex(null);\n      return;\n    }\n\n    // get next or previous non-disabled item\n    newIndex = getNonDisabledIndex(items, newIndex, focusLoopingMode, fallbackOperation);\n    setActiveIndex(newIndex);\n    if (newIndex == null) {\n      return;\n    }\n    if (virtualFocus) {\n      listItemsRef.current[newIndex]?.scrollIntoView({\n        block: 'nearest'\n      });\n    } else {\n      listItemsRef.current[newIndex]?.focus();\n    }\n  }, [collection, virtualFocus, focusLoopingMode]);\n  const onInputChange = useCallback(e => {\n    setInputValue(e.target.value);\n    setActiveCollection(e.target.value.trim() ? 'filtered' : 'all');\n    if (e.target.value) {\n      setIsOpen(true);\n    } else if (clearSelectionOnInputClear) {\n      // deselect currently selected option if user fully clears the input\n      selectValues('');\n    }\n    if (autoFocusFirstItem && activeIndex == null) {\n      focusItem('increment', 0);\n    } else {\n      setActiveIndex(null);\n    }\n  }, [setInputValue, setIsOpen, setActiveCollection, selectValues, clearSelectionOnInputClear, focusItem, autoFocusFirstItem, activeIndex]);\n  const handleItemSelection = value => {\n    const reference = refs.reference.current;\n    if (selectionMode !== 'none') {\n      selectValues(value);\n    } else {\n      if (reference && 'focus' in reference) {\n        reference.focus();\n      }\n    }\n    // is combobox\n    if (virtualFocus) {\n      setInputValue(clearInputOnItemSelection ? '' : `${value}`);\n      if (blurReferenceOnItemSelection && reference && 'blur' in reference) {\n        reference.blur();\n      }\n    }\n    setActiveCollection('all');\n    setIsOpen(false);\n    onItemSelected?.(value);\n    // make sure \"onItemSelected\" callback has a chance to use activeIndex value, before clearing it\n    setActiveIndex(null);\n  };\n  return {\n    // even handlers\n    handleItemSelection,\n    onInputChange,\n    focusLoopingMode,\n    // config\n    floatingWidth,\n    floatingMinWidth,\n    floatingMaxHeight,\n    showCheckmark,\n    collection,\n    collections,\n    virtualFocus,\n    focusItem,\n    showEmptyMessage: showEmptyMessage && !!inputValue,\n    allowCustomValue,\n    // floating ui\n    refs,\n    reference: floatingProps.reference,\n    floating: refs.setFloating,\n    positionStyle: {\n      position: strategy,\n      top: y ?? '',\n      left: x ?? ''\n    },\n    listContent,\n    listItemsRef,\n    listboxId,\n    role,\n    state: {\n      // currently focused or active (if virtual focus) option\n      activeIndex,\n      setActiveIndex,\n      selectedIndex,\n      setSelectedIndex,\n      selectionMode,\n      selectedValues,\n      selectValues,\n      inputValue,\n      setInputValue,\n      isOpen,\n      setIsOpen,\n      setActiveCollection\n    }\n  };\n}\nfunction getNonDisabledIndex(items, newIndex, focusLoopingMode, operation) {\n  const lastIndex = items.length - 1;\n  while (items[newIndex]?.isDisabled) {\n    if (operation === 'increment') {\n      newIndex++;\n      if (newIndex >= lastIndex) {\n        // loop from the start, if end reached\n        if (focusLoopingMode === 'loop') {\n          newIndex = 0;\n          // if focus is not looping, stay on the previous index\n        } else if (focusLoopingMode === 'stay') {\n          return newIndex - 1;\n        } else {\n          return null;\n        }\n      }\n    } else {\n      newIndex--;\n      // loop from the end, if start reached\n      if (newIndex < 0) {\n        if (focusLoopingMode === 'loop') {\n          newIndex = lastIndex;\n          // if focus is not looping, stay on the previous index\n        } else if (focusLoopingMode === 'stay') {\n          return newIndex + 1;\n        } else {\n          return null;\n        }\n      }\n    }\n  }\n  return newIndex;\n}\nfunction useControlledSelection(props) {\n  const {\n    selectionMode,\n    allowEmptySelection\n  } = props;\n  const selectionEnabled = selectionMode === 'single' || selectionMode === 'multiple';\n  const [stateValues, setStateValues] = useControlledState(!selectionEnabled ? undefined : props.selectedValue, !selectionEnabled ? undefined : props.defaultSelectedValue, !selectionEnabled ? undefined : props.onSelectionChange);\n  const selectedValues = useMemo(() => {\n    // allow specifying null as selected value, but not undefined\n    if (typeof stateValues === 'undefined') {\n      return [];\n    }\n    return Array.isArray(stateValues) ? stateValues : [stateValues];\n  }, [stateValues]);\n  const selectValues = useCallback(mixedValue => {\n    const newValues = Array.isArray(mixedValue) ? mixedValue : [mixedValue];\n    if (selectionMode === 'single') {\n      setStateValues(newValues[0]);\n    } else {\n      newValues.forEach(newValue => {\n        const index = selectedValues.indexOf(newValue);\n        if (index === -1) {\n          selectedValues.push(newValue);\n          setStateValues([...selectedValues]);\n        } else if (selectedValues.length > 1 || allowEmptySelection) {\n          selectedValues.splice(index, 1);\n          setStateValues([...selectedValues]);\n        }\n      });\n    }\n  }, [allowEmptySelection, selectedValues, selectionMode, setStateValues]);\n  return {\n    selectedValues,\n    selectValues\n  };\n}","import { createContext, useContext } from 'react';\nexport const ListBoxContext = createContext(null);\nexport function useListboxContext() {\n  return useContext(ListBoxContext);\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const CheckIcon = createSvgIcon(<path d=\"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\" />, 'CheckOutlined');","import clsx from 'clsx';\nimport React from 'react';\nimport { CheckIcon } from '@ui/icons/material/Check';\nexport const ListItemBase = React.forwardRef((props, ref) => {\n  let {\n    startIcon,\n    capitalizeFirst,\n    children,\n    description,\n    endIcon,\n    endSection,\n    isDisabled,\n    isActive,\n    isSelected,\n    showCheckmark,\n    elementType = 'div',\n    radius,\n    padding,\n    ...domProps\n  } = props;\n  if (!startIcon && showCheckmark) {\n    startIcon = <CheckIcon size=\"sm\" className={clsx('text-primary', !isSelected && 'invisible')} />;\n  }\n\n  // if (!endIcon && !endSection && showCheckmark) {\n  //   endIcon = (\n  //     <CheckIcon size=\"sm\" className={clsx('text-primary', 'invisible')} />\n  //   );\n  // }\n\n  const iconClassName = clsx('icon-sm rounded overflow-hidden flex-shrink-0', !isDisabled && 'text-muted');\n  const endSectionClassName = clsx(!isDisabled && 'text-muted');\n  const Element = elementType;\n  return <Element {...domProps} aria-disabled={isDisabled} className={itemClassName(props)} ref={ref}>\n        {startIcon && <div className={iconClassName}>{startIcon}</div>}\n        <div className={clsx('min-w-auto mr-auto w-full overflow-hidden overflow-ellipsis', capitalizeFirst && 'first-letter:capitalize')}>\n          {children}\n          {description && <div className={clsx('mt-4 whitespace-normal text-xs', isDisabled ? 'text-disabled' : 'text-muted')}>\n              {description}\n            </div>}\n        </div>\n        {(endIcon || endSection) && <div className={endIcon ? iconClassName : endSectionClassName}>\n            {endIcon || endSection}\n          </div>}\n      </Element>;\n});\nfunction itemClassName({\n  className,\n  isSelected,\n  isActive,\n  isDisabled,\n  showCheckmark,\n  endIcon,\n  endSection,\n  radius,\n  padding: userPadding\n}) {\n  let state = '';\n  if (isDisabled) {\n    state = 'text-disabled pointer-events-none';\n  } else if (isSelected) {\n    if (isActive) {\n      state = 'bg-primary/focus';\n    } else {\n      state = 'bg-primary/selected hover:bg-primary/focus';\n    }\n  } else if (isActive) {\n    state = 'hover:bg-fg-base/15 bg-focus';\n  } else {\n    state = 'hover:bg-hover';\n  }\n  let padding;\n  if (userPadding) {\n    padding = userPadding;\n  } else if (showCheckmark) {\n    if (endIcon || endSection) {\n      padding = 'pl-8 pr-8 py-8';\n    } else {\n      padding = 'pl-8 pr-24 py-8';\n    }\n  } else {\n    padding = 'px-20 py-8';\n  }\n  return clsx('w-full select-none outline-none cursor-pointer', 'text-sm truncate flex items-center gap-10', !isDisabled && 'text-main', padding, state, className, radius);\n}","import React from 'react';\nimport { useListboxContext } from './listbox-context';\nimport { ListItemBase } from '../../list/list-item-base';\nexport function Item({\n  children,\n  value,\n  startIcon,\n  endIcon,\n  endSection,\n  description,\n  capitalizeFirst,\n  textLabel,\n  isDisabled,\n  onSelected,\n  onClick,\n  ...domProps\n}) {\n  const {\n    collection,\n    showCheckmark,\n    virtualFocus,\n    listboxId,\n    role,\n    listItemsRef,\n    handleItemSelection,\n    state: {\n      selectedValues,\n      activeIndex,\n      setActiveIndex\n    }\n  } = useListboxContext();\n  const isSelected = selectedValues.includes(value);\n  const index = collection.get(value)?.index;\n  const isActive = activeIndex === index;\n\n  // context value might get out of sync with item due to AnimatePresence\n  if (index == null) {\n    return null;\n  }\n  const tabIndex = isActive && !isDisabled ? -1 : 0;\n  return <ListItemBase {...domProps} onFocus={() => {\n    if (!virtualFocus) {\n      setActiveIndex(index);\n    }\n  }} onPointerEnter={e => {\n    setActiveIndex(index);\n    if (!virtualFocus) {\n      e.currentTarget.focus();\n    }\n  }} onPointerDown={e => {\n    if (virtualFocus) {\n      e.preventDefault();\n    }\n  }} onKeyDown={e => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      handleItemSelection(value);\n      onSelected?.();\n    }\n  }} onClick={e => {\n    handleItemSelection(value);\n    onSelected?.();\n    onClick?.(e);\n  }} ref={node => listItemsRef.current[index] = node} id={`${listboxId}-${index}`} role={role === 'menu' ? 'menuitem' : 'option'} tabIndex={virtualFocus ? undefined : tabIndex} aria-selected={isActive && isSelected} showCheckmark={showCheckmark} isDisabled={isDisabled} isActive={isActive} isSelected={isSelected} startIcon={startIcon} description={description} endIcon={endIcon} endSection={endSection} capitalizeFirst={capitalizeFirst} data-value={value}>\n      {children}\n    </ListItemBase>;\n}","import { useIsSSR } from '@react-aria/ssr';\nimport { getBootstrapData } from '@ui/bootstrap-data/bootstrap-data-store';\nconst MOBILE_SCREEN_WIDTH = 768;\nexport function useIsMobileDevice() {\n  const isSSR = useIsSSR();\n  if (isSSR || typeof window === 'undefined') {\n    return getBootstrapData().is_mobile_device ?? false;\n  }\n  return window.screen.width <= MOBILE_SCREEN_WIDTH;\n}","import { AnimatePresence } from 'framer-motion';\nimport React, { cloneElement, useEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { ListBoxContext, useListboxContext } from './listbox-context';\nimport { useIsMobileDevice } from '@ui/utils/hooks/is-mobile-device';\nimport { Popover } from '@ui/overlays/popover';\nimport { Tray } from '@ui/overlays/tray';\nimport { Trans } from '@ui/i18n/trans';\nimport { createPortal } from 'react-dom';\nimport { rootEl } from '@ui/root-el';\nexport function Listbox({\n  listbox,\n  children: trigger,\n  isLoading,\n  mobileOverlay = Tray,\n  searchField,\n  onClose,\n  prepend,\n  className: listboxClassName,\n  ...domProps\n}) {\n  const isMobile = useIsMobileDevice();\n  const {\n    floatingWidth,\n    floatingMinWidth = 'min-w-180',\n    collection,\n    showEmptyMessage,\n    state: {\n      isOpen,\n      setIsOpen\n    },\n    positionStyle,\n    floating,\n    refs\n  } = listbox;\n  const Overlay = !prepend && isMobile ? mobileOverlay : Popover;\n  const className = clsx('text-base sm:text-sm outline-none bg max-h-inherit flex flex-col', !prepend && 'shadow-xl border py-4', listboxClassName,\n  // tray will apply its own rounding and max width\n  Overlay === Popover && 'rounded-panel', Overlay === Popover && floatingWidth === 'auto' ? `max-w-288 ${floatingMinWidth}` : '');\n  const children = useMemo(() => {\n    let sectionIndex = 0;\n    const renderedSections = [];\n    return [...collection.values()].reduce((prev, curr) => {\n      if (!curr.section) {\n        prev.push(cloneElement(curr.element, {\n          key: curr.element.key || curr.element.props.value\n        }));\n      } else if (!renderedSections.includes(curr.section)) {\n        const section = cloneElement(curr.section, {\n          key: curr.section.key || sectionIndex,\n          index: sectionIndex\n        });\n        prev.push(section);\n        // clone element will create new instance of object, need to keep\n        // track of original instance so sections are not duplicated\n        renderedSections.push(curr.section);\n        sectionIndex++;\n      }\n      return prev;\n    }, []);\n  }, [collection]);\n  const showContent = children.length > 0 || showEmptyMessage && !isLoading;\n  const innerContent = showContent ? <div className={className} role=\"presentation\">\n      {searchField}\n      <FocusContainer isLoading={isLoading} {...domProps}>\n        {children}\n      </FocusContainer>\n    </div> : null;\n  return <ListBoxContext.Provider value={listbox}>\n      {trigger}\n      {prepend ? innerContent : rootEl && createPortal(<AnimatePresence>\n              {isOpen && showContent && <Overlay triggerRef={refs.reference} restoreFocus isOpen={isOpen} onClose={() => {\n        onClose?.();\n        setIsOpen(false);\n      }} isDismissable style={positionStyle} ref={floating}>\n                  {innerContent}\n                </Overlay>}\n            </AnimatePresence>, rootEl)}\n    </ListBoxContext.Provider>;\n}\nfunction FocusContainer({\n  className,\n  children,\n  isLoading,\n  ...domProps\n}) {\n  const {\n    role,\n    listboxId,\n    virtualFocus,\n    focusItem,\n    state: {\n      activeIndex,\n      setActiveIndex,\n      selectedIndex\n    }\n  } = useListboxContext();\n  const autoFocusRef = useRef(true);\n  const domRef = useRef(null);\n\n  // reset activeIndex on unmount\n  useEffect(() => {\n    return () => setActiveIndex(null);\n  }, [setActiveIndex]);\n\n  // focus active index or menu on mount, because menu will be closed\n  // on trigger keyDown and focus won't be applied to items\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      const indexToFocus = activeIndex ?? selectedIndex;\n      // if no activeIndex, focus menu itself\n      if (indexToFocus == null && !virtualFocus) {\n        requestAnimationFrame(() => {\n          domRef.current?.focus({\n            preventScroll: true\n          });\n        });\n      } else if (indexToFocus != null) {\n        // wait until next frame, otherwise auto scroll might not work\n        requestAnimationFrame(() => {\n          focusItem('increment', indexToFocus);\n        });\n      }\n    }\n    autoFocusRef.current = false;\n  }, [activeIndex, selectedIndex, focusItem, virtualFocus]);\n  return <div tabIndex={virtualFocus ? undefined : -1} role={role} id={listboxId} className=\"flex-auto overflow-y-auto overscroll-contain outline-none\" ref={domRef} {...domProps}>\n      {children.length ? children : <EmptyMessage />}\n    </div>;\n}\nfunction EmptyMessage() {\n  return <div className=\"px-8 py-4 text-sm italic text-muted\">\n      <Trans message=\"There are no items matching your query\" />\n    </div>;\n}","export function useListboxKeyboardNavigation({\n  state: {\n    isOpen,\n    setIsOpen,\n    selectedIndex,\n    activeIndex,\n    setInputValue,\n    setActiveIndex\n  },\n  focusLoopingMode,\n  collection,\n  focusItem,\n  handleItemSelection,\n  allowCustomValue\n}) {\n  const handleTriggerKeyDown = e => {\n    // ignore if dropdown is open or if event bubbled up from portal\n    if (isOpen || !e.currentTarget.contains(e.target)) return;\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setIsOpen(true);\n      focusItem('increment', selectedIndex != null ? selectedIndex : 0);\n      return true;\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setIsOpen(true);\n      focusItem('decrement', selectedIndex != null ? selectedIndex : collection.size - 1);\n      return true;\n    } else if (e.key === 'Enter' || e.key === 'Space') {\n      e.preventDefault();\n      setIsOpen(true);\n      focusItem('increment', selectedIndex != null ? selectedIndex : 0);\n      return true;\n    }\n  };\n  const handleListboxKeyboardNavigation = e => {\n    const lastIndex = Math.max(0, collection.size - 1);\n    // ignore if event bubbled up from portal, or dropdown is closed\n    if (!isOpen || !e.currentTarget.contains(e.target)) return;\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        if (activeIndex == null) {\n          focusItem('increment', 0);\n        } else if (activeIndex >= lastIndex) {\n          // if focus is not looping, stay on last index\n          if (focusLoopingMode === 'loop') {\n            focusItem('increment', 0);\n          } else if (focusLoopingMode === 'deselect') {\n            setActiveIndex(null);\n          }\n        } else {\n          focusItem('increment', activeIndex + 1);\n        }\n        return true;\n      case 'ArrowUp':\n        e.preventDefault();\n        if (activeIndex == null) {\n          focusItem('decrement', lastIndex);\n        } else if (activeIndex <= 0) {\n          // if focus is not looping, stay on first index\n          if (focusLoopingMode === 'loop') {\n            focusItem('decrement', lastIndex);\n          } else if (focusLoopingMode === 'deselect') {\n            setActiveIndex(null);\n          }\n        } else {\n          focusItem('decrement', activeIndex - 1);\n        }\n        return true;\n      case 'Home':\n        e.preventDefault();\n        focusItem('increment', 0);\n        return true;\n      case 'End':\n        e.preventDefault();\n        focusItem('decrement', lastIndex);\n        return true;\n      case 'Tab':\n        setIsOpen(false);\n        return true;\n    }\n  };\n  const handleListboxSearchFieldKeydown = e => {\n    if (e.key === 'Enter' && activeIndex != null && collection.size) {\n      // prevent form submit when selecting item in combobox via \"enter\"\n      e.preventDefault();\n      const [value, obj] = [...collection.entries()][activeIndex];\n      if (value) {\n        handleItemSelection(value);\n        // \"onSelected\" will not be called for dropdown items, because keydown\n        // event will never be triggered for them in \"virtualFocus\" mode\n        obj.element.props.onSelected?.();\n      }\n      return;\n    }\n\n    // on escape, clear input and close dropdown\n    if (e.key === 'Escape' && isOpen) {\n      setIsOpen(false);\n      if (!allowCustomValue) {\n        setInputValue('');\n      }\n    }\n    const handled = handleTriggerKeyDown(e);\n    if (!handled) {\n      handleListboxKeyboardNavigation(e);\n    }\n  };\n  return {\n    handleTriggerKeyDown,\n    handleListboxKeyboardNavigation,\n    handleListboxSearchFieldKeydown\n  };\n}","import { useSelectedLocale } from '@ui/i18n/selected-locale';\nconst cache = new Map();\nexport function useCollator(options) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const cacheKey = localeCode + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n  const formatter = new Intl.Collator(localeCode, options);\n  cache.set(cacheKey, formatter);\n  return formatter;\n}","import { useRef } from 'react';\nimport { useCollator } from '@ui/i18n/use-collator';\nexport function useTypeSelect() {\n  const collator = useCollator({\n    usage: 'search',\n    sensitivity: 'base'\n  });\n  const state = useRef({\n    search: '',\n    timeout: undefined\n  }).current;\n  const getMatchingIndex = (listContent, fromIndex) => {\n    let index = fromIndex ?? 0;\n    while (index != null) {\n      const item = listContent[index];\n      const substring = item?.slice(0, state.search.length);\n      if (substring && collator.compare(substring, state.search) === 0) {\n        return index;\n      }\n      if (index < listContent.length - 1) {\n        index++;\n        // reached the end of list\n      } else {\n        return null;\n      }\n    }\n    return null;\n  };\n  const findMatchingItem = (e, listContent, fromIndex = 0) => {\n    const character = getStringForKey(e.key);\n    if (!character || e.ctrlKey || e.metaKey) {\n      return null;\n    }\n\n    // Do not propagate the Spacebar event if it's meant to be part of the search.\n    // When we time out, the search term becomes empty, hence the check on length.\n    // Trimming is to account for the case of pressing the Spacebar more than once,\n    // which should cycle through the selection/deselection of the focused item.\n    if (character === ' ' && state.search.trim().length > 0) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    state.search += character;\n\n    // Use the delegate to find a key to focus.\n    // Prioritize items after the currently focused item, falling back to searching the whole list.\n    let index = getMatchingIndex(listContent, fromIndex);\n\n    // If no key found, search from the top.\n    if (index == null) {\n      index = getMatchingIndex(listContent, 0);\n    }\n    clearTimeout(state.timeout);\n    state.timeout = setTimeout(() => {\n      state.search = '';\n    }, 500);\n    return index ?? null;\n  };\n  return {\n    findMatchingItem\n  };\n}\nfunction getStringForKey(key) {\n  // If the key is of length 1, it is an ASCII value.\n  // Otherwise, if there are no ASCII characters in the key name,\n  // it is a Unicode character.\n  // See https://www.w3.org/TR/uievents-key/\n  if (key.length === 1 || !/^[A-Z]/i.test(key)) {\n    return key;\n  }\n  return '';\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const SearchIcon = createSvgIcon(<path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />, 'SearchOutlined');","import clsx from 'clsx';\nimport { getButtonSizeStyle } from '@ui/buttons/button-size';\nexport function getInputFieldClassNames(props = {}) {\n  const {\n    size = 'md',\n    startAppend,\n    endAppend,\n    className,\n    labelPosition,\n    labelDisplay = 'block',\n    wrapLabel = false,\n    inputClassName,\n    inputWrapperClassName,\n    unstyled,\n    invalid,\n    disabled,\n    background = 'bg-transparent',\n    flexibleHeight,\n    inputShadow = 'shadow-sm',\n    descriptionPosition = 'bottom',\n    inputRing,\n    inputFontSize,\n    labelSuffix\n  } = {\n    ...props\n  };\n  if (unstyled) {\n    return {\n      label: '',\n      input: inputClassName || '',\n      wrapper: className || '',\n      inputWrapper: inputWrapperClassName || '',\n      adornment: '',\n      append: {\n        size: '',\n        radius: ''\n      },\n      size: {\n        font: '',\n        height: ''\n      },\n      description: '',\n      error: ''\n    };\n  }\n  const sizeClass = inputSizeClass({\n    size: props.size,\n    flexibleHeight\n  });\n  if (inputFontSize) {\n    sizeClass.font = inputFontSize;\n  }\n  const isInputGroup = startAppend || endAppend;\n  const ringColor = invalid ? 'focus:ring-danger/focus focus:border-danger/60' : 'focus:ring-primary/focus focus:border-primary/60';\n  const ringClassName = inputRing || `focus:ring ${ringColor}`;\n  const radius = getRadius(props);\n  return {\n    label: clsx(labelDisplay, !wrapLabel && 'whitespace-nowrap', 'first-letter:capitalize text-left', disabled && 'text-disabled', sizeClass.font, labelSuffix ? '' : labelPosition === 'side' ? 'mr-16' : 'mb-4'),\n    input: clsx('block text-left relative w-full appearance-none transition-shadow text', background,\n    // radius\n    radius.input, getInputBorder(props), !disabled && `${ringClassName} focus:outline-none ${inputShadow}`, disabled && 'text-disabled cursor-not-allowed', inputClassName, sizeClass.font, sizeClass.height, getInputPadding(props)),\n    adornment: iconSizeClass(size),\n    append: {\n      size: getButtonSizeStyle(size),\n      radius: radius.append\n    },\n    wrapper: clsx(className, sizeClass.font, {\n      'flex items-center': labelPosition === 'side'\n    }),\n    inputWrapper: clsx('isolate relative', inputWrapperClassName, isInputGroup && 'flex items-stretch'),\n    size: sizeClass,\n    description: `text-muted ${descriptionPosition === 'bottom' ? 'pt-4' : 'pb-4'} text-xs`,\n    error: 'text-danger pt-4 text-xs'\n  };\n}\nfunction getInputBorder({\n  startAppend,\n  endAppend,\n  inputBorder,\n  invalid\n}) {\n  if (inputBorder) return inputBorder;\n  const isInputGroup = startAppend || endAppend;\n  const borderColor = invalid ? 'border-danger' : 'border-divider';\n  if (!isInputGroup) {\n    return `${borderColor} border`;\n  }\n  if (startAppend) {\n    return `${borderColor} border-y border-r`;\n  }\n  return `${borderColor} border-y border-l`;\n}\nfunction getInputPadding({\n  startAdornment,\n  endAdornment,\n  inputRadius\n}) {\n  if (inputRadius === 'rounded-full') {\n    return clsx(startAdornment ? 'pl-54' : 'pl-28', endAdornment ? 'pr-54' : 'pr-28');\n  }\n  return clsx(startAdornment ? 'pl-46' : 'pl-12', endAdornment ? 'pr-46' : 'pr-12');\n}\nfunction getRadius(props) {\n  const {\n    startAppend,\n    endAppend,\n    inputRadius\n  } = props;\n  const isInputGroup = startAppend || endAppend;\n  if (inputRadius === 'rounded-full') {\n    return {\n      input: clsx(!isInputGroup && 'rounded-full', startAppend && 'rounded-r-full rounded-l-none', endAppend && 'rounded-l-full rounded-r-none'),\n      append: startAppend ? 'rounded-l-full' : 'rounded-r-full'\n    };\n  } else if (inputRadius === 'rounded-none') {\n    return {\n      input: '',\n      append: ''\n    };\n  } else if (inputRadius) {\n    return {\n      input: inputRadius,\n      append: inputRadius\n    };\n  }\n  return {\n    input: clsx(!isInputGroup && 'rounded-input', startAppend && 'rounded-r-input rounded-l-none', endAppend && 'rounded-l-input rounded-r-none'),\n    append: startAppend ? 'rounded-l-input' : 'rounded-r-input'\n  };\n}\nfunction inputSizeClass({\n  size,\n  flexibleHeight\n}) {\n  switch (size) {\n    case '2xs':\n      return {\n        font: 'text-xs',\n        height: flexibleHeight ? 'min-h-24' : 'h-24'\n      };\n    case 'xs':\n      return {\n        font: 'text-xs',\n        height: flexibleHeight ? 'min-h-30' : 'h-30'\n      };\n    case 'sm':\n      return {\n        font: 'text-sm',\n        height: flexibleHeight ? 'min-h-36' : 'h-12'\n      };\n    case 'lg':\n      return {\n        font: 'text-md md:text-lg',\n        height: flexibleHeight ? 'min-h-50' : 'h-50'\n      };\n    case 'xl':\n      return {\n        font: 'text-xl',\n        height: flexibleHeight ? 'min-h-60' : 'h-60'\n      };\n    default:\n      return {\n        font: 'text-sm',\n        height: flexibleHeight ? 'min-h-42' : 'h-42'\n      };\n  }\n}\nfunction iconSizeClass(size) {\n  switch (size) {\n    case '2xs':\n      return 'icon-2xs';\n    case 'xs':\n      return 'icon-xs';\n    case 'sm':\n      return 'icon-sm';\n    case 'md':\n      return 'icon-sm';\n    case 'lg':\n      return 'icon-lg';\n    case 'xl':\n      return 'icon-xl';\n    default:\n      // can't return \"size\" variable here, append in field will not work with it\n      return '';\n  }\n}","import React from 'react';\nimport clsx from 'clsx';\nexport function Adornment({\n  children,\n  direction,\n  className,\n  position = direction === 'start' ? 'left-0' : 'right-0'\n}) {\n  if (!children) return null;\n  return <div className={clsx(!children?.props?.onClick && 'pointer-events-none', 'absolute top-0 z-10 flex h-full min-w-42 items-center justify-center text-muted', position, className)}>\n      {children}\n    </div>;\n}","export function removeEmptyValuesFromObject(obj, options) {\n  const shouldCopy = options?.copy ?? true;\n  const newObj = shouldCopy ? {\n    ...obj\n  } : obj;\n  Object.keys(newObj).forEach(_key => {\n    const key = _key;\n    if (options?.arrays && Array.isArray(newObj[key]) && newObj[key].length === 0) {\n      delete newObj[key];\n    } else if (options?.deep && newObj[key] && typeof newObj[key] === 'object') {\n      newObj[key] = removeEmptyValuesFromObject(newObj[key], options);\n      if (Object.keys(newObj[key]).length === 0) {\n        delete newObj[key];\n      }\n    } else if (newObj[key] == null || newObj[key] === '') {\n      delete newObj[key];\n    }\n  });\n  return shouldCopy ? newObj : obj;\n}","import React from 'react';\nimport { Adornment } from '@ui/forms/input-field/adornment';\nimport clsx from 'clsx';\nimport { removeEmptyValuesFromObject } from '@ui/utils/objects/remove-empty-values-from-object';\nexport const Field = React.forwardRef((props, ref) => {\n  const {\n    children,\n    // Not every component that uses <Field> supports help text.\n    description,\n    errorMessage,\n    descriptionProps = {},\n    errorMessageProps = {},\n    startAdornment,\n    endAdornment,\n    adornmentPosition,\n    startAppend,\n    endAppend,\n    fieldClassNames,\n    disabled,\n    wrapperProps\n  } = props;\n  return <div className={fieldClassNames.wrapper} ref={ref} {...wrapperProps}>\n        <Label {...props} />\n        <div className={fieldClassNames.inputWrapper}>\n          <Adornment direction=\"start\" className={fieldClassNames.adornment} position={adornmentPosition}>\n            {startAdornment}\n          </Adornment>\n          {startAppend && <Append style={fieldClassNames.append} disabled={disabled}>\n              {startAppend}\n            </Append>}\n          {children}\n          {endAppend && <Append style={fieldClassNames.append} disabled={disabled}>\n              {endAppend}\n            </Append>}\n          <Adornment direction=\"end\" className={fieldClassNames.adornment} position={adornmentPosition}>\n            {endAdornment}\n          </Adornment>\n        </div>\n        {description && !errorMessage && <div className={fieldClassNames.description} {...descriptionProps}>\n            {description}\n          </div>}\n        {errorMessage && <div className={fieldClassNames.error} {...errorMessageProps}>\n            {errorMessage}\n          </div>}\n      </div>;\n});\nfunction Label({\n  labelElementType,\n  fieldClassNames,\n  labelProps,\n  label,\n  labelSuffix,\n  labelSuffixPosition = 'spaced',\n  required\n}) {\n  if (!label) {\n    return null;\n  }\n  const ElementType = labelElementType || 'label';\n  const labelNode = <ElementType className={fieldClassNames.label} {...labelProps}>\n      {label}\n      {required && <span className=\"text-danger\"> *</span>}\n    </ElementType>;\n  if (labelSuffix) {\n    return <div className={clsx('mb-4 flex w-full gap-4', labelSuffixPosition === 'spaced' ? 'items-end' : 'items-center')}>\n        {labelNode}\n        <div className={clsx('text-xs text-muted', labelSuffixPosition === 'spaced' ? 'ml-auto' : '')}>\n          {labelSuffix}\n        </div>\n      </div>;\n  }\n  return labelNode;\n}\nfunction Append({\n  children,\n  style,\n  disabled\n}) {\n  return React.cloneElement(children, {\n    ...children.props,\n    disabled: children.props.disabled || disabled,\n    // make sure append styles are not overwritten with empty values\n    ...removeEmptyValuesFromObject(style)\n  });\n}","import { useEffect, useRef } from 'react';\nexport function useAutoFocus({\n  autoFocus,\n  autoSelectText\n}, ref) {\n  const autoFocusRef = useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current && ref.current) {\n      // run inside animation frame to prevent issues when opening\n      // dialog with via keyboard shortcut and focusing input\n      requestAnimationFrame(() => {\n        ref.current?.focus();\n        if (autoSelectText && ref.current?.nodeName.toLowerCase() === 'input') {\n          ref.current.select();\n        }\n      });\n    }\n    autoFocusRef.current = false;\n  }, [ref, autoSelectText]);\n}","import { useId } from 'react';\nimport { useAutoFocus } from '@ui/focus/use-auto-focus';\nexport function useField(props) {\n  const {\n    focusRef,\n    labelElementType = 'label',\n    label,\n    labelSuffix,\n    labelSuffixPosition,\n    autoFocus,\n    autoSelectText,\n    labelPosition,\n    descriptionPosition,\n    size,\n    errorMessage,\n    description,\n    flexibleHeight,\n    startAdornment,\n    endAdornment,\n    startAppend,\n    adornmentPosition,\n    endAppend,\n    className,\n    inputClassName,\n    inputWrapperClassName,\n    unstyled,\n    background,\n    invalid,\n    disabled,\n    id,\n    inputRadius,\n    inputBorder,\n    inputShadow,\n    inputRing,\n    inputFontSize,\n    ...inputDomProps\n  } = props;\n  useAutoFocus(props, focusRef);\n  const defaultId = useId();\n  const inputId = id || defaultId;\n  const labelId = `${inputId}-label`;\n  const descriptionId = `${inputId}-description`;\n  const errorId = `${inputId}-error`;\n  const labelProps = {\n    id: labelId,\n    htmlFor: labelElementType === 'label' ? inputId : undefined\n  };\n  const descriptionProps = {\n    id: descriptionId\n  };\n  const errorMessageProps = {\n    id: errorId\n  };\n  const ariaLabel = !props.label && !props['aria-label'] && props.placeholder ? props.placeholder : props['aria-label'];\n  const inputProps = {\n    'aria-label': ariaLabel,\n    'aria-invalid': invalid || undefined,\n    id: inputId,\n    disabled,\n    ...inputDomProps\n  };\n  const labelledBy = [];\n  if (label) {\n    labelledBy.push(labelProps.id);\n  }\n  if (inputProps['aria-labelledby']) {\n    labelledBy.push(inputProps['aria-labelledby']);\n  }\n  inputProps['aria-labelledby'] = labelledBy.length ? labelledBy.join(' ') : undefined;\n  const describedBy = [];\n  if (description) {\n    describedBy.push(descriptionProps.id);\n  }\n  if (errorMessage) {\n    describedBy.push(errorMessageProps.id);\n  }\n  if (inputProps['aria-describedby']) {\n    describedBy.push(inputProps['aria-describedby']);\n  }\n  inputProps['aria-describedby'] = describedBy.length ? describedBy.join(' ') : undefined;\n  return {\n    fieldProps: {\n      errorMessageProps,\n      descriptionProps,\n      labelProps,\n      disabled,\n      label,\n      labelSuffix,\n      labelSuffixPosition,\n      autoFocus,\n      autoSelectText,\n      labelPosition,\n      descriptionPosition,\n      size,\n      errorMessage,\n      description,\n      flexibleHeight,\n      startAdornment,\n      endAdornment,\n      startAppend,\n      adornmentPosition,\n      endAppend,\n      className,\n      inputClassName,\n      inputWrapperClassName,\n      unstyled,\n      background,\n      invalid\n    },\n    inputProps\n  };\n}","import React, { forwardRef } from 'react';\nimport { useController } from 'react-hook-form';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { getInputFieldClassNames } from '../get-input-field-class-names';\nimport { Field } from '../field';\nimport { useField } from '../use-field';\nexport const TextField = forwardRef(({\n  inputElementType = 'input',\n  flexibleHeight,\n  inputRef,\n  inputTestId,\n  ...props\n}, ref) => {\n  const inputObjRef = useObjectRef(inputRef);\n  const {\n    fieldProps,\n    inputProps\n  } = useField({\n    ...props,\n    focusRef: inputObjRef\n  });\n  const isTextArea = inputElementType === 'textarea';\n  const ElementType = isTextArea ? 'textarea' : 'input';\n  const inputFieldClassNames = getInputFieldClassNames({\n    ...props,\n    flexibleHeight: flexibleHeight || inputElementType === 'textarea'\n  });\n  if (inputElementType === 'textarea' && !props.unstyled) {\n    inputFieldClassNames.input = `${inputFieldClassNames.input} py-12`;\n  }\n  return <Field ref={ref} fieldClassNames={inputFieldClassNames} {...fieldProps}>\n        <ElementType data-testid={inputTestId} ref={inputObjRef} {...inputProps} rows={isTextArea ? inputProps.rows || 4 : undefined} className={inputFieldClassNames.input} />\n      </Field>;\n});\nexport const FormTextField = React.forwardRef(({\n  name,\n  ...props\n}, ref) => {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = '',\n      ref: inputRef\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name\n  });\n  const formProps = {\n    onChange,\n    onBlur,\n    // avoid `value` prop on `input` should not be null error when setting form defaults from backend model\n    value: value == null ? '' : value,\n    invalid,\n    errorMessage: error?.message,\n    inputRef,\n    name\n  };\n  return <TextField ref={ref} {...mergeProps(formProps, props)} />;\n});","import React, { cloneElement, forwardRef, useId } from 'react';\nimport { useListbox } from '@ui/forms/listbox/use-listbox';\nimport { Item } from '@ui/forms/listbox/item';\nimport { Section } from '@ui/forms/listbox/section';\nimport { Listbox } from '@ui/forms/listbox/listbox';\nimport { useListboxKeyboardNavigation } from '@ui/forms/listbox/use-listbox-keyboard-navigation';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nimport { useTypeSelect } from '@ui/forms/listbox/use-type-select';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { SearchIcon } from '@ui/icons/material/Search';\nimport { TextField } from '@ui/forms/input-field/text-field/text-field';\nexport const MenuTrigger = forwardRef((props, ref) => {\n  const {\n    placement,\n    offset,\n    searchPlaceholder,\n    showSearchField,\n    children: [menuTrigger, menu],\n    floatingWidth = 'auto',\n    isLoading\n  } = props;\n  const id = useId();\n  const isMobile = useIsMobileMediaQuery();\n  const listbox = useListbox({\n    ...props,\n    clearInputOnItemSelection: true,\n    showEmptyMessage: showSearchField,\n    // on mobile menu will be shown as bottom drawer, so make it fullscreen width always\n    floatingWidth: isMobile ? 'auto' : floatingWidth,\n    virtualFocus: showSearchField,\n    role: showSearchField ? 'listbox' : 'menu',\n    focusLoopingMode: showSearchField ? 'stay' : 'loop',\n    children: menu.props.children,\n    placement,\n    offset\n  }, ref);\n  const {\n    state: {\n      isOpen,\n      setIsOpen,\n      activeIndex,\n      inputValue,\n      setInputValue\n    },\n    listboxId,\n    focusItem,\n    listContent,\n    reference,\n    onInputChange\n  } = listbox;\n  const {\n    handleTriggerKeyDown,\n    handleListboxKeyboardNavigation,\n    handleListboxSearchFieldKeydown\n  } = useListboxKeyboardNavigation(listbox);\n  const {\n    findMatchingItem\n  } = useTypeSelect();\n\n  // focus matching item when user types, if dropdown is open\n  const handleListboxTypeSelect = e => {\n    if (!isOpen) return;\n    const i = findMatchingItem(e, listContent, activeIndex);\n    if (i != null) {\n      focusItem('increment', i);\n    }\n  };\n  return <Listbox onClick={e => e.stopPropagation()} listbox={listbox} onKeyDownCapture={!showSearchField ? handleListboxTypeSelect : undefined} onKeyDown={handleListboxKeyboardNavigation} onClose={showSearchField ? () => setInputValue('') : undefined} aria-labelledby={id} isLoading={isLoading} searchField={showSearchField ? <TextField size=\"sm\" placeholder={searchPlaceholder} startAdornment={<SearchIcon />} className=\"flex-shrink-0 px-8 pb-8 pt-4\" autoFocus aria-expanded={isOpen ? 'true' : 'false'} aria-haspopup=\"listbox\" aria-controls={isOpen ? listboxId : undefined} aria-autocomplete=\"list\" autoCorrect=\"off\" spellCheck=\"false\" value={inputValue} onChange={onInputChange} onKeyDown={e => {\n    handleListboxSearchFieldKeydown(e);\n  }} /> : null}>\n        {cloneElement(menuTrigger, {\n      id,\n      'aria-expanded': isOpen ? 'true' : 'false',\n      'aria-haspopup': 'menu',\n      'aria-controls': isOpen ? listboxId : undefined,\n      ref: reference,\n      onKeyDown: handleTriggerKeyDown,\n      onClick: createEventHandler(e => {\n        menuTrigger.props?.onClick?.(e);\n        setIsOpen(!isOpen);\n      })\n    })}\n      </Listbox>;\n});\nexport function Menu({\n  children\n}) {\n  return children;\n}\nexport { Item as MenuItem };\nexport { Section as MenuSection };","import React, { useEffect } from 'react';\nimport { useListbox } from '@ui/forms/listbox/use-listbox';\nimport { Menu } from '@ui/menu/menu-trigger';\nimport { useListboxKeyboardNavigation } from '@ui/forms/listbox/use-listbox-keyboard-navigation';\nimport { useTypeSelect } from '@ui/forms/listbox/use-type-select';\nimport { Listbox } from '@ui/forms/listbox/listbox';\nconst preventContextOnMenu = e => {\n  e.preventDefault();\n};\nexport function ContextMenu({\n  position,\n  children,\n  ...props\n}) {\n  const listbox = useListbox({\n    ...props,\n    isOpen: props.isOpen && !!position,\n    placement: 'right-start',\n    floatingWidth: 'auto',\n    role: 'menu',\n    focusLoopingMode: 'loop',\n    children: children?.type === Menu ? children.props.children : children\n  });\n  const {\n    reference,\n    refs,\n    state: {\n      isOpen,\n      setIsOpen,\n      activeIndex\n    },\n    focusItem,\n    listContent\n  } = listbox;\n  useEffect(() => {\n    if (refs.floating.current) {\n      refs.floating.current.addEventListener('contextmenu', preventContextOnMenu);\n      return () => {\n        refs.floating.current?.removeEventListener('contextmenu', preventContextOnMenu);\n      };\n    }\n  }, [refs.floating]);\n  useEffect(() => {\n    if (position) {\n      reference(pointToVirtualElement(position));\n      setIsOpen(true);\n    } else {\n      setIsOpen(false);\n    }\n  }, [position, reference, setIsOpen]);\n  const {\n    handleListboxKeyboardNavigation\n  } = useListboxKeyboardNavigation(listbox);\n  const {\n    findMatchingItem\n  } = useTypeSelect();\n  return <Listbox listbox={listbox} onKeyDownCapture={e => {\n    if (!isOpen) return;\n    const i = findMatchingItem(e, listContent, activeIndex);\n    if (i) {\n      focusItem('increment', i);\n    }\n  }} onKeyDown={handleListboxKeyboardNavigation} />;\n}\nexport function pointToVirtualElement({\n  x,\n  y\n}, contextElement) {\n  return {\n    getBoundingClientRect() {\n      return {\n        x,\n        y,\n        width: 0,\n        height: 0,\n        top: y,\n        right: x,\n        bottom: y,\n        left: x\n      };\n    },\n    contextElement\n  };\n}","import { useEffect, useMemo, useRef } from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nexport function useCallbackRef(callback) {\n  const callbackRef = useRef(callback);\n  useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return useMemo(() => (...args) => callbackRef.current?.(...args), []);\n}","import React, { Children, cloneElement, Fragment, useCallback, useId, useMemo, useRef } from 'react';\nimport { AnimatePresence } from 'framer-motion';\nimport { useControlledState } from '@react-stately/utils';\nimport { mergeProps, useLayoutEffect } from '@react-aria/utils';\nimport { useFloatingPosition } from '../floating-position';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { DialogContext } from './dialog-context';\nimport { Popover } from '../popover';\nimport { Tray } from '../tray';\nimport { Modal } from '../modal';\nimport { createPortal } from 'react-dom';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nimport { rootEl } from '@ui/root-el';\nimport { pointToVirtualElement } from '@ui/menu/context-menu';\nimport { useCallbackRef } from '@ui/utils/hooks/use-callback-ref';\nexport function DialogTrigger(props) {\n  let {\n    children,\n    type,\n    disableInitialTransition,\n    isDismissable = true,\n    moveFocusToDialog = true,\n    returnFocusToTrigger = true,\n    triggerOnHover = false,\n    triggerOnContextMenu = false,\n    handleTriggerClick = true,\n    usePortal = true,\n    mobileType,\n    alwaysReturnCurrentValueOnClose\n  } = props;\n\n  // for context menu we will set triggerRef to VirtualElement in \"onContextMenu\" event.\n  // If dialog is not triggered on context menu, leave triggerRef null (unless it's passed in via props)\n  // otherwise it will prevent dialog from opening in \"popover\" mode.\n  const contextMenuTriggerRef = useRef(null);\n  const triggerRef = triggerOnContextMenu && !props.triggerRef ? contextMenuTriggerRef : props.triggerRef;\n  // initial value can be used to restore state to what it\n  // was before opening the dialog, for example in color picker\n  const initialValueRef = useRef(props.value);\n  const [isOpen, setIsOpen] = useControlledState(props.isOpen, props.defaultIsOpen, props.onOpenChange);\n  const [value, setValue] = useControlledState(props.value, props.defaultValue, props.onValueChange);\n\n  // On small devices, show a modal or tray instead of a popover.\n  const isMobile = useIsMobileMediaQuery();\n  if (isMobile && type === 'popover') {\n    type = mobileType || 'modal';\n  }\n  const hoverTimeoutRef = useRef(null);\n  const {\n    x,\n    y,\n    reference,\n    strategy,\n    refs\n  } = useFloatingPosition({\n    ...props,\n    disablePositioning: type === 'modal'\n  });\n  const floatingStyle = type === 'popover' ? {\n    position: strategy,\n    top: y ?? '',\n    left: x ?? ''\n  } : {};\n  const id = useId();\n  const labelId = `${id}-label`;\n  const descriptionId = `${id}-description`;\n  const formId = `${id}-form`;\n  const onClose = useCallbackRef(props.onClose);\n  const close = useCallback(closeValue => {\n    if (typeof closeValue === 'undefined' && alwaysReturnCurrentValueOnClose) {\n      closeValue = value;\n    }\n    // if value is not provided (dialog cancel button or clicking outside of dialog), use initial value\n    const finalValue = typeof closeValue !== 'undefined' ? closeValue : initialValueRef.current;\n    onClose?.(finalValue, {\n      initialValue: initialValueRef.current,\n      valueChanged: finalValue !== initialValueRef.current\n    });\n    setIsOpen(false);\n  }, [onClose, setIsOpen, value, alwaysReturnCurrentValueOnClose]);\n  const open = useCallback(() => {\n    setIsOpen(true);\n    // set current value that is active at the time of opening dialog\n    initialValueRef.current = props.value;\n  }, [props.value, setIsOpen]);\n\n  // position dropdown relative to provided ref, not the trigger\n  useLayoutEffect(() => {\n    if (triggerRef?.current && refs.reference.current !== triggerRef.current) {\n      reference(triggerRef.current);\n    }\n  }, [reference, triggerRef?.current, refs]);\n  const dialogProps = useMemo(() => {\n    return {\n      'aria-labelledby': labelId,\n      'aria-describedby': descriptionId\n    };\n  }, [labelId, descriptionId]);\n  let Overlay;\n  if (type === 'modal') {\n    Overlay = Modal;\n  } else if (type === 'tray') {\n    Overlay = Tray;\n  } else {\n    Overlay = Popover;\n  }\n  const contextValue = useMemo(() => {\n    return {\n      dialogProps,\n      type,\n      labelId,\n      descriptionId,\n      isDismissable,\n      close,\n      value,\n      initialValue: initialValueRef.current,\n      setValue,\n      formId\n    };\n  }, [close, descriptionId, dialogProps, formId, labelId, type, isDismissable, value, setValue]);\n  triggerOnHover = triggerOnHover && type === 'popover';\n  const handleTriggerHover = {\n    onPointerEnter: createEventHandler(e => {\n      open();\n    }),\n    onPointerLeave: createEventHandler(e => {\n      hoverTimeoutRef.current = setTimeout(() => {\n        close();\n      }, 150);\n    })\n  };\n  const handleFloatingHover = {\n    onPointerEnter: createEventHandler(e => {\n      if (hoverTimeoutRef.current) {\n        clearTimeout(hoverTimeoutRef.current);\n      }\n    }),\n    onPointerLeave: createEventHandler(e => {\n      close();\n    })\n  };\n  const handleTriggerContextMenu = {\n    onContextMenu: createEventHandler(e => {\n      e.preventDefault();\n      contextMenuTriggerRef.current = pointToVirtualElement({\n        x: e.clientX,\n        y: e.clientY\n      }, e.currentTarget);\n      open();\n    })\n  };\n  const triggerClickHandler = {\n    onClick: createEventHandler(e => {\n      // prevent propagating to parent, in case floating element\n      // is attached to input field and button is inside the field\n      e.stopPropagation();\n      if (isOpen) {\n        close();\n      } else {\n        open();\n      }\n    })\n  };\n  const {\n    dialogTrigger,\n    dialog\n  } = extractChildren(children, contextValue);\n  const dialogContent = <AnimatePresence initial={!disableInitialTransition}>\n      {isOpen && <DialogContext.Provider value={contextValue}>\n          <Overlay {...triggerOnHover ? handleFloatingHover : {}} ref={refs.setFloating} triggerRef={refs.reference} style={floatingStyle} restoreFocus={returnFocusToTrigger} autoFocus={moveFocusToDialog} isOpen={isOpen} onClose={close} isDismissable={isDismissable} isContextMenu={triggerOnContextMenu} placement={props.placement}>\n            {dialog}\n          </Overlay>\n        </DialogContext.Provider>}\n    </AnimatePresence>;\n  return <Fragment>\n      {dialogTrigger && cloneElement(dialogTrigger, mergeProps({\n      // make sure ref specified on trigger element is not overwritten\n      ...(!triggerRef && !triggerOnContextMenu ? {\n        ref: reference\n      } : {}),\n      ...(!triggerOnContextMenu && handleTriggerClick ? triggerClickHandler : {}),\n      ...(triggerOnHover ? handleTriggerHover : {}),\n      ...(triggerOnContextMenu ? handleTriggerContextMenu : {})\n    }, {\n      ...dialogTrigger.props\n    }))}\n      {usePortal ? rootEl && createPortal(dialogContent, rootEl) : dialogContent}\n    </Fragment>;\n}\nfunction extractChildren(rawChildren, ctx) {\n  const children = Array.isArray(rawChildren) ? rawChildren : Children.toArray(rawChildren);\n  let dialog = children.length === 2 ? children[1] : children[0];\n  dialog = typeof dialog === 'function' ? dialog(ctx) : dialog;\n\n  // trigger and dialog passed as children\n  if (children.length === 2) {\n    return {\n      dialogTrigger: children[0],\n      dialog: dialog\n    };\n  }\n\n  // only dialog passed as child\n  return {\n    dialog: dialog\n  };\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const KeyboardArrowLeftIcon = createSvgIcon(<path d=\"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\" />, 'KeyboardArrowLeftOutlined');","import React from 'react';\nimport clsx from 'clsx';\nexport function DialogFooter(props) {\n  const {\n    children,\n    startAction,\n    className,\n    dividerTop,\n    padding,\n    size\n  } = props;\n  return <div className={clsx(className, dividerTop && 'border-t', getPadding(props), 'flex items-center gap-10 flex-shrink-0')}>\n      <div>{startAction}</div>\n      <div className=\"ml-auto flex items-center gap-10\">{children}</div>\n    </div>;\n}\nfunction getPadding({\n  padding,\n  size\n}) {\n  if (padding) {\n    return padding;\n  }\n  switch (size) {\n    case 'xs':\n      return 'p-14';\n    case 'sm':\n      return 'p-18';\n    default:\n      return 'px-4 py-4';\n  }\n}","import { Children, memo } from 'react';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { isSsr } from '@ui/utils/dom/is-ssr';\nconst rafPolyfill = (() => {\n  let clock = Date.now();\n  return callback => {\n    const currentTime = Date.now();\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(() => {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n})();\nconst cafPolyfill = id => clearTimeout(id);\nconst requestAnimationFrame = !isSsr() ? window.requestAnimationFrame : global.requestAnimationFrame || rafPolyfill;\nconst cancelAnimationFrame = !isSsr() ? window.cancelAnimationFrame : global.cancelAnimationFrame || cafPolyfill;\nexport const helmetAttribute = 'data-be-helmet';\nlet rafId;\nexport const Helmet = memo(({\n  children,\n  tags\n}) => {\n  const {\n    trans\n  } = useTrans();\n  if (isSsr()) return null;\n  if (!tags && children) {\n    tags = mapChildrenToTags(children, trans);\n  }\n  updateTags(tags);\n  return null;\n}, shallowEqual);\nfunction mapChildrenToTags(children, trans) {\n  return Children.map(children, child => {\n    switch (child.type) {\n      case 'title':\n        return {\n          nodeName: 'title',\n          _text: titleTagChildrenToString(child.props.children, trans)\n        };\n      case 'meta':\n        return {\n          ...child.props,\n          nodeName: 'meta'\n        };\n    }\n  });\n}\nfunction titleTagChildrenToString(children, trans) {\n  if (children == null) return '';\n  if (typeof children === 'string') return children;\n  if (Array.isArray(children)) {\n    return children.map(c => titleTagChildrenToString(c, trans)).join('');\n  }\n  if ('message' in children) {\n    return trans(children);\n  }\n  return trans(children.props);\n}\nfunction removeOldTags() {\n  if (isSsr()) return;\n  document.head.querySelectorAll('meta:not([data-keep]), script[type=\"application/ld+json\"]:not([data-keep]), title, link[rel=\"canonical\"]').forEach(tag => {\n    document.head.removeChild(tag);\n  });\n}\nfunction updateTags(tags) {\n  if (rafId) {\n    cancelAnimationFrame(rafId);\n  }\n  rafId = requestAnimationFrame(() => {\n    removeOldTags();\n    if (typeof tags === 'string') {\n      const template = document.createElement('template');\n      template.innerHTML = tags;\n      template.content.childNodes.forEach(node => {\n        if (node instanceof HTMLElement) {\n          node.setAttribute(helmetAttribute, 'true');\n          document.head.prepend(node);\n        }\n      });\n    } else {\n      tags?.forEach(tag => {\n        updateTag(tag);\n      });\n    }\n    rafId = null;\n  });\n}\nfunction updateTag(tag) {\n  // update title\n  if (tag.nodeName === 'title') {\n    if (typeof tag._text !== 'undefined' && document.title !== tag._text) {\n      document.title = tag._text;\n    }\n    return;\n  }\n\n  // update <meta> tag\n  const newElement = document.createElement(tag.nodeName);\n  for (const key in tag) {\n    const attribute = key;\n    if (attribute === 'nodeName') continue;\n    if (attribute === '_text') {\n      newElement.textContent = typeof tag._text === 'string' ? tag._text : JSON.stringify(tag._text);\n    } else {\n      const value = tag[attribute] == null ? '' : tag[attribute];\n      newElement.setAttribute(attribute, value);\n    }\n  }\n  newElement.setAttribute(helmetAttribute, 'true');\n  document.head.prepend(newElement);\n}","import { Helmet } from './helmet';\nimport { useSettings } from '@ui/settings/use-settings';\nexport function StaticPageTitle({\n  children\n}) {\n  const {\n    branding: {\n      site_name\n    }\n  } = useSettings();\n  return <Helmet>\n      {children ?\n    // @ts-ignore\n    <title>\n          {children} - {site_name}\n        </title> : undefined}\n    </Helmet>;\n}","import clsx from 'clsx';\nexport function Badge({\n  children,\n  className,\n  withBorder = true,\n  top = 'top-2',\n  right = 'right-4',\n  color = 'bg-warning text-white'\n}) {\n  return <span className={clsx('absolute flex items-center justify-center whitespace-nowrap rounded-full text-[11px] font-bold shadow', withBorder && 'border-2 border-white', color, children ? 'w-max p-4 leading-[0.6]' : 'h-12 w-12', className, top, right)}>\n      {children}\n    </span>;\n}","import React, { forwardRef, useState } from 'react';\nimport { FocusScope, useFocusManager } from '@react-aria/focus';\nimport clsx from 'clsx';\nimport { ListItemBase } from '@ui/list/list-item-base';\nexport function List({\n  children,\n  className,\n  padding,\n  dataTestId,\n  listRef\n}) {\n  return <FocusScope>\n      <ul ref={listRef} data-testid={dataTestId} className={clsx('text-base outline-none sm:text-sm', className, padding ?? 'py-4')}>\n        {children}\n      </ul>\n    </FocusScope>;\n}\nexport const ListItem = forwardRef(({\n  children,\n  onSelected,\n  borderRadius = 'rounded',\n  className,\n  ...listItemProps\n}, ref) => {\n  const focusManager = useFocusManager();\n  const isSelectable = !!onSelected;\n  const [isActive, setIsActive] = useState(false);\n  const onKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        focusManager?.focusNext();\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        focusManager?.focusPrevious();\n        break;\n      case 'Home':\n        e.preventDefault();\n        focusManager?.focusFirst();\n        break;\n      case 'End':\n        e.preventDefault();\n        focusManager?.focusLast();\n        break;\n      case 'Enter':\n      case 'Space':\n        e.preventDefault();\n        onSelected?.();\n        break;\n    }\n  };\n  return <li>\n        <ListItemBase className={clsx(className, borderRadius)} isActive={isActive} isDisabled={listItemProps.isDisabled} {...listItemProps} onFocus={e => {\n      setIsActive(e.target.matches(':focus-visible'));\n    }} onBlur={() => {\n      setIsActive(false);\n    }} onClick={() => {\n      onSelected?.();\n    }} ref={ref} role={isSelectable ? 'button' : undefined} onKeyDown={isSelectable ? onKeyDown : undefined} tabIndex={isSelectable && !listItemProps.isDisabled ? 0 : undefined}>\n          {children}\n        </ListItemBase>\n      </li>;\n});","// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nexport function prettyBytes(num, fractionDigits = 1) {\n  if (num == null || Number.isNaN(num)) return '';\n  const neg = num < 0;\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  if (neg) {\n    num = -num;\n  }\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`;\n  }\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1);\n  num = Number(num / Math.pow(1024, exponent));\n  const unit = units[exponent];\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`;\n  }\n  return `${(neg ? '-' : '') + num.toFixed(fractionDigits)} ${unit}`;\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { useListboxContext } from '@ui/forms/listbox/listbox-context';\nimport { ProgressCircle } from '@ui/progress/progress-circle';\nimport { KeyboardArrowDownIcon } from '@ui/icons/material/KeyboardArrowDown';\nexport function ComboboxEndAdornment({\n  isLoading,\n  icon\n}) {\n  const timeout = useRef(null);\n  const {\n    trans\n  } = useTrans();\n  const [showLoading, setShowLoading] = useState(false);\n  const {\n    state: {\n      isOpen,\n      inputValue\n    }\n  } = useListboxContext();\n  const lastInputValue = useRef(inputValue);\n  useEffect(() => {\n    if (isLoading && !showLoading) {\n      if (timeout.current === null) {\n        timeout.current = setTimeout(() => {\n          setShowLoading(true);\n        }, 500);\n      }\n\n      // If user is typing, clear the timer and restart since it is a new request\n      if (inputValue !== lastInputValue.current) {\n        clearTimeout(timeout.current);\n        timeout.current = setTimeout(() => {\n          setShowLoading(true);\n        }, 500);\n      }\n    } else if (!isLoading) {\n      // If loading is no longer happening, clear any timers and hide the loading circle\n      setShowLoading(false);\n      clearTimeout(timeout.current);\n      timeout.current = null;\n    }\n    lastInputValue.current = inputValue;\n  }, [isLoading, showLoading, inputValue]);\n\n  // loading circle should only be displayed if menu is open, if menuTrigger is \"manual\", or first time load (to stop circle from showing up when user selects an option)\n  const showLoadingIndicator = showLoading && (isOpen || isLoading);\n  if (showLoadingIndicator) {\n    return <ProgressCircle aria-label={trans({\n      message: 'Loading'\n    })} size=\"w-24 h-24\" isIndeterminate />;\n  }\n  return icon || <KeyboardArrowDownIcon />;\n}","import React from 'react';\nimport clsx from 'clsx';\nimport { useController } from 'react-hook-form';\nimport { mergeProps } from '@react-aria/utils';\nimport { getInputFieldClassNames } from '../input-field/get-input-field-class-names';\nimport { Field } from '../input-field/field';\nimport { useListbox } from '../listbox/use-listbox';\nimport { useField } from '../input-field/use-field';\nimport { Item } from '../listbox/item';\nimport { Section } from '../listbox/section';\nimport { Listbox } from '../listbox/listbox';\nimport { Trans } from '@ui/i18n/trans';\nimport { useListboxKeyboardNavigation } from '../listbox/use-listbox-keyboard-navigation';\nimport { useTypeSelect } from '../listbox/use-type-select';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { TextField } from '@ui/forms/input-field/text-field/text-field';\nimport { SearchIcon } from '@ui/icons/material/Search';\nimport { ComboboxEndAdornment } from '@ui/forms/combobox/combobox-end-adornment';\nfunction Select(props, ref) {\n  const isMobile = useIsMobileMediaQuery();\n  const {\n    hideCaret,\n    placeholder = <Trans message=\"Select an option...\" />,\n    selectedValue,\n    onItemSelected,\n    onOpenChange,\n    onInputValueChange,\n    onSelectionChange,\n    selectionMode,\n    minWidth = 'min-w-128',\n    children,\n    searchPlaceholder,\n    showEmptyMessage,\n    showSearchField,\n    defaultInputValue,\n    inputValue: userInputValue,\n    isLoading,\n    isAsync,\n    valueClassName,\n    floatingWidth = isMobile ? 'auto' : 'matchTrigger',\n    radius,\n    ...inputFieldProps\n  } = props;\n  const listbox = useListbox({\n    ...props,\n    clearInputOnItemSelection: true,\n    showEmptyMessage: showEmptyMessage || showSearchField,\n    floatingWidth,\n    selectionMode: 'single',\n    role: 'listbox',\n    virtualFocus: showSearchField\n  }, ref);\n  const {\n    state: {\n      selectedValues,\n      isOpen,\n      setIsOpen,\n      activeIndex,\n      setSelectedIndex,\n      inputValue,\n      setInputValue\n    },\n    collections,\n    focusItem,\n    listboxId,\n    reference,\n    refs,\n    listContent,\n    onInputChange\n  } = listbox;\n  const {\n    fieldProps,\n    inputProps\n  } = useField({\n    ...inputFieldProps,\n    focusRef: refs.reference\n  });\n  const selectedOption = collections.collection.get(selectedValues[0]);\n  const content = selectedOption ? <span className=\"flex items-center gap-10\">\n      {selectedOption.element.props.startIcon}\n      <span className={clsx('overflow-hidden overflow-ellipsis whitespace-nowrap', valueClassName)}>\n        {selectedOption.element.props.children}\n      </span>\n    </span> : <span className=\"italic\">{placeholder}</span>;\n  const fieldClassNames = getInputFieldClassNames({\n    ...props,\n    endAdornment: true\n  });\n  const {\n    handleTriggerKeyDown,\n    handleListboxKeyboardNavigation,\n    handleListboxSearchFieldKeydown\n  } = useListboxKeyboardNavigation(listbox);\n  const {\n    findMatchingItem\n  } = useTypeSelect();\n\n  // focus matching item when user types, if dropdown is open\n  const handleListboxTypeSelect = e => {\n    if (!isOpen) return;\n    const i = findMatchingItem(e, listContent, activeIndex);\n    if (i != null) {\n      focusItem('increment', i);\n    }\n  };\n\n  // select matching item when user types, if dropdown is closed\n  const handleTriggerTypeSelect = e => {\n    if (isOpen) return undefined;\n    const i = findMatchingItem(e, listContent, activeIndex);\n    if (i != null) {\n      setSelectedIndex(i);\n    }\n  };\n  return <Listbox listbox={listbox} onKeyDownCapture={!showSearchField ? handleListboxTypeSelect : undefined} onKeyDown={handleListboxKeyboardNavigation} onClose={showSearchField ? () => setInputValue('') : undefined} isLoading={isLoading} searchField={showSearchField && <TextField size={props.size === 'xs' || props.size === 'sm' ? 'xs' : 'sm'} placeholder={searchPlaceholder} startAdornment={<SearchIcon />} className=\"flex-shrink-0 px-8 pb-8 pt-4\" autoFocus aria-expanded={isOpen ? 'true' : 'false'} aria-haspopup=\"listbox\" aria-controls={isOpen ? listboxId : undefined} aria-autocomplete=\"list\" autoCorrect=\"off\" spellCheck=\"false\" value={inputValue} onChange={onInputChange} onKeyDown={e => {\n    handleListboxSearchFieldKeydown(e);\n  }} />}>\n      <Field fieldClassNames={fieldClassNames} {...fieldProps} endAdornment={!hideCaret && <ComboboxEndAdornment isLoading={isLoading} />}>\n        <button {...inputProps} type=\"button\" data-selected-value={selectedOption?.value} aria-expanded={isOpen ? 'true' : 'false'} aria-haspopup=\"listbox\" aria-controls={isOpen ? listboxId : undefined} ref={reference} onKeyDown={handleTriggerKeyDown} onKeyDownCapture={!showSearchField ? handleTriggerTypeSelect : undefined} disabled={inputFieldProps.disabled} onClick={() => {\n        setIsOpen(!isOpen);\n      }} className={clsx(fieldClassNames.input, !fieldProps.unstyled && minWidth)}>\n          {content}\n        </button>\n      </Field>\n    </Listbox>;\n}\nconst SelectForwardRef = React.forwardRef(Select);\nexport { SelectForwardRef as Select };\nexport function FormSelect({\n  children,\n  ...props\n}) {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = null,\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name\n  });\n  const formProps = {\n    onSelectionChange: onChange,\n    onBlur,\n    selectedValue: value,\n    invalid,\n    errorMessage: error?.message,\n    name: props.name\n  };\n\n  // make sure error message is not overridden by undefined or null\n  const errorMessage = props.errorMessage || error?.message;\n  return <SelectForwardRef ref={ref} {...mergeProps(formProps, props, {\n    errorMessage\n  })}>\n      {children}\n    </SelectForwardRef>;\n}\nexport { Item as Option };\nexport { Section as OptionGroup };","import { DateFormatter } from '@internationalized/date';\nimport { useMemo, useRef } from 'react';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nexport function useDateFormatter(options) {\n  // Reuse last options object if it is shallowly equal, which allows the useMemo result to also be reused.\n  const lastOptions = useRef(null);\n  if (options && lastOptions.current && shallowEqual(options, lastOptions.current)) {\n    options = lastOptions.current;\n  }\n  lastOptions.current = options;\n  const {\n    localeCode\n  } = useSelectedLocale();\n  return useMemo(() => new DateFormatter(localeCode, options), [localeCode, options]);\n}","import { parseAbsolute } from '@internationalized/date';\nimport { Fragment, memo } from 'react';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nimport { useSettings } from '@ui/settings/use-settings';\nimport { useUserTimezone } from '@ui/i18n/use-user-timezone';\nexport const DateFormatPresets = {\n  numeric: {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  },\n  short: {\n    year: 'numeric',\n    month: 'short',\n    day: '2-digit'\n  },\n  long: {\n    month: 'long',\n    day: '2-digit',\n    year: 'numeric'\n  },\n  timestamp: {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  },\n  time: {\n    hour: '2-digit',\n    minute: '2-digit'\n  }\n};\nexport const FormattedDate = memo(({\n  date,\n  options,\n  preset,\n  timezone: propsTimezone\n}) => {\n  const {\n    dates\n  } = useSettings();\n  const userTimezone = useUserTimezone();\n  const timezone = propsTimezone || options?.timeZone || userTimezone;\n  const formatterOptions = options || DateFormatPresets[preset || dates?.format || 'short'] || {};\n  if (!formatterOptions.timeZone) {\n    formatterOptions.timeZone = timezone;\n  }\n  const formatter = useDateFormatter(formatterOptions);\n  if (!date) {\n    return null;\n  }\n\n  // make sure date with invalid format does not blow up the app\n  try {\n    if (typeof date === 'string') {\n      date = parseAbsolute(date, timezone).toDate();\n    } else if ('toDate' in date) {\n      date = date.toDate(timezone);\n    }\n  } catch (e) {\n    return null;\n  }\n  return <Fragment>{formatter.format(date)}</Fragment>;\n}, shallowEqual);","import clsx from 'clsx';\nexport function Skeleton({\n  variant = 'text',\n  animation = 'wave',\n  size,\n  className,\n  display = 'block',\n  radius = 'rounded',\n  style\n}) {\n  return <span style={style} className={clsx('skeleton relative overflow-hidden bg-fg-base/4 bg-no-repeat will-change-transform', radius, skeletonSize({\n    variant,\n    size\n  }), display, variant === 'text' && 'origin-[0_55%] scale-y-[0.6]', variant === 'avatar' && 'flex-shrink-0', variant === 'icon' && 'mx-8 flex-shrink-0', animation === 'wave' && 'skeleton-wave', animation === 'pulsate' && 'skeleton-pulsate', className)} aria-busy aria-live=\"polite\" />;\n}\nfunction skeletonSize({\n  variant,\n  size\n}) {\n  if (size) {\n    return size;\n  }\n  switch (variant) {\n    case 'avatar':\n      return 'h-40 w-40';\n    case 'icon':\n      return 'h-24 h-24';\n    case 'rect':\n      return 'h-full w-full';\n    default:\n      return 'w-full';\n  }\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const StorageIcon = createSvgIcon(<path d=\"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z\" />, 'StorageOutlined');","import { FocusScope } from '@react-aria/focus';\nimport React from 'react';\nimport clsx from 'clsx';\nexport const Input = React.forwardRef((props, ref) => {\n  const {\n    children,\n    inputProps,\n    wrapperProps,\n    className,\n    autoFocus,\n    style,\n    onClick\n  } = props;\n  return <div {...wrapperProps} onClick={onClick}>\n        <div {...inputProps} role=\"group\" className={clsx(className, 'flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60')} ref={ref} style={style}>\n          <FocusScope autoFocus={autoFocus}>{children}</FocusScope>\n        </div>\n      </div>;\n});","export function startOfDay(date) {\n  return date.set({\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0\n  });\n}","export function endOfDay(date) {\n  return date.set({\n    hour: 24 - 1,\n    minute: 60 - 1,\n    second: 60 - 1,\n    millisecond: 1000 - 1\n  });\n}","import { getBootstrapData } from '@ui/bootstrap-data/bootstrap-data-store';\nimport { getLocalTimeZone } from '@internationalized/date';\nexport function getUserTimezone() {\n  const defaultTimezone = getBootstrapData()?.settings.dates.default_timezone;\n  const preferredTimezone = getBootstrapData()?.user?.timezone || defaultTimezone || 'auto';\n  if (!preferredTimezone || preferredTimezone === 'auto') {\n    return getLocalTimeZone();\n  }\n  return preferredTimezone;\n}","import { useMemo } from 'react';\nimport { now } from '@internationalized/date';\nimport { useUserTimezone } from '@ui/i18n/use-user-timezone';\nimport { getUserTimezone } from '@ui/i18n/get-user-timezone';\nexport function useCurrentDateTime() {\n  const timezone = useUserTimezone();\n  return useMemo(() => {\n    try {\n      return now(timezone);\n    } catch (e) {\n      return now('UTC');\n    }\n  }, [timezone]);\n}\nexport function getCurrentDateTime() {\n  const timezone = getUserTimezone();\n  try {\n    return now(timezone);\n  } catch (e) {\n    return now('UTC');\n  }\n}","import { message } from '@ui/i18n/message';\nimport { endOfMonth, endOfWeek, endOfYear, startOfMonth, startOfWeek, startOfYear } from '@internationalized/date';\nimport { startOfDay } from '@ui/utils/date/start-of-day';\nimport { endOfDay } from '@ui/utils/date/end-of-day';\nimport { getBootstrapData } from '@ui/bootstrap-data/bootstrap-data-store';\nimport { getCurrentDateTime } from '@ui/i18n/use-current-date-time';\nconst Now = startOfDay(getCurrentDateTime());\nconst locale = getBootstrapData()?.i18n?.language || 'en';\nexport const DateRangePresets = [{\n  key: 0,\n  label: message('Today'),\n  getRangeValue: () => ({\n    preset: 0,\n    start: Now,\n    end: endOfDay(Now)\n  })\n}, {\n  key: 1,\n  label: message('Yesterday'),\n  getRangeValue: () => ({\n    preset: 1,\n    start: Now.subtract({\n      days: 1\n    }),\n    end: endOfDay(Now).subtract({\n      days: 1\n    })\n  })\n}, {\n  key: 2,\n  label: message('This week'),\n  getRangeValue: () => ({\n    preset: 2,\n    start: startOfWeek(Now, locale),\n    end: endOfWeek(endOfDay(Now), locale)\n  })\n}, {\n  key: 3,\n  label: message('Last week'),\n  getRangeValue: () => {\n    const start = startOfWeek(Now, locale).subtract({\n      days: 7\n    });\n    return {\n      preset: 3,\n      start,\n      end: start.add({\n        days: 6\n      })\n    };\n  }\n}, {\n  key: 4,\n  label: message('Last 7 days'),\n  getRangeValue: () => ({\n    preset: 4,\n    start: Now.subtract({\n      days: 7\n    }),\n    end: endOfDay(Now)\n  })\n}, {\n  key: 6,\n  label: message('Last 30 days'),\n  getRangeValue: () => ({\n    preset: 6,\n    start: Now.subtract({\n      days: 30\n    }),\n    end: endOfDay(Now)\n  })\n}, {\n  key: 7,\n  label: message('Last 3 months'),\n  getRangeValue: () => ({\n    preset: 7,\n    start: Now.subtract({\n      months: 3\n    }),\n    end: endOfDay(Now)\n  })\n}, {\n  key: 8,\n  label: message('Last 12 months'),\n  getRangeValue: () => ({\n    preset: 8,\n    start: Now.subtract({\n      months: 12\n    }),\n    end: endOfDay(Now)\n  })\n}, {\n  key: 9,\n  label: message('This month'),\n  getRangeValue: () => ({\n    preset: 9,\n    start: startOfMonth(Now),\n    end: endOfMonth(endOfDay(Now))\n  })\n}, {\n  key: 10,\n  label: message('This year'),\n  getRangeValue: () => ({\n    preset: 10,\n    start: startOfYear(Now),\n    end: endOfYear(endOfDay(Now))\n  })\n}, {\n  key: 11,\n  label: message('Last year'),\n  getRangeValue: () => ({\n    preset: 11,\n    start: startOfYear(Now).subtract({\n      years: 1\n    }),\n    end: endOfYear(endOfDay(Now)).subtract({\n      years: 1\n    })\n  })\n}];","import { createSvgIcon } from '../create-svg-icon';\nexport const DateRangeIcon = createSvgIcon(<path d=\"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z\" />, 'DateRangeOutlined');","import React from 'react';\nimport clsx from 'clsx';\nimport { createFocusManager } from '@react-aria/focus';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { getInputFieldClassNames } from '../../get-input-field-class-names';\nimport { Field } from '../../field';\nimport { Input } from '../../input';\nimport { useField } from '../../use-field';\nexport const DatePickerField = React.forwardRef(({\n  inputRef,\n  wrapperProps,\n  children,\n  onBlur,\n  ...other\n}, ref) => {\n  const fieldClassNames = getInputFieldClassNames(other);\n  const objRef = useObjectRef(ref);\n  const {\n    fieldProps,\n    inputProps\n  } = useField({\n    ...other,\n    focusRef: objRef,\n    labelElementType: 'span'\n  });\n  fieldClassNames.wrapper = clsx(fieldClassNames.wrapper, other.disabled && 'pointer-events-none');\n  return <Field wrapperProps={mergeProps(wrapperProps, {\n    onBlur: e => {\n      if (!objRef.current?.contains(e.relatedTarget)) {\n        onBlur?.(e);\n      }\n    },\n    onClick: () => {\n      // focus first segment when clicking on label or somewhere else in the field, but no directly on segment\n      const focusManager = createFocusManager(objRef);\n      focusManager?.focusFirst();\n    }\n  })} fieldClassNames={fieldClassNames} ref={objRef} {...fieldProps}>\n      <Input inputProps={inputProps} className={clsx(fieldClassNames.input, 'gap-10')} ref={inputRef}>\n        {children}\n      </Input>\n    </Field>;\n});","import { CalendarDate } from '@internationalized/date';\nexport function getDefaultGranularity(date) {\n  if (date instanceof CalendarDate) {\n    return 'day';\n  }\n  return 'minute';\n}\nexport function dateIsInvalid(date, min, max) {\n  return min != null && date.compare(min) < 0 || max != null && date.compare(max) > 0;\n}","import { toZoned } from '@internationalized/date';\nexport function toSafeZoned(date, timeZone, disambiguation) {\n  try {\n    return toZoned(date, timeZone, disambiguation);\n  } catch (e) {\n    return toZoned(date, 'UTC', disambiguation);\n  }\n}","import { useState } from 'react';\nimport { getDefaultGranularity } from './utils';\nimport { useUserTimezone } from '@ui/i18n/use-user-timezone';\nimport { toSafeZoned } from '@ui/i18n/to-safe-zoned';\nexport function useBaseDatePickerState(selectedDate, props) {\n  const timezone = useUserTimezone();\n  const [calendarIsOpen, setCalendarIsOpen] = useState(false);\n  const closeDialogOnSelection = props.closeDialogOnSelection ?? true;\n  const granularity = props.granularity || getDefaultGranularity(selectedDate);\n  const min = props.min ? toSafeZoned(props.min, timezone) : undefined;\n  const max = props.max ? toSafeZoned(props.max, timezone) : undefined;\n  return {\n    timezone,\n    granularity,\n    min,\n    max,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection\n  };\n}","import { useControlledState } from '@react-stately/utils';\nimport { useCallback, useState } from 'react';\nimport { endOfMonth, isSameDay, isSameMonth, maxDate, minDate, startOfMonth, toCalendarDate } from '@internationalized/date';\nimport { useBaseDatePickerState } from '../use-base-date-picker-state';\nimport { startOfDay } from '@ui/utils/date/start-of-day';\nimport { endOfDay } from '@ui/utils/date/end-of-day';\nimport { useCurrentDateTime } from '@ui/i18n/use-current-date-time';\nimport { toSafeZoned } from '@ui/i18n/to-safe-zoned';\nexport function useDateRangePickerState(props) {\n  const now = useCurrentDateTime();\n  const [isPlaceholder, setIsPlaceholder] = useState({\n    start: (!props.value || !props.value.start) && !props.defaultValue?.start,\n    end: (!props.value || !props.value.end) && !props.defaultValue?.end\n  });\n\n  // if user clears the date, we will want to still keep an\n  // instance internally, but return null via \"onChange\" callback\n  const setStateValue = props.onChange;\n  const [internalValue, setInternalValue] = useControlledState(props.value ? completeRange(props.value, now) : undefined, !props.value ? completeRange(props.defaultValue, now) : undefined, value => {\n    setIsPlaceholder({\n      start: false,\n      end: false\n    });\n    setStateValue?.(value);\n  });\n  const {\n    min,\n    max,\n    granularity,\n    timezone,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection\n  } = useBaseDatePickerState(internalValue.start, props);\n  const clear = useCallback(() => {\n    setIsPlaceholder({\n      start: true,\n      end: true\n    });\n    setInternalValue(completeRange(null, now));\n    setStateValue?.(null);\n    setCalendarIsOpen(false);\n  }, [now, setInternalValue, setStateValue, setCalendarIsOpen]);\n  const [anchorDate, setAnchorDate] = useState(null);\n  const [isHighlighting, setIsHighlighting] = useState(false);\n  const [highlightedRange, setHighlightedRange] = useState(internalValue);\n  const [calendarDates, setCalendarDates] = useState(() => {\n    return rangeToCalendarDates(internalValue, max);\n  });\n  const constrainRange = useCallback(range => {\n    let start = range.start;\n    let end = range.end;\n\n    // make sure start date is after min date and before max date/range end\n    if (min) {\n      start = maxDate(start, min);\n    }\n    const startMax = max ? minDate(max, end) : end;\n    start = minDate(start, startMax);\n\n    // make sure end date is after min date/range start and before max date\n    const endMin = min ? maxDate(min, start) : start;\n    end = maxDate(end, endMin);\n    if (max) {\n      end = minDate(end, max);\n    }\n    return {\n      start: toSafeZoned(start, timezone),\n      end: toSafeZoned(end, timezone)\n    };\n  }, [min, max, timezone]);\n  const setSelectedValue = useCallback(newRange => {\n    const value = {\n      ...constrainRange(newRange),\n      preset: newRange.preset\n    };\n    setInternalValue(value);\n    setHighlightedRange(value);\n    setCalendarDates(rangeToCalendarDates(value, max));\n    setIsPlaceholder({\n      start: false,\n      end: false\n    });\n  }, [setInternalValue, constrainRange, max]);\n  const dayIsActive = useCallback(day => {\n    return !isPlaceholder.start && isSameDay(day, highlightedRange.start) || !isPlaceholder.end && isSameDay(day, highlightedRange.end);\n  }, [highlightedRange, isPlaceholder]);\n  const dayIsHighlighted = useCallback(day => {\n    return (isHighlighting || !isPlaceholder.start && !isPlaceholder.end) && day.compare(highlightedRange.start) >= 0 && day.compare(highlightedRange.end) <= 0;\n  }, [highlightedRange, isPlaceholder, isHighlighting]);\n  const dayIsRangeStart = useCallback(day => isSameDay(day, highlightedRange.start), [highlightedRange]);\n  const dayIsRangeEnd = useCallback(day => isSameDay(day, highlightedRange.end), [highlightedRange]);\n  const getCellProps = useCallback((date, isSameMonth) => {\n    return {\n      onPointerEnter: () => {\n        if (isHighlighting && isSameMonth) {\n          setHighlightedRange(makeRange({\n            start: anchorDate,\n            end: date,\n            timezone\n          }));\n        }\n      },\n      onClick: () => {\n        if (!isHighlighting) {\n          setIsHighlighting(true);\n          setAnchorDate(date);\n          setHighlightedRange(makeRange({\n            start: date,\n            end: date,\n            timezone\n          }));\n        } else {\n          const finalRange = makeRange({\n            start: anchorDate,\n            end: date,\n            timezone\n          });\n          // cast to start and end of day after making range, because \"makeRange\"\n          // will flip start and end dates, if they are out of order\n          finalRange.start = startOfDay(finalRange.start);\n          finalRange.end = endOfDay(finalRange.end);\n          setIsHighlighting(false);\n          setAnchorDate(null);\n          setSelectedValue?.(finalRange);\n          if (closeDialogOnSelection) {\n            setCalendarIsOpen?.(false);\n          }\n        }\n      }\n    };\n  }, [anchorDate, isHighlighting, setSelectedValue, setCalendarIsOpen, closeDialogOnSelection, timezone]);\n  return {\n    selectedValue: internalValue,\n    setSelectedValue,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    dayIsActive,\n    dayIsHighlighted,\n    dayIsRangeStart,\n    dayIsRangeEnd,\n    getCellProps,\n    calendarDates,\n    setIsPlaceholder,\n    isPlaceholder,\n    clear,\n    setCalendarDates,\n    min,\n    max,\n    granularity,\n    timezone,\n    closeDialogOnSelection\n  };\n}\nfunction rangeToCalendarDates(range, max) {\n  let start = toCalendarDate(startOfMonth(range.start));\n  let end = toCalendarDate(endOfMonth(range.end));\n\n  // make sure we don't show the same month twice\n  if (isSameMonth(start, end)) {\n    end = endOfMonth(end.add({\n      months: 1\n    }));\n  }\n\n  // if next month is disabled, show previous instead\n  if (max && end.compare(max) > 0) {\n    end = start;\n    start = startOfMonth(start.subtract({\n      months: 1\n    }));\n  }\n  return [start, end];\n}\nfunction makeRange(props) {\n  const start = toSafeZoned(props.start, props.timezone);\n  const end = toSafeZoned(props.end, props.timezone);\n  if (start.compare(end) > 0) {\n    return {\n      start: end,\n      end: start\n    };\n  }\n  return {\n    start,\n    end\n  };\n}\nfunction completeRange(range, now) {\n  if (range?.start && range?.end) {\n    return range;\n  } else if (!range?.start && range?.end) {\n    range.start = range.end.subtract({\n      months: 1\n    });\n    return range;\n  } else if (!range?.end && range?.start) {\n    range.end = range.start.add({\n      months: 1\n    });\n    return range;\n  }\n  return {\n    start: now,\n    end: now.add({\n      months: 1\n    })\n  };\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const ArrowRightAltIcon = createSvgIcon(<path d=\"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z\" />, 'ArrowRightAltOutlined');","export function adjustSegment(value, part, amount, options) {\n  switch (part) {\n    case 'era':\n    case 'year':\n    case 'month':\n    case 'day':\n      return value.cycle(part, amount, {\n        round: part === 'year'\n      });\n  }\n  if ('hour' in value) {\n    switch (part) {\n      case 'dayPeriod':\n        {\n          const hours = value.hour;\n          const isPM = hours >= 12;\n          return value.set({\n            hour: isPM ? hours - 12 : hours + 12\n          });\n        }\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return value.cycle(part, amount, {\n          round: part !== 'hour',\n          hourCycle: options.hour12 ? 12 : 24\n        });\n    }\n  }\n  return value;\n}","export function setSegment(value, part, segmentValue, options) {\n  switch (part) {\n    case 'day':\n    case 'month':\n    case 'year':\n      return value.set({\n        [part]: segmentValue\n      });\n  }\n  if ('hour' in value) {\n    switch (part) {\n      case 'dayPeriod':\n        {\n          const hours = value.hour;\n          const wasPM = hours >= 12;\n          const isPM = segmentValue >= 12;\n          if (isPM === wasPM) {\n            return value;\n          }\n          return value.set({\n            hour: wasPM ? hours - 12 : hours + 12\n          });\n        }\n      case 'hour':\n        // In 12 hour time, ensure that AM/PM does not change\n        if (options.hour12) {\n          const hours = value.hour;\n          const wasPM = hours >= 12;\n          if (!wasPM && segmentValue === 12) {\n            segmentValue = 0;\n          }\n          if (wasPM && segmentValue < 12) {\n            segmentValue += 12;\n          }\n        }\n      // fallthrough\n      case 'minute':\n      case 'second':\n        return value.set({\n          [part]: segmentValue\n        });\n    }\n  }\n  return value;\n}","export const PAGE_STEP = {\n  year: 5,\n  month: 2,\n  day: 7,\n  hour: 2,\n  minute: 15,\n  second: 15,\n  dayPeriod: 1\n};","import { useFocusManager } from '@react-aria/focus';\nimport React, { useMemo, useRef } from 'react';\nimport { NumberParser } from '@internationalized/number';\nimport { mergeProps } from '@react-aria/utils';\nimport { today } from '@internationalized/date';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { adjustSegment } from './utils/adjust-segment';\nimport { setSegment } from './utils/set-segment';\nimport { PAGE_STEP } from './utils/page-step';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nexport function EditableDateSegment({\n  segment,\n  domProps,\n  value,\n  onChange,\n  isPlaceholder,\n  state: {\n    timezone,\n    calendarIsOpen,\n    setCalendarIsOpen\n  }\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  const enteredKeys = useRef('');\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const focusManager = useFocusManager();\n  const formatter = useDateFormatter({\n    timeZone: timezone\n  });\n  const parser = useMemo(() => new NumberParser(localeCode, {\n    maximumFractionDigits: 0\n  }), [localeCode]);\n  const setSegmentValue = newValue => {\n    onChange(setSegment(value, segment.type, newValue, formatter.resolvedOptions()));\n  };\n  const adjustSegmentValue = amount => {\n    onChange(adjustSegment(value, segment.type, amount, formatter.resolvedOptions()));\n  };\n  const backspace = () => {\n    if (parser.isValidPartialNumber(segment.text)) {\n      const newValue = segment.text.slice(0, -1);\n      const parsed = parser.parse(newValue);\n      if (newValue.length === 0 || parsed === 0) {\n        const now = today(timezone);\n        if (segment.type in now) {\n          // @ts-ignore\n          setSegmentValue(now[segment.type]);\n        }\n      } else {\n        setSegmentValue(parsed);\n      }\n      enteredKeys.current = newValue;\n    } else if (segment.type === 'dayPeriod') {\n      adjustSegmentValue(-1);\n    }\n  };\n  const onKeyDown = e => {\n    if (e.ctrlKey || e.metaKey || e.shiftKey || e.altKey) {\n      return;\n    }\n\n    // Navigation between date segments and deletion\n    switch (e.key) {\n      case 'ArrowLeft':\n        e.preventDefault();\n        e.stopPropagation();\n        focusManager?.focusPrevious();\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        e.stopPropagation();\n        focusManager?.focusNext();\n        break;\n      case 'Enter':\n        e.target.closest('form')?.requestSubmit();\n        setCalendarIsOpen(!calendarIsOpen);\n        break;\n      case 'Tab':\n        break;\n      case 'Backspace':\n      case 'Delete':\n        {\n          e.preventDefault();\n          e.stopPropagation();\n          backspace();\n          break;\n        }\n\n      // Spinbutton incrementing/decrementing\n      case 'ArrowUp':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(1);\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(-1);\n        break;\n      case 'PageUp':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(PAGE_STEP[segment.type] || 1);\n        break;\n      case 'PageDown':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(-(PAGE_STEP[segment.type] || 1));\n        break;\n      case 'Home':\n        e.preventDefault();\n        enteredKeys.current = '';\n        setSegmentValue(segment.maxValue);\n        break;\n      case 'End':\n        e.preventDefault();\n        enteredKeys.current = '';\n        setSegmentValue(segment.minValue);\n        break;\n    }\n    onInput(e.key);\n  };\n  const amPmFormatter = useDateFormatter({\n    hour: 'numeric',\n    hour12: true\n  });\n  const am = useMemo(() => {\n    const amDate = new Date();\n    amDate.setHours(0);\n    return amPmFormatter.formatToParts(amDate).find(part => part.type === 'dayPeriod').value;\n  }, [amPmFormatter]);\n  const pm = useMemo(() => {\n    const pmDate = new Date();\n    pmDate.setHours(12);\n    return amPmFormatter.formatToParts(pmDate).find(part => part.type === 'dayPeriod').value;\n  }, [amPmFormatter]);\n\n  // Update date values on user keyboard input\n  const onInput = key => {\n    const newValue = enteredKeys.current + key;\n    switch (segment.type) {\n      case 'dayPeriod':\n        if (am.toLowerCase().startsWith(key)) {\n          setSegmentValue(0);\n        } else if (pm.toLowerCase().startsWith(key)) {\n          setSegmentValue(12);\n        } else {\n          break;\n        }\n        focusManager?.focusNext();\n        break;\n      case 'day':\n      case 'hour':\n      case 'minute':\n      case 'second':\n      case 'month':\n      case 'year':\n        {\n          if (!parser.isValidPartialNumber(newValue)) {\n            return;\n          }\n          let numberValue = parser.parse(newValue);\n          let segmentValue = numberValue;\n          let allowsZero = segment.minValue === 0;\n          if (segment.type === 'hour' && formatter.resolvedOptions().hour12) {\n            switch (formatter.resolvedOptions().hourCycle) {\n              case 'h11':\n                if (numberValue > 11) {\n                  segmentValue = parser.parse(key);\n                }\n                break;\n              case 'h12':\n                allowsZero = false;\n                if (numberValue > 12) {\n                  segmentValue = parser.parse(key);\n                }\n                break;\n            }\n            if (segment.value >= 12 && numberValue > 1) {\n              numberValue += 12;\n            }\n          } else if (numberValue > segment.maxValue) {\n            segmentValue = parser.parse(key);\n          }\n          if (Number.isNaN(numberValue)) {\n            return;\n          }\n          const shouldSetValue = segmentValue !== 0 || allowsZero;\n          if (shouldSetValue) {\n            setSegmentValue(segmentValue);\n          }\n          if (Number(`${numberValue}0`) > segment.maxValue || newValue.length >= String(segment.maxValue).length) {\n            enteredKeys.current = '';\n            if (shouldSetValue) {\n              focusManager?.focusNext();\n            }\n          } else {\n            enteredKeys.current = newValue;\n          }\n          break;\n        }\n    }\n  };\n  const spinButtonProps = isMobile ? {} : {\n    'aria-label': segment.type,\n    'aria-valuetext': isPlaceholder ? undefined : `${segment.value}`,\n    'aria-valuemin': segment.minValue,\n    'aria-valuemax': segment.maxValue,\n    'aria-valuenow': isPlaceholder ? undefined : segment.value,\n    tabIndex: 0,\n    onKeyDown\n  };\n  return <div {...mergeProps(domProps, {\n    ...spinButtonProps,\n    onFocus: e => {\n      enteredKeys.current = '';\n      e.target.scrollIntoView({\n        block: 'nearest'\n      });\n    },\n    onClick: e => {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  })} className=\"box-content cursor-default select-none whitespace-nowrap rounded p-2 text-center tabular-nums caret-transparent outline-none focus:bg-primary focus:text-on-primary\">\n      {segment.text.padStart(segment.minLength, '0')}\n    </div>;\n}","import { useFocusManager } from '@react-aria/focus';\nexport function LiteralDateSegment({\n  segment,\n  domProps\n}) {\n  const focusManager = useFocusManager();\n  return <div {...domProps} onPointerDown={e => {\n    if (e.pointerType === 'mouse') {\n      e.preventDefault();\n      const res = focusManager?.focusNext({\n        from: e.target\n      });\n      if (!res) {\n        focusManager?.focusPrevious({\n          from: e.target\n        });\n      }\n    }\n  }} aria-hidden className=\"min-w-4 cursor-default select-none\">\n      {segment.text}\n    </div>;\n}","import { getMinimumDayInMonth, getMinimumMonthInYear } from '@internationalized/date';\nexport function getSegmentLimits(date, type, options) {\n  switch (type) {\n    case 'year':\n      return {\n        value: date.year,\n        placeholder: 'yyyy',\n        minValue: 1,\n        maxValue: date.calendar.getYearsInEra(date)\n      };\n    case 'month':\n      return {\n        value: date.month,\n        placeholder: 'mm',\n        minValue: getMinimumMonthInYear(date),\n        maxValue: date.calendar.getMonthsInYear(date)\n      };\n    case 'day':\n      return {\n        value: date.day,\n        minValue: getMinimumDayInMonth(date),\n        maxValue: date.calendar.getDaysInMonth(date),\n        placeholder: 'dd'\n      };\n  }\n  if ('hour' in date) {\n    switch (type) {\n      case 'dayPeriod':\n        return {\n          value: date.hour >= 12 ? 12 : 0,\n          minValue: 0,\n          maxValue: 12,\n          placeholder: '--'\n        };\n      case 'hour':\n        if (options.hour12) {\n          const isPM = date.hour >= 12;\n          return {\n            value: date.hour,\n            minValue: isPM ? 12 : 0,\n            maxValue: isPM ? 23 : 11,\n            placeholder: '--'\n          };\n        }\n        return {\n          value: date.hour,\n          minValue: 0,\n          maxValue: 23,\n          placeholder: '--'\n        };\n      case 'minute':\n        return {\n          value: date.minute,\n          minValue: 0,\n          maxValue: 59,\n          placeholder: '--'\n        };\n    }\n  }\n  return {};\n}","import React, { useMemo } from 'react';\nimport { EditableDateSegment } from './editable-date-segment';\nimport { LiteralDateSegment } from './literal-segment';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { getSegmentLimits } from './utils/get-segment-limits';\nexport function DateSegmentList({\n  segmentProps,\n  state,\n  value,\n  onChange,\n  isPlaceholder\n}) {\n  const {\n    granularity\n  } = state;\n  const options = useMemo(() => {\n    const memoOptions = {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric'\n    };\n    if (granularity === 'minute') {\n      memoOptions.hour = 'numeric';\n      memoOptions.minute = 'numeric';\n    }\n    return memoOptions;\n  }, [granularity]);\n  const formatter = useDateFormatter(options);\n  const dateValue = useMemo(() => value.toDate(), [value]);\n  const segments = useMemo(() => {\n    return formatter.formatToParts(dateValue).map(segment => {\n      const limits = getSegmentLimits(value, segment.type, formatter.resolvedOptions());\n      const textValue = isPlaceholder && segment.type !== 'literal' ? limits.placeholder : segment.value;\n      return {\n        type: segment.type,\n        text: segment.value === ', ' ? ' ' : textValue,\n        ...limits,\n        minLength: segment.type !== 'literal' ? String(limits.maxValue).length : 1\n      };\n    });\n  }, [dateValue, formatter, isPlaceholder, value]);\n  return <div className=\"flex items-center\">\n      {segments.map((segment, index) => {\n      if (segment.type === 'literal') {\n        return <LiteralDateSegment domProps={segmentProps} key={index} segment={segment} />;\n      }\n      return <EditableDateSegment isPlaceholder={isPlaceholder} domProps={segmentProps} state={state} value={value} onChange={onChange} segment={segment} key={index} />;\n    })}\n    </div>;\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const KeyboardArrowRightIcon = createSvgIcon(<path d=\"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\" />, 'KeyboardArrowRightOutlined');","import React from 'react';\nimport clsx from 'clsx';\nimport { getDayOfWeek, isSameMonth, isToday } from '@internationalized/date';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { dateIsInvalid } from '../utils';\nexport function CalendarCell({\n  date,\n  currentMonth,\n  state: {\n    dayIsActive,\n    dayIsHighlighted,\n    dayIsRangeStart,\n    dayIsRangeEnd,\n    getCellProps,\n    timezone,\n    min,\n    max\n  }\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const dayOfWeek = getDayOfWeek(date, localeCode);\n  const isActive = dayIsActive(date);\n  const isHighlighted = dayIsHighlighted(date);\n  const isRangeStart = dayIsRangeStart(date);\n  const isRangeEnd = dayIsRangeEnd(date);\n  const dayIsToday = isToday(date, timezone);\n  const sameMonth = isSameMonth(date, currentMonth);\n  const isDisabled = dateIsInvalid(date, min, max);\n  return <div role=\"button\" aria-disabled={isDisabled} className={clsx('relative isolate h-40 w-40 flex-shrink-0 text-sm', isDisabled && 'pointer-events-none text-disabled', !sameMonth && 'pointer-events-none invisible')} {...getCellProps(date, sameMonth)}>\n      <span className={clsx('absolute inset-0 z-10 flex h-full w-full cursor-pointer select-none items-center justify-center rounded-full', !isActive && !dayIsToday && 'hover:bg-hover', isActive && 'bg-primary font-semibold text-on-primary', dayIsToday && !isActive && 'bg-chip')}>\n        {date.day}\n      </span>\n      {isHighlighted && sameMonth && <span className={clsx('absolute inset-0 h-full w-full bg-primary/focus', (isRangeStart || dayOfWeek === 0 || date.day === 1) && 'rounded-l-full', (isRangeEnd || dayOfWeek === 6 || date.day === currentMonth.calendar.getDaysInMonth(currentMonth)) && 'rounded-r-full')} />}\n    </div>;\n}","import React from 'react';\nimport clsx from 'clsx';\nimport { m } from 'framer-motion';\nimport { endOfMonth, getWeeksInMonth, startOfMonth, startOfWeek } from '@internationalized/date';\nimport { KeyboardArrowLeftIcon } from '@ui/icons/material/KeyboardArrowLeft';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { KeyboardArrowRightIcon } from '@ui/icons/material/KeyboardArrowRight';\nimport { CalendarCell } from './calendar-cell';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { dateIsInvalid } from '../utils';\nexport function CalendarMonth({\n  startDate,\n  state,\n  isFirst,\n  isLast\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const weeksInMonth = getWeeksInMonth(startDate, localeCode);\n  const monthStart = startOfWeek(startDate, localeCode);\n  return <div className=\"w-280 flex-shrink-0\">\n      <CalendarMonthHeader isFirst={isFirst} isLast={isLast} state={state} currentMonth={startDate} />\n      <div className=\"block\" role=\"grid\">\n        <WeekdayHeader state={state} startDate={startDate} />\n        {[...new Array(weeksInMonth).keys()].map(weekIndex => <m.div className=\"mb-6 flex\" key={weekIndex}>\n            {[...new Array(7).keys()].map(dayIndex => <CalendarCell key={dayIndex} date={monthStart.add({\n          weeks: weekIndex,\n          days: dayIndex\n        })} currentMonth={startDate} state={state} />)}\n          </m.div>)}\n      </div>\n    </div>;\n}\nfunction CalendarMonthHeader({\n  currentMonth,\n  isFirst,\n  isLast,\n  state: {\n    calendarDates,\n    setCalendarDates,\n    timezone,\n    min,\n    max\n  }\n}) {\n  const shiftCalendars = direction => {\n    const count = calendarDates.length;\n    let newDates;\n    if (direction === 'forward') {\n      newDates = calendarDates.map(date => endOfMonth(date.add({\n        months: count\n      })));\n    } else {\n      newDates = calendarDates.map(date => endOfMonth(date.subtract({\n        months: count\n      })));\n    }\n    setCalendarDates(newDates);\n  };\n  const monthFormatter = useDateFormatter({\n    month: 'long',\n    year: 'numeric',\n    era: currentMonth.calendar.identifier !== 'gregory' ? 'long' : undefined,\n    calendar: currentMonth.calendar.identifier\n  });\n  const isBackwardDisabled = dateIsInvalid(currentMonth.subtract({\n    days: 1\n  }), min, max);\n  const isForwardDisabled = dateIsInvalid(startOfMonth(currentMonth.add({\n    months: 1\n  })), min, max);\n  return <div className=\"flex items-center justify-between gap-10\">\n      <IconButton size=\"md\" className={clsx('text-muted', !isFirst && 'invisible')} disabled={!isFirst || isBackwardDisabled} aria-hidden={!isFirst} onClick={() => {\n      shiftCalendars('backward');\n    }}>\n        <KeyboardArrowLeftIcon />\n      </IconButton>\n      <div className=\"select-none text-sm font-semibold\">\n        {monthFormatter.format(currentMonth.toDate(timezone))}\n      </div>\n      <IconButton size=\"md\" className={clsx('text-muted', !isLast && 'invisible')} disabled={!isLast || isForwardDisabled} aria-hidden={!isLast} onClick={() => {\n      shiftCalendars('forward');\n    }}>\n        <KeyboardArrowRightIcon />\n      </IconButton>\n    </div>;\n}\nfunction WeekdayHeader({\n  state: {\n    timezone\n  },\n  startDate\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const dayFormatter = useDateFormatter({\n    weekday: 'short'\n  });\n  const monthStart = startOfWeek(startDate, localeCode);\n  return <div className=\"flex\">\n      {[...new Array(7).keys()].map(index => {\n      const date = monthStart.add({\n        days: index\n      });\n      const dateDay = date.toDate(timezone);\n      const weekday = dayFormatter.format(dateDay);\n      return <div className=\"relative h-40 w-40 flex-shrink-0 text-sm font-semibold\" key={index}>\n            <div className=\"absolute flex h-full w-full select-none items-center justify-center\">\n              {weekday}\n            </div>\n          </div>;\n    })}\n    </div>;\n}","import React, { Fragment } from 'react';\nimport { startOfMonth, toCalendarDate } from '@internationalized/date';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { CalendarMonth } from './calendar-month';\nexport function Calendar({\n  state,\n  visibleMonths = 1\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  if (isMobile) {\n    visibleMonths = 1;\n  }\n  return <Fragment>\n      {[...new Array(visibleMonths).keys()].map(index => {\n      const startDate = toCalendarDate(startOfMonth(state.calendarDates[index]));\n      const isFirst = index === 0;\n      const isLast = index === visibleMonths - 1;\n      return <CalendarMonth key={index} state={state} startDate={startDate} isFirst={isFirst} isLast={isLast} />;\n    })}\n    </Fragment>;\n}","import { parseAbsolute } from '@internationalized/date';\nimport { Fragment, memo } from 'react';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { useSettings } from '@ui/settings/use-settings';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nimport { useUserTimezone } from '@ui/i18n/use-user-timezone';\nimport { DateFormatPresets } from '@ui/i18n/formatted-date';\nexport const FormattedDateTimeRange = memo(({\n  start,\n  end,\n  options,\n  preset,\n  timezone: propsTimezone\n}) => {\n  const {\n    dates\n  } = useSettings();\n  const userTimezone = useUserTimezone();\n  const timezone = propsTimezone || options?.timeZone || userTimezone;\n  const formatter = useDateFormatter(options || DateFormatPresets[preset || dates?.format]);\n  if (!start || !end) {\n    return null;\n  }\n  let value;\n  try {\n    value = formatter.formatRange(castToDate(start, timezone), castToDate(end, timezone));\n  } catch (e) {\n    value = '';\n  }\n  return <Fragment>{value}</Fragment>;\n}, shallowEqual);\nfunction castToDate(date, timezone) {\n  if (typeof date === 'string') {\n    return parseAbsolute(date, timezone).toDate();\n  }\n  if ('toDate' in date) {\n    return date.toDate(timezone);\n  }\n  return date;\n}","import { List, ListItem } from '@ui/list/list';\nimport { DateRangePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport { Trans } from '@ui/i18n/trans';\nexport function DatePresetList({\n  onPresetSelected,\n  selectedValue\n}) {\n  return <List>\n      {DateRangePresets.map(preset => <ListItem borderRadius=\"rounded-none\" capitalizeFirst key={preset.key} isSelected={selectedValue?.preset === preset.key} onSelected={() => {\n      const newValue = preset.getRangeValue();\n      onPresetSelected(newValue);\n    }}>\n          <Trans {...preset.label} />\n        </ListItem>)}\n    </List>;\n}","import { useMediaQuery } from '@ui/utils/hooks/use-media-query';\nexport function useIsTabletMediaQuery(options) {\n  return useMediaQuery('(max-width: 1024px)', options);\n}","import React, { useId } from 'react';\nimport clsx from 'clsx';\nimport { useController } from 'react-hook-form';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { getInputFieldClassNames } from '../input-field/get-input-field-class-names';\nimport { useAutoFocus } from '@ui/focus/use-auto-focus';\nexport const Switch = React.forwardRef((props, ref) => {\n  const {\n    children,\n    size = 'sm',\n    description,\n    className,\n    invalid,\n    autoFocus,\n    errorMessage,\n    iconRight,\n    ...domProps\n  } = props;\n  const inputRef = useObjectRef(ref);\n  useAutoFocus({\n    autoFocus\n  }, inputRef);\n  const style = getSizeClassName(size);\n  const fieldClassNames = getInputFieldClassNames(props);\n  const descriptionId = useId();\n  return <div className={clsx(className, 'isolate')}>\n        <label className=\"flex select-none items-center\">\n          <input {...domProps} type=\"checkbox\" role=\"switch\" aria-invalid={invalid || undefined} aria-describedby={description ? descriptionId : undefined} ref={inputRef} aria-checked={domProps.checked} className={clsx(style, !invalid && 'checked:border-primary checked:bg-primary dark:checked:border-primary-dark dark:checked:bg-primary-dark', invalid && 'checked:border-danger checked:bg-danger', 'relative flex flex-shrink-0 cursor-pointer appearance-none items-center overflow-hidden rounded-3xl border border-chip bg-chip p-0 outline-none transition-colors checked:border-primary checked:bg-primary', 'before:z-10 before:block before:translate-x-2 before:rounded-3xl before:border before:bg-white before:transition-transform', 'checked:before:border-white', 'focus-visible:ring', props.disabled && 'cursor-not-allowed opacity-80')} />\n          {children && <span className={clsx(fieldClassNames.size.font, 'ml-12', invalid && 'text-danger', props.disabled && 'text-disabled')}>\n              {children}\n            </span>}\n          {iconRight}\n        </label>\n        {description && !errorMessage && <div id={descriptionId} className={fieldClassNames.description}>\n            {description}\n          </div>}\n        {errorMessage && <div id={descriptionId} className={fieldClassNames.error}>\n            {errorMessage}\n          </div>}\n      </div>;\n});\nexport function FormSwitch(props) {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = false,\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name\n  });\n  const formProps = {\n    onChange: e => {\n      if (e.target.value && e.target.value !== 'on') {\n        onChange(e.target.checked ? e.target.value : false);\n      } else {\n        onChange(e);\n      }\n    },\n    onBlur,\n    checked: !!value,\n    invalid,\n    errorMessage: error?.message,\n    name: props.name\n  };\n  return <Switch ref={ref} {...mergeProps(props, formProps)} />;\n}\nfunction getSizeClassName(size) {\n  switch (size) {\n    case 'xl':\n      return 'w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36';\n    case 'lg':\n      return 'w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30';\n    case 'md':\n      return 'w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24';\n    case 'xs':\n      return 'w-30 h-18 before:w-12 before:h-12 checked:before:translate-x-14';\n    default:\n      return 'w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20';\n  }\n}","import { message } from '@ui/i18n/message';\nexport const DateRangeComparePresets = [{\n  key: 0,\n  label: message('Preceding period'),\n  getRangeValue: range => {\n    const startDate = range.start;\n    const endDate = range.end;\n    const diffInMilliseconds = endDate.toDate().getTime() - startDate.toDate().getTime();\n    const diffInMinutes = diffInMilliseconds / (1000 * 60);\n    const newStart = startDate.subtract({\n      minutes: diffInMinutes\n    });\n    return {\n      preset: 0,\n      start: newStart,\n      end: startDate\n    };\n  }\n}, {\n  key: 1,\n  label: message('Same period last year'),\n  getRangeValue: range => {\n    return {\n      start: range.start.subtract({\n        years: 1\n      }),\n      end: range.end.subtract({\n        years: 1\n      }),\n      preset: 1\n    };\n  }\n}, {\n  key: 2,\n  label: message('Custom'),\n  getRangeValue: range => {\n    return {\n      start: range.start.subtract({\n        weeks: 1\n      }),\n      end: range.end.subtract({\n        weeks: 1\n      }),\n      preset: 2\n    };\n  }\n}];","import { List, ListItem } from '@ui/list/list';\nimport { Trans } from '@ui/i18n/trans';\nimport { DateRangeComparePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-compare-presets';\nexport function DateRangeComparePresetList({\n  originalRangeValue,\n  onPresetSelected,\n  selectedValue\n}) {\n  return <List>\n      {DateRangeComparePresets.map(preset => <ListItem borderRadius=\"rounded-none\" capitalizeFirst key={preset.key} isSelected={selectedValue?.preset === preset.key} onSelected={() => {\n      const newValue = preset.getRangeValue(originalRangeValue);\n      onPresetSelected(newValue);\n    }}>\n          <Trans {...preset.label} />\n        </ListItem>)}\n    </List>;\n}","import React, { Fragment, useRef, useState } from 'react';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { DatePickerField } from '../date-picker-field';\nimport { Calendar } from '../../calendar/calendar';\nimport { DialogFooter } from '@ui/overlays/dialog/dialog-footer';\nimport { Button } from '@ui/buttons/button';\nimport { useDialogContext } from '@ui/overlays/dialog/dialog-context';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { ArrowRightAltIcon } from '@ui/icons/material/ArrowRightAlt';\nimport { DateSegmentList } from '../../segments/date-segment-list';\nimport { Trans } from '@ui/i18n/trans';\nimport { FormattedDateTimeRange } from '@ui/i18n/formatted-date-time-range';\nimport { DatePresetList } from './date-range-preset-list';\nimport { useIsTabletMediaQuery } from '@ui/utils/hooks/is-tablet-media-query';\nimport { Switch } from '@ui/forms/toggle/switch';\nimport { DateRangeComparePresetList } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-compare-preset-list';\nexport function DateRangeDialog({\n  state,\n  compareState,\n  showInlineDatePickerField = false,\n  compareVisibleDefault = false\n}) {\n  const isTablet = useIsTabletMediaQuery();\n  const {\n    close\n  } = useDialogContext();\n  const initialStateRef = useRef(state);\n  const hasPlaceholder = state.isPlaceholder.start || state.isPlaceholder.end;\n  const [compareVisible, setCompareVisible] = useState(compareVisibleDefault);\n  const footer = <DialogFooter dividerTop startAction={!hasPlaceholder && !isTablet ? <div className=\"text-xs\">\n            <FormattedDateTimeRange start={state.selectedValue.start.toDate()} end={state.selectedValue.end.toDate()} options={{\n      dateStyle: 'medium'\n    }} />\n          </div> : undefined}>\n      <Button variant=\"text\" size=\"xs\" onClick={() => {\n      state.setSelectedValue(initialStateRef.current.selectedValue);\n      state.setIsPlaceholder(initialStateRef.current.isPlaceholder);\n      close();\n    }}>\n        <Trans message=\"Cancel\" />\n      </Button>\n      <Button variant=\"flat\" color=\"primary\" size=\"xs\" onClick={() => {\n      const value = state.selectedValue;\n      if (compareState && compareVisible) {\n        value.compareStart = compareState.selectedValue.start;\n        value.compareEnd = compareState.selectedValue.end;\n      }\n      close(value);\n    }}>\n        <Trans message=\"Select\" />\n      </Button>\n    </DialogFooter>;\n  return <Dialog size=\"auto\">\n      <DialogBody className=\"flex\" padding=\"p-0\">\n        {!isTablet && <div className=\"min-w-192 py-14\">\n            <DatePresetList selectedValue={state.selectedValue} onPresetSelected={preset => {\n          state.setSelectedValue(preset);\n          if (state.closeDialogOnSelection) {\n            close(preset);\n          }\n        }} />\n            {!!compareState && <Fragment>\n                <Switch className=\"mx-20 mb-10 mt-14\" checked={compareVisible} onChange={e => setCompareVisible(e.target.checked)}>\n                  <Trans message=\"Compare\" />\n                </Switch>\n                {compareVisible && <DateRangeComparePresetList originalRangeValue={state.selectedValue} selectedValue={compareState.selectedValue} onPresetSelected={preset => {\n            compareState.setSelectedValue(preset);\n          }} />}\n              </Fragment>}\n          </div>}\n        <AnimatePresence initial={false}>\n          <Calendars state={state} compareState={compareState} showInlineDatePickerField={showInlineDatePickerField} compareVisible={compareVisible} />\n        </AnimatePresence>\n      </DialogBody>\n      {!state.closeDialogOnSelection && footer}\n    </Dialog>;\n}\nfunction Calendars({\n  state,\n  compareState,\n  showInlineDatePickerField,\n  compareVisible\n}) {\n  return <m.div initial={{\n    width: 0,\n    overflow: 'hidden'\n  }} animate={{\n    width: 'auto'\n  }} exit={{\n    width: 0,\n    overflow: 'hidden'\n  }} transition={{\n    type: 'tween',\n    duration: 0.125\n  }} className=\"border-l px-20 pb-20 pt-10\">\n      {showInlineDatePickerField && <div>\n          <InlineDatePickerField state={state} />\n          {!!compareState && compareVisible && <InlineDatePickerField state={compareState} label={<Trans message=\"Compare\" />} />}\n        </div>}\n      <div className=\"flex items-start gap-36\">\n        <Calendar state={state} visibleMonths={2} />\n      </div>\n    </m.div>;\n}\nfunction InlineDatePickerField({\n  state,\n  label\n}) {\n  const {\n    selectedValue,\n    setSelectedValue\n  } = state;\n  return <DatePickerField className=\"mb-20 mt-10\" label={label}>\n      <DateSegmentList state={state} value={selectedValue.start} onChange={newValue => {\n      setSelectedValue({\n        ...selectedValue,\n        start: newValue\n      });\n    }} />\n      <ArrowRightAltIcon className=\"block flex-shrink-0 text-muted\" size=\"md\" />\n      <DateSegmentList state={state} value={selectedValue.end} onChange={newValue => {\n      setSelectedValue({\n        ...selectedValue,\n        end: newValue\n      });\n    }} />\n    </DatePickerField>;\n}","import React, { Fragment, useRef } from 'react';\nimport { DateRangeIcon } from '@ui/icons/material/DateRange';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { DatePickerField } from './date-picker-field';\nimport { useDateRangePickerState } from './use-date-range-picker-state';\nimport { ArrowRightAltIcon } from '@ui/icons/material/ArrowRightAlt';\nimport { DateSegmentList } from '../segments/date-segment-list';\nimport { DateRangeDialog } from './dialog/date-range-dialog';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nexport function DateRangePicker(props) {\n  const {\n    granularity,\n    closeDialogOnSelection,\n    ...fieldProps\n  } = props;\n  const state = useDateRangePickerState(props);\n  const inputRef = useRef(null);\n  const isMobile = useIsMobileMediaQuery();\n  const hideCalendarIcon = isMobile && granularity !== 'day';\n  const dialog = <DialogTrigger offset={8} placement=\"bottom-start\" isOpen={state.calendarIsOpen} onOpenChange={state.setCalendarIsOpen} type=\"popover\" triggerRef={inputRef} returnFocusToTrigger={false} moveFocusToDialog={false}>\n      <DateRangeDialog state={state} />\n    </DialogTrigger>;\n  const openOnClick = {\n    onClick: e => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!isHourSegment(e)) {\n        state.setCalendarIsOpen(true);\n      } else {\n        state.setCalendarIsOpen(false);\n      }\n    }\n  };\n  const value = state.selectedValue;\n  const onChange = state.setSelectedValue;\n  return <Fragment>\n      <DatePickerField ref={inputRef} wrapperProps={openOnClick} endAdornment={!hideCalendarIcon ? <DateRangeIcon /> : undefined} {...fieldProps}>\n        <DateSegmentList isPlaceholder={state.isPlaceholder?.start} state={state} segmentProps={openOnClick} value={value.start} onChange={newValue => {\n        onChange({\n          start: newValue,\n          end: value.end\n        });\n      }} />\n        <ArrowRightAltIcon className=\"block flex-shrink-0 text-muted\" size=\"md\" />\n        <DateSegmentList isPlaceholder={state.isPlaceholder?.end} state={state} segmentProps={openOnClick} value={value.end} onChange={newValue => {\n        onChange({\n          start: value.start,\n          end: newValue\n        });\n      }} />\n      </DatePickerField>\n      {dialog}\n    </Fragment>;\n}\nfunction isHourSegment(e) {\n  return ['hour', 'minute', 'dayPeriod'].includes(e.currentTarget.ariaLabel || '');\n}","import { Fragment, memo } from 'react';\nimport { useNumberFormatter } from '@ui/i18n/use-number-formatter';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nexport const FormattedNumber = memo(({\n  value,\n  ...options\n}) => {\n  const formatter = useNumberFormatter(options);\n  if (isNaN(value)) {\n    value = 0;\n  }\n  return <Fragment>{formatter.format(value)}</Fragment>;\n}, shallowEqual);","import { createSvgIcon } from '../create-svg-icon';\nexport const RefreshIcon = createSvgIcon(<path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\" />, 'RefreshOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const ArrowBackIcon = createSvgIcon(<path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />, 'ArrowBackOutlined');","import { parseColor } from '@react-stately/color';\nexport function themeValueToHex(value) {\n  try {\n    return parseColor(`rgb(${value.split(' ').join(',')})`).toString('hex');\n  } catch (e) {\n    return value;\n  }\n}","import { Fragment, memo } from 'react';\nimport { prettyBytes } from '@ui/utils/files/pretty-bytes';\nexport const FormattedBytes = memo(({\n  bytes\n}) => {\n  return <Fragment>{prettyBytes(bytes)}</Fragment>;\n});","import { createSvgIcon } from '../create-svg-icon';\nexport const DownloadIcon = createSvgIcon(<path d=\"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\" />, 'DownloadOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const CloudUploadIcon = createSvgIcon(<path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z\" />, 'CloudUploadOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const SecurityIcon = createSvgIcon(<path d=\"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z\" />, 'SecurityOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const ShareIcon = createSvgIcon(<path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\" />, 'ShareOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const SpeedIcon = createSvgIcon([<path d=\"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z\" key=\"0\" />, <path d=\"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\" key=\"1\" />], 'SpeedOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const TrendingDownIcon = createSvgIcon(<path d=\"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6h-6z\" />, 'TrendingDownOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const TrendingFlatIcon = createSvgIcon(<path d=\"m22 12-4-4v3H3v2h15v3l4-4z\" />, 'TrendingFlatOutlined');","import { createSvgIcon } from '../create-svg-icon';\nexport const TrendingUpIcon = createSvgIcon(<path d=\"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z\" />, 'TrendingUpOutlined');","import React from 'react';\nimport clsx from 'clsx';\n\nexport function Card({ children, className, ...props }) {\n  return (\n    <div \n      className={clsx(\n        'rounded-panel border bg-paper p-0 shadow-sm',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function CardHeader({ children, className, ...props }) {\n  return (\n    <div \n      className={clsx(\n        'p-4 pb-2',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function CardTitle({ children, className, ...props }) {\n  return (\n    <h3 \n      className={clsx(\n        'text-lg font-semibold leading-none tracking-tight',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </h3>\n  );\n}\n\nexport function CardContent({ children, className, ...props }) {\n  return (\n    <div \n      className={clsx(\n        'p-4 pt-0',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}","import React from 'react';\nimport clsx from 'clsx';\n\nexport function CardContent({ children, className, ...props }) {\n  return (\n    <div \n      className={clsx(\n        'p-4 pt-0',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}","import clsx from 'clsx';\nexport function ChartLayout(props) {\n  const {\n    title,\n    description,\n    children,\n    className,\n    contentIsFlex = true,\n    contentClassName,\n    contentRef\n  } = props;\n  return <div className={clsx('flex h-full flex-auto flex-col rounded-panel border bg p-10 dark:bg-alt', className)}>\n      <div className=\"flex flex-shrink-0 items-center justify-between pb-10 text-xs\">\n        <div className=\"text-sm font-semibold\">{title}</div>\n        {description && <div className=\"text-muted\">{description}</div>}\n      </div>\n      <div ref={contentRef} className={clsx('relative', contentIsFlex && 'flex flex-auto items-center justify-center', contentClassName)}>\n        {children}\n      </div>\n    </div>;\n}","import { ProgressCircle } from '@ui/progress/progress-circle';\nimport { Trans } from '@ui/i18n/trans';\nexport function ChartLoadingIndicator() {\n  return <div className=\"absolute mx-auto flex items-center gap-10 text-sm\">\n      <ProgressCircle isIndeterminate size=\"sm\" />\n      <Trans message=\"Chart loading\" />\n    </div>;\n}","import { lazy, Suspense } from 'react';\nimport { ChartLayout } from './chart-layout';\nimport { ChartLoadingIndicator } from '@common/charts/chart-loading-indicator';\nimport clsx from 'clsx';\nconst LazyChart = lazy(() => import('./lazy-chart'));\nexport function BaseChart(props) {\n  const {\n    title,\n    description,\n    className,\n    rowSpan = 'row-span-11',\n    colSpan = 'col-span-6',\n    contentRef,\n    isLoading\n  } = props;\n  return <ChartLayout title={title} description={description} className={clsx(className, rowSpan, colSpan)} contentRef={contentRef}>\n      <Suspense fallback={<ChartLoadingIndicator />}>\n        <LazyChart {...props} />\n        {isLoading && <ChartLoadingIndicator />}\n      </Suspense>\n    </ChartLayout>;\n}","import { DateFormatter, parseAbsoluteToLocal } from '@internationalized/date';\nimport memoize from 'nano-memoize';\nimport { shallowEqual } from '@ui/utils/shallow-equal';\nexport function formatReportData(report, {\n  localeCode = 'en',\n  shareFirstDatasetLabels = true\n}) {\n  if (!report) return {\n    datasets: []\n  };\n  const firstDatasetLabels = [];\n  return {\n    ...report,\n    datasets: report.datasets.map((dataset, datasetIndex) => {\n      const data = dataset.data.map((datasetItem, itemIndex) => {\n        let label;\n        // when there are multiple datasets, we'll need to use labels from the first dataset, so charts are\n        // overlapped over one another, otherwise they will be side by side, if labels in all datasets are not identical.\n        if (datasetIndex === 0 || !shareFirstDatasetLabels) {\n          label = generateDatasetLabels(datasetItem, report.granularity, localeCode);\n          firstDatasetLabels[itemIndex] = label;\n        } else {\n          label = firstDatasetLabels[itemIndex];\n        }\n        return {\n          ...label,\n          value: datasetItem.value\n        };\n      });\n      return {\n        ...dataset,\n        data\n      };\n    })\n  };\n}\nfunction generateDatasetLabels(datum, granularity, locale) {\n  if (datum.label) {\n    return {\n      label: datum.label\n    };\n  }\n  if (!datum.date) {\n    return {\n      label: ''\n    };\n  }\n  return generateTimeLabels(datum, granularity, locale);\n}\nfunction generateTimeLabels({\n  date: isoDate,\n  endDate: isoEndDate\n}, granularity = 'day', locale) {\n  const date = parseAbsoluteToLocal(isoDate).toDate();\n  const endDate = isoEndDate ? parseAbsoluteToLocal(isoEndDate).toDate() : null;\n  switch (granularity) {\n    case 'minute':\n      return {\n        label: getFormatter(locale, {\n          second: '2-digit'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric',\n          second: '2-digit'\n        }).format(date)\n      };\n    case 'hour':\n      return {\n        label: getFormatter(locale, {\n          hour: 'numeric',\n          minute: 'numeric'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric'\n        }).format(date)\n      };\n    case 'day':\n      return {\n        label: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short',\n          month: 'short'\n        }).format(date)\n      };\n    case 'week':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          month: 'long',\n          year: 'numeric'\n        }).formatRange(date, endDate)\n      };\n    case 'month':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          year: 'numeric'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'long',\n          year: 'numeric'\n        }).format(date)\n      };\n    case 'year':\n      return {\n        label: getFormatter(locale, {\n          year: 'numeric'\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          year: 'numeric'\n        }).format(date)\n      };\n  }\n}\nconst getFormatter = memoize((locale, options) => {\n  return new DateFormatter(locale, options);\n}, {\n  equals: (a, b) => {\n    return shallowEqual(a, b);\n  },\n  callTimeout: undefined\n});","import { getBootstrapData } from '@ui/bootstrap-data/bootstrap-data-store';\nconst primaryColor = getBootstrapData().themes[0].values['--be-primary'];\nexport const ChartColors = [[`rgb(${primaryColor.replaceAll(' ', ',')})`, `rgba(${primaryColor.replaceAll(' ', ',')},0.2)`], ['rgb(255,112,67)', 'rgb(255,112,67,0.2)'], ['rgb(255,167,38)', 'rgb(255,167,38,0.2)'], ['rgb(141,110,99)', 'rgb(141,110,99,0.2)'], ['rgb(102,187,106)', 'rgba(102,187,106,0.2)'], ['rgb(92,107,192)', 'rgb(92,107,192,0.2)']];","import { BaseChart } from './base-chart';\nimport { useMemo } from 'react';\nimport { formatReportData } from './data/format-report-data';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { ChartColors } from './chart-colors';\nconst LineChartOptions = {\n  parsing: {\n    xAxisKey: 'label',\n    yAxisKey: 'value'\n  },\n  datasets: {\n    line: {\n      fill: 'origin',\n      tension: 0.1,\n      pointBorderWidth: 4,\n      pointHitRadius: 10\n    }\n  },\n  plugins: {\n    tooltip: {\n      intersect: false,\n      mode: 'index'\n    }\n  }\n};\nexport function LineChart({\n  data,\n  ...props\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const formattedData = useMemo(() => {\n    const formattedData = formatReportData(data, {\n      localeCode\n    });\n    formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n      ...dataset,\n      backgroundColor: ChartColors[i][1],\n      borderColor: ChartColors[i][0],\n      pointBackgroundColor: ChartColors[i][0]\n    }));\n    return formattedData;\n  }, [data, localeCode]);\n  return <BaseChart {...props} data={formattedData} type=\"line\" options={LineChartOptions} />;\n}","import { BaseChart } from './base-chart';\nimport { ChartColors } from './chart-colors';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { useMemo } from 'react';\nimport { formatReportData } from './data/format-report-data';\nexport function BarChart({\n  data,\n  direction = 'vertical',\n  individualBarColors = false,\n  className,\n  ...props\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const formattedData = useMemo(() => {\n    const formattedData = formatReportData(data, {\n      localeCode\n    });\n    formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n      ...dataset,\n      backgroundColor: individualBarColors ? ChartColors.map(c => c[1]) : ChartColors[i][1],\n      borderColor: individualBarColors ? ChartColors.map(c => c[0]) : ChartColors[i][0],\n      borderWidth: 2\n    }));\n    return formattedData;\n  }, [data, localeCode, individualBarColors]);\n  const isHorizontal = direction === 'horizontal';\n  const options = useMemo(() => {\n    return {\n      indexAxis: isHorizontal ? 'y' : 'x',\n      parsing: {\n        xAxisKey: isHorizontal ? 'value' : 'label',\n        yAxisKey: isHorizontal ? 'label' : 'value'\n      }\n    };\n  }, [isHorizontal]);\n  return <BaseChart type=\"bar\" className={className} data={formattedData} options={options} {...props} />;\n}","import React from 'react';\nimport { BaseChart } from './base-chart';\n\nexport function PieChart({ \n  data, \n  className,\n  hideLegend = false,\n  ...props \n}) {\n  const chartData = {\n    labels: data?.labels || [],\n    datasets: [{\n      data: data?.datasets?.[0]?.data || [],\n      backgroundColor: data?.datasets?.[0]?.backgroundColor || [\n        '#3B82F6', // blue\n        '#10B981', // green\n        '#F59E0B', // yellow\n        '#EF4444', // red\n        '#8B5CF6', // purple\n        '#F97316', // orange\n        '#06B6D4', // cyan\n        '#84CC16', // lime\n      ],\n      borderWidth: 1,\n      borderColor: '#ffffff',\n    }]\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: !hideLegend,\n        position: 'bottom',\n        labels: {\n          padding: 20,\n          usePointStyle: true,\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: function(context) {\n            const label = context.label || '';\n            const value = context.parsed || 0;\n            const total = context.dataset.data.reduce((a, b) => a + b, 0);\n            const percentage = ((value / total) * 100).toFixed(1);\n            return `${label}: ${value} (${percentage}%)`;\n          }\n        }\n      }\n    },\n    ...props.options\n  };\n\n  return (\n    <BaseChart\n      type=\"pie\"\n      data={chartData}\n      options={options}\n      className={className}\n      {...props}\n    />\n  );\n}","import React from 'react';\nimport clsx from 'clsx';\n\nexport function CardHeader({ children, className, ...props }) {\n  return (\n    <div \n      className={clsx(\n        'p-4 pb-2',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}","import React from 'react';\nimport clsx from 'clsx';\n\nexport function CardTitle({ children, className, ...props }) {\n  return (\n    <h3 \n      className={clsx(\n        'text-lg font-semibold leading-none tracking-tight',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </h3>\n  );\n}","import React, { Fragment, useState } from 'react';\nimport { Trans } from '@ui/i18n/trans';\nimport { StatDisplayWidget } from '@common/admin/analytics/stat-display-widget';\nimport { BaseMetricDateRangePicker } from '@common/admin/analytics/base-metric-date-range-picker';\nimport { FormattedBytes } from '@ui/i18n/formatted-bytes';\nimport { FormattedNumber } from '@ui/i18n/formatted-number';\nimport { LineChart } from '@common/charts/line-chart';\nimport { BarChart } from '@common/charts/bar-chart';\nimport { PieChart } from '@common/charts/pie-chart';\nimport { Card } from '@ui/card/card';\nimport { CardContent } from '@ui/card/card-content';\nimport { CardHeader } from '@ui/card/card-header';\nimport { CardTitle } from '@ui/card/card-title';\nimport { Button } from '@ui/buttons/button';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { RefreshIcon } from '@ui/icons/material/Refresh';\nimport { DownloadIcon } from '@ui/icons/material/Download';\nimport { TrendingUpIcon } from '@ui/icons/material/TrendingUp';\nimport { TrendingDownIcon } from '@ui/icons/material/TrendingDown';\nimport { CloudUploadIcon } from '@ui/icons/material/CloudUpload';\nimport { ShareIcon } from '@ui/icons/material/Share';\nimport { PeopleIcon } from '@ui/icons/material/People';\nimport { StorageIcon } from '@ui/icons/material/Storage';\nimport { SpeedIcon } from '@ui/icons/material/Speed';\nimport { SecurityIcon } from '@ui/icons/material/Security';\nimport { Badge } from '@ui/badge/badge';\nimport { Tooltip } from '@ui/tooltip/tooltip';\nimport { Select } from '@ui/forms/select/select';\nimport { Item } from '@ui/forms/listbox/item';\nimport { DateRangeIcon } from '@ui/icons/material/DateRange';\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@common/http/query-client';\n\nexport function TransferAnalyticsPage() {\n  const [dateRange, setDateRange] = useState('last_30_days');\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  const { data: analyticsData, isLoading } = useQuery({\n    queryKey: ['transfer-analytics', dateRange, refreshKey],\n    queryFn: () => apiClient.get(`admin/analytics/transfers?range=${dateRange}`).then(response => response.data),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n\n  const handleRefresh = () => {\n    setRefreshKey(prev => prev + 1);\n  };\n\n  const handleExport = () => {\n    // Export analytics data as CSV\n    window.open(`/api/v1/admin/analytics/transfers/export?range=${dateRange}`, '_blank');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  const stats = analyticsData?.stats || {};\n  const charts = analyticsData?.charts || {};\n\n  return (\n    <Fragment>\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">\n              <Trans message=\"Transfer Analytics\" />\n            </h1>\n            <p className=\"text-muted mt-1\">\n              <Trans message=\"Comprehensive insights into your transfer service performance\" />\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Select\n              value={dateRange}\n              onSelectionChange={setDateRange}\n              className=\"min-w-150\"\n            >\n              <Item value=\"last_7_days\">\n                <Trans message=\"Last 7 days\" />\n              </Item>\n              <Item value=\"last_30_days\">\n                <Trans message=\"Last 30 days\" />\n              </Item>\n              <Item value=\"last_90_days\">\n                <Trans message=\"Last 90 days\" />\n              </Item>\n              <Item value=\"last_year\">\n                <Trans message=\"Last year\" />\n              </Item>\n            </Select>\n            <Tooltip label={<Trans message=\"Export data\" />}>\n              <IconButton onClick={handleExport}>\n                <DownloadIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip label={<Trans message=\"Refresh data\" />}>\n              <IconButton onClick={handleRefresh}>\n                <RefreshIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <StatCard\n            title={<Trans message=\"Total Transfers\" />}\n            value={<FormattedNumber value={stats.total_transfers || 0} />}\n            change={stats.transfers_change}\n            icon={<CloudUploadIcon className=\"text-primary\" />}\n            trend={stats.transfers_trend}\n          />\n          <StatCard\n            title={<Trans message=\"Total Data Transferred\" />}\n            value={<FormattedBytes bytes={stats.total_bytes || 0} />}\n            change={stats.bytes_change}\n            icon={<StorageIcon className=\"text-success\" />}\n            trend={stats.bytes_trend}\n          />\n          <StatCard\n            title={<Trans message=\"Active Users\" />}\n            value={<FormattedNumber value={stats.active_users || 0} />}\n            change={stats.users_change}\n            icon={<PeopleIcon className=\"text-info\" />}\n            trend={stats.users_trend}\n          />\n          <StatCard\n            title={<Trans message=\"Total Downloads\" />}\n            value={<FormattedNumber value={stats.total_downloads || 0} />}\n            change={stats.downloads_change}\n            icon={<DownloadIcon className=\"text-warning\" />}\n            trend={stats.downloads_trend}\n          />\n        </div>\n\n        {/* Performance Metrics */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <SpeedIcon className=\"text-primary\" />\n                <Trans message=\"Average Transfer Speed\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">\n                <FormattedBytes bytes={stats.avg_transfer_speed || 0} />\n                <span className=\"text-sm text-muted\">/s</span>\n              </div>\n              <div className=\"text-sm text-muted mt-1\">\n                <Trans message=\"Based on completed transfers\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <SecurityIcon className=\"text-success\" />\n                <Trans message=\"Success Rate\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-success\">\n                {((stats.successful_transfers / stats.total_transfers) * 100 || 0).toFixed(1)}%\n              </div>\n              <div className=\"text-sm text-muted mt-1\">\n                <Trans message=\"Successful transfers\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <ShareIcon className=\"text-info\" />\n                <Trans message=\"Avg. Downloads per Transfer\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">\n                {(stats.total_downloads / stats.total_transfers || 0).toFixed(1)}\n              </div>\n              <div className=\"text-sm text-muted mt-1\">\n                <Trans message=\"Downloads per transfer\" />\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Charts Section */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n          {/* Transfer Volume Over Time */}\n          <Card>\n            <CardHeader>\n              <CardTitle>\n                <Trans message=\"Transfer Volume Over Time\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <LineChart\n                data={charts.transfer_volume || []}\n                className=\"h-80\"\n                hideLegend={false}\n              />\n            </CardContent>\n          </Card>\n\n          {/* File Size Distribution */}\n          <Card>\n            <CardHeader>\n              <CardTitle>\n                <Trans message=\"File Size Distribution\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <PieChart\n                data={charts.file_size_distribution || []}\n                className=\"h-80\"\n              />\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Additional Charts */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n          {/* Top File Types */}\n          <Card>\n            <CardHeader>\n              <CardTitle>\n                <Trans message=\"Most Popular File Types\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <BarChart\n                data={charts.file_types || []}\n                className=\"h-80\"\n                layout=\"horizontal\"\n              />\n            </CardContent>\n          </Card>\n\n          {/* User Activity */}\n          <Card>\n            <CardHeader>\n              <CardTitle>\n                <Trans message=\"User Activity Patterns\" />\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <LineChart\n                data={charts.user_activity || []}\n                className=\"h-80\"\n                hideLegend={false}\n              />\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* System Health */}\n        <Card>\n          <CardHeader>\n            <CardTitle>\n              <Trans message=\"System Health & Performance\" />\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-success mb-2\">\n                  {stats.system_uptime || '99.9'}%\n                </div>\n                <div className=\"text-sm text-muted\">\n                  <Trans message=\"System Uptime\" />\n                </div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-info mb-2\">\n                  <FormattedBytes bytes={stats.storage_used || 0} />\n                </div>\n                <div className=\"text-sm text-muted\">\n                  <Trans message=\"Storage Used\" />\n                </div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-warning mb-2\">\n                  {stats.avg_response_time || 0}ms\n                </div>\n                <div className=\"text-sm text-muted\">\n                  <Trans message=\"Avg Response Time\" />\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </Fragment>\n  );\n}\n\nfunction StatCard({ title, value, change, icon, trend }) {\n  const isPositive = change > 0;\n  const isNegative = change < 0;\n\n  return (\n    <Card>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm font-medium text-muted\">{title}</p>\n            <div className=\"text-2xl font-bold mt-2\">{value}</div>\n            {change !== undefined && (\n              <div className={`flex items-center gap-1 text-sm mt-2 ${\n                isPositive ? 'text-success' : isNegative ? 'text-danger' : 'text-muted'\n              }`}>\n                {isPositive && <TrendingUpIcon className=\"w-4 h-4\" />}\n                {isNegative && <TrendingDownIcon className=\"w-4 h-4\" />}\n                <span>\n                  {Math.abs(change)}% from last period\n                </span>\n              </div>\n            )}\n          </div>\n          <div className=\"text-3xl opacity-80\">\n            {icon}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","import { keepPreviousData, useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@common/http/query-client';\nconst Endpoint = 'admin/reports';\nexport function useAdminReport(payload = {}) {\n  return useQuery({\n    queryKey: [Endpoint, payload],\n    queryFn: () => fetchAnalyticsReport(payload),\n    placeholderData: keepPreviousData\n  });\n}\nfunction fetchAnalyticsReport({\n  types,\n  dateRange\n}) {\n  const params = {};\n  if (types) {\n    params.types = types.join(',');\n  }\n  if (dateRange) {\n    params.startDate = dateRange.start.toAbsoluteString();\n    params.endDate = dateRange.end.toAbsoluteString();\n    params.timezone = dateRange.start.timeZone;\n  }\n  return apiClient.get(Endpoint, {\n    params\n  }).then(response => response.data);\n}","import { Fragment, memo, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { message } from '@ui/i18n/message';\nimport { parseAbsoluteToLocal } from '@internationalized/date';\nimport { getCurrentDateTime } from '@ui/i18n/use-current-date-time';\nexport const FormattedDuration = memo(({\n  minutes,\n  seconds,\n  ms: propsMs,\n  startDate: propsStartDate,\n  endDate: propsEndDate,\n  verbose = false,\n  addZeroToFirstUnit = true,\n  isLive,\n  maxIsLiveMs,\n  minDuration = 0,\n  liveInterval = 5000\n}) => {\n  const {\n    trans\n  } = useTrans();\n  const initialMs = useMemo(() => {\n    if (propsStartDate || propsEndDate) {\n      const startDate = propsStartDate ? parseAbsoluteToLocal(propsStartDate) : getCurrentDateTime();\n      const endDate = propsEndDate ? parseAbsoluteToLocal(propsEndDate) : getCurrentDateTime();\n      const diff = endDate.toDate().getTime() - startDate.toDate().getTime();\n      return diff > minDuration ? diff : minDuration;\n    }\n    if (minutes) {\n      return minutes * 60000;\n    } else if (seconds) {\n      return seconds * 1000;\n    }\n    if (!propsMs) {\n      return minDuration;\n    }\n    return propsMs;\n  }, [minutes, seconds, propsMs, propsStartDate, propsEndDate, minDuration]);\n  const [ms, setMs] = useState(initialMs);\n  useEffect(() => {\n    setMs(initialMs);\n  }, [initialMs]);\n  const msRef = useRef(ms);\n  msRef.current = ms;\n  useEffect(() => {\n    const overMaxMs = maxIsLiveMs && msRef.current > maxIsLiveMs;\n    if (isLive && !overMaxMs) {\n      const interval = setInterval(() => {\n        setMs(prev => prev + liveInterval);\n      }, liveInterval);\n      return () => clearInterval(interval);\n    }\n  }, [isLive, liveInterval, maxIsLiveMs, initialMs]);\n  const unsignedMs = ms < 0 ? -ms : ms;\n  const parsedMS = {\n    days: Math.trunc(unsignedMs / 86400000),\n    hours: Math.trunc(unsignedMs / 3600000) % 24,\n    minutes: Math.trunc(unsignedMs / 60000) % 60,\n    seconds: Math.trunc(unsignedMs / 1000) % 60\n  };\n  let formattedValue;\n  if (verbose) {\n    formattedValue = formatVerbose(parsedMS, trans);\n  } else {\n    formattedValue = formatCompact(parsedMS, addZeroToFirstUnit);\n  }\n  return <Fragment>{formattedValue}</Fragment>;\n});\nfunction formatVerbose(t, trans) {\n  const output = [];\n  if (t.days) {\n    output.push(`${t.days}${trans(message('d'))}`);\n  }\n  if (t.hours) {\n    output.push(`${t.hours}${trans(message('hr'))}`);\n  }\n  if (t.minutes) {\n    output.push(`${t.minutes}${trans(message('min'))}`);\n  }\n  if (t.seconds && !t.hours) {\n    output.push(`${t.seconds}${trans(message('sec'))}`);\n  }\n  return output.join(' ');\n}\nfunction formatCompact(t, addZeroToFirstUnit = true) {\n  const seconds = addZero(t.seconds);\n  let output = '';\n  if (t.days && !output) {\n    output = `${t.days}:${addZero(t.hours)}:${addZero(t.minutes)}:${seconds}`;\n  }\n  if (t.hours && !output) {\n    output = `${addZero(t.hours, addZeroToFirstUnit)}:${addZero(t.minutes)}:${seconds}`;\n  }\n  if (!output) {\n    output = `${addZero(t.minutes, addZeroToFirstUnit)}:${seconds}`;\n  }\n  return output;\n}\nfunction addZero(v, addZero = true) {\n  if (!addZero) return v;\n  let value = `${v}`;\n  if (value.length === 1) {\n    value = '0' + value;\n  }\n  return value;\n}","import React, { cloneElement, Fragment, isValidElement } from 'react';\nimport { TrendingUpIcon } from '@ui/icons/material/TrendingUp';\nimport { TrendingDownIcon } from '@ui/icons/material/TrendingDown';\nimport { createSvgIconFromTree } from '@ui/icons/create-svg-icon';\nimport { FormattedNumber } from '@ui/i18n/formatted-number';\nimport { FormattedBytes } from '@ui/i18n/formatted-bytes';\nimport { TrendingFlatIcon } from '@ui/icons/material/TrendingFlat';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nimport clsx from 'clsx';\nimport { Trans } from '@ui/i18n/trans';\nimport { FormattedDuration } from '@ui/i18n/formatted-duration';\nexport function AdminReportCardRow({\n  report,\n  isLoading\n}) {\n  if (!report) return <div className=\"col-span-12 row-span-3 mt-3 mb-3\" />;\n  return <Fragment>\n      {report?.map(data => <ReportCard key={data.name} icon={data.icon} type={data.type} currentValue={data.currentValue} previousValue={data.previousValue} percentageChange={data.percentageChange} isLoading={isLoading}>\n          <Trans message={data.name} />\n        </ReportCard>)}\n    </Fragment>;\n}\nexport function ReportCard({\n  icon: propsIcon,\n  children,\n  type,\n  currentValue,\n  previousValue,\n  percentageChange,\n  isLoading = false,\n  colSpan = 'col-span-3',\n  rowSpan = 'row-span-3'\n}) {\n  let icon;\n  if (propsIcon) {\n    if (isValidElement(propsIcon)) {\n      icon = cloneElement(propsIcon, {\n        size: 'sm'\n      });\n    } else {\n      const IconEl = createSvgIconFromTree(propsIcon);\n      icon = <IconEl size=\"sm\" />;\n    }\n  }\n  return <div className={clsx('compact-scrollbar flex flex-wrap flex-col p-2 justify-left items-left overflow-x-auto  mb-4 overflow-y-hidden whitespace-nowrap rounded-panel border', colSpan, rowSpan)}>\n      <div className=\"flex items-center gap-6\">\n        {icon}\n        <h2 className=\"text-sm font-semibold\">{children}</h2>\n      </div>\n      <div className=\"flex gap-10\">\n        <div className=\"text-4xl font-medium text-main\">\n          <AnimatePresence initial={false} mode=\"wait\">\n            {isLoading ? <m.div key=\"skeleton\" {...opacityAnimation}>\n                <Skeleton className=\"min-w-40\" />\n              </m.div> : <m.div key=\"value\" {...opacityAnimation}>\n                <FormattedValue type={type} value={currentValue} />\n              </m.div>}\n          </AnimatePresence>\n        </div>\n        {currentValue != null && (percentageChange != null || previousValue != null) && <div className=\"flex items-center gap-10\">\n              <TrendingIndicator currentValue={currentValue} previousValue={previousValue} percentageChange={percentageChange} />\n            </div>}\n      </div>\n    </div>;\n}\nfunction FormattedValue({\n  type,\n  value\n}) {\n  if (value == null) return '';\n  switch (type) {\n    case 'fileSize':\n      return <FormattedBytes bytes={value} />;\n    case 'percentage':\n      return <FormattedNumber value={value} style=\"percent\" maximumFractionDigits={1} />;\n    case 'durationInSeconds':\n      return <FormattedDuration seconds={value} verbose />;\n    default:\n      return <FormattedNumber value={value} />;\n  }\n}\nfunction TrendingIndicator(props) {\n  const percentage = calculatePercentage(props);\n  let icon;\n  if (percentage > 0) {\n    icon = <TrendingUpIcon size=\"md\" className=\"text-positive\" />;\n  } else if (percentage === 0) {\n    icon = <TrendingFlatIcon className=\"text-muted\" />;\n  } else {\n    icon = <TrendingDownIcon className=\"text-danger\" />;\n  }\n  return <Fragment>\n      {icon}\n      <div className=\"text-sm font-semibold text-muted\">{percentage}%</div>\n    </Fragment>;\n}\nfunction calculatePercentage({\n  percentageChange,\n  previousValue,\n  currentValue\n}) {\n  if (percentageChange != null || previousValue == null || currentValue == null) {\n    return percentageChange ?? 0;\n  }\n  if (previousValue === 0) {\n    return 100;\n  }\n  return Math.round((currentValue - previousValue) / previousValue * 100);\n}","import { BaseChart } from './base-chart';\nimport { ChartColors } from './chart-colors';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { useMemo } from 'react';\nimport { formatReportData } from './data/format-report-data';\nconst PolarAreaChartOptions = {\n  parsing: {\n    key: 'value'\n  },\n  plugins: {\n    tooltip: {\n      intersect: true\n    }\n  }\n};\nexport function PolarAreaChart({\n  data,\n  className,\n  ...props\n}) {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const formattedData = useMemo(() => {\n    const formattedData = formatReportData(data, {\n      localeCode\n    });\n    formattedData.labels = formattedData.datasets[0]?.data.map(d => d.label);\n    formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n      ...dataset,\n      backgroundColor: ChartColors.map(c => c[1]),\n      borderColor: ChartColors.map(c => c[0]),\n      borderWidth: 2\n    }));\n    return formattedData;\n  }, [data, localeCode]);\n  return <BaseChart type=\"polarArea\" data={formattedData} options={PolarAreaChartOptions} className={className} {...props} />;\n}","import lazyLoader from '@ui/utils/loaders/lazy-loader';\nimport { useSettings } from '@ui/settings/use-settings';\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useThemeSelector } from '@ui/themes/theme-selector-context';\nimport { themeValueToHex } from '@ui/themes/utils/theme-value-to-hex';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { message } from '@ui/i18n/message';\nconst loaderUrl = 'https://www.gstatic.com/charts/loader.js';\nexport function useGoogleGeoChart({\n  placeholderRef,\n  data,\n  country,\n  onCountrySelected\n}) {\n  const {\n    trans\n  } = useTrans();\n  const {\n    analytics\n  } = useSettings();\n  const apiKey = analytics?.gchart_api_key;\n  const {\n    selectedTheme\n  } = useThemeSelector();\n  const geoChartRef = useRef();\n  // only allow selecting countries, not cities\n  const regionInteractivity = !!onCountrySelected && !country;\n  const drawGoogleChart = useCallback(() => {\n    if (typeof google === 'undefined') return;\n    const seedData = data.map(location => [location.label, location.value]);\n    seedData.unshift([country ? trans(message('City')) : trans(message('Country')), trans(message('Clicks'))]);\n    const backgroundColor = `${themeValueToHex(selectedTheme.values['--be-paper'])}`;\n    const chartColor = `${themeValueToHex(selectedTheme.values['--be-primary'])}`;\n    const options = {\n      colorAxis: {\n        colors: [chartColor]\n      },\n      backgroundColor,\n      region: country ? country.toUpperCase() : undefined,\n      resolution: country ? 'provinces' : 'countries',\n      displayMode: country ? 'markers' : 'regions',\n      enableRegionInteractivity: regionInteractivity\n    };\n    if (!geoChartRef.current && placeholderRef.current && google?.visualization?.GeoChart) {\n      geoChartRef.current = new google.visualization.GeoChart(placeholderRef.current);\n    }\n    geoChartRef.current?.draw(google.visualization.arrayToDataTable(seedData), options);\n  }, [selectedTheme, data, placeholderRef, trans, country, regionInteractivity]);\n  const initGoogleGeoChart = useCallback(async () => {\n    if (lazyLoader.isLoadingOrLoaded(loaderUrl)) return;\n    await lazyLoader.loadAsset(loaderUrl, {\n      type: 'js',\n      id: 'google-charts-js'\n    });\n    await google.charts.load('current', {\n      packages: ['geochart'],\n      mapsApiKey: apiKey\n    });\n    drawGoogleChart();\n  }, [apiKey, drawGoogleChart]);\n  useEffect(() => {\n    if (geoChartRef.current && onCountrySelected) {\n      google.visualization.events.addListener(geoChartRef.current, 'regionClick', a => onCountrySelected?.(a.region));\n    }\n    return () => {\n      if (geoChartRef.current) {\n        google.visualization.events.removeAllListeners(geoChartRef.current);\n      }\n    };\n    // this will correctly run when geochart instance is set on ref\n  }, [onCountrySelected, geoChartRef.current]);\n\n  // on component load: load chart library then draw, otherwise just draw\n  useEffect(() => {\n    initGoogleGeoChart();\n  }, [initGoogleGeoChart]);\n\n  // redraw chart if data or theme changes\n  useEffect(() => {\n    drawGoogleChart();\n  }, [selectedTheme, drawGoogleChart, data]);\n  return {\n    drawGoogleChart\n  };\n}","import { createSvgIcon } from '@ui/icons/create-svg-icon';\nexport const InfoDialogTriggerIcon = createSvgIcon(<path d=\"M9 8a1 1 0 0 0-1-1H5.5a1 1 0 1 0 0 2H7v4a1 1 0 0 0 2 0zM4 0h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm4 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\" />, 'InfoDialogTrigger');","import { IconButton } from '@ui/buttons/icon-button';\nimport { InfoDialogTriggerIcon } from '@ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger-icon';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nimport { DialogHeader } from '@ui/overlays/dialog/dialog-header';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport React from 'react';\nimport clsx from 'clsx';\nexport function InfoDialogTrigger({\n  title,\n  body,\n  dialogSize = 'sm',\n  className\n}) {\n  return <DialogTrigger type=\"popover\" triggerOnHover>\n      <IconButton className={clsx('ml-4 text-muted opacity-70', className)} iconSize=\"xs\" size=\"2xs\">\n        <InfoDialogTriggerIcon viewBox=\"0 0 16 16\" />\n      </IconButton>\n      <Dialog size={dialogSize}>\n        {title && <DialogHeader padding=\"px-18 pt-12\" size=\"md\" hideDismissButton>\n            {title}\n          </DialogHeader>}\n        <DialogBody>{body}</DialogBody>\n      </Dialog>\n    </DialogTrigger>;\n}","import { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { Fragment, memo } from 'react';\nexport const FormattedCountryName = memo(({\n  code: countryCode\n}) => {\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const regionNames = new Intl.DisplayNames([localeCode], {\n    type: 'region'\n  });\n  let formattedName;\n  try {\n    formattedName = regionNames.of(countryCode.toUpperCase());\n  } catch (e) {}\n  return <Fragment>{formattedName}</Fragment>;\n});","import React, { useMemo, useRef } from 'react';\nimport { useGoogleGeoChart } from './use-google-geo-chart';\nimport { ChartLayout } from '@common/charts/chart-layout';\nimport { ChartLoadingIndicator } from '@common/charts/chart-loading-indicator';\nimport { Button } from '@ui/buttons/button';\nimport { ArrowBackIcon } from '@ui/icons/material/ArrowBack';\nimport clsx from 'clsx';\nimport { InfoDialogTrigger } from '@ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport { Trans } from '@ui/i18n/trans';\nimport { FormattedCountryName } from '@ui/i18n/formatted-country-name';\nexport function GeoChart({\n  data: metricData,\n  isLoading,\n  onCountrySelected,\n  country,\n  className,\n  colSpan = 'col-span-7',\n  rowSpan = 'row-span-11',\n  ...layoutProps\n}) {\n  const placeholderRef = useRef(null);\n  const regionInteractivity = !!onCountrySelected;\n\n  // memo data to avoid redrawing chart on rerender\n  const initialData = metricData?.datasets[0].data;\n  const data = useMemo(() => {\n    return initialData || [];\n  }, [initialData]);\n  useGoogleGeoChart({\n    placeholderRef,\n    data,\n    country,\n    onCountrySelected\n  });\n  return <ChartLayout {...layoutProps} className={clsx(className, colSpan, rowSpan, 'compact-scrollbar overflow-x-auto overflow-y-hidden')} title={<div className=\"flex items-center\">\n          <Trans message=\"Top Locations\" />\n          {country ? <span className=\"pl-4\">\n              ({<FormattedCountryName code={country} />})\n            </span> : null}\n          {regionInteractivity && <InfoTrigger />}\n        </div>} contentIsFlex={isLoading}>\n      {isLoading && <ChartLoadingIndicator />}\n      <div className=\"flex gap-24\">\n        <div ref={placeholderRef} className=\"min-h-[340px] w-[480px] flex-auto\" />\n        <div className=\"w-[170px]\">\n          <div className=\"max-h-[340px] w-full flex-initial overflow-y-auto text-sm\">\n            {data.map(location => <div key={location.label} className={clsx('mb-4 flex items-center gap-4', regionInteractivity && 'cursor-pointer hover:underline')} role={regionInteractivity ? 'button' : undefined} onClick={() => {\n            onCountrySelected?.(location.code);\n          }}>\n                <div className=\"max-w-110 overflow-hidden overflow-ellipsis whitespace-nowrap\">\n                  {location.label}\n                </div>\n                <div>({location.percentage})%</div>\n              </div>)}\n          </div>\n          {country && <Button variant=\"outline\" size=\"xs\" className=\"mt-14\" startIcon={<ArrowBackIcon />} onClick={() => {\n          onCountrySelected?.(undefined);\n        }}>\n              <Trans message=\"Back to countries\" />\n            </Button>}\n        </div>\n      </div>\n    </ChartLayout>;\n}\nfunction InfoTrigger() {\n  return <InfoDialogTrigger title={<Trans message=\"Zooming in\" />} body={<Trans message=\"Click on a country inside the map or country list to zoom in and see city data for that country.\" />} />;\n}","import React, { Fragment } from 'react';\nimport { LineChart } from '@common/charts/line-chart';\nimport { Trans } from '@ui/i18n/trans';\nimport { PolarAreaChart } from '@common/charts/polar-area-chart';\nimport { BarChart } from '@common/charts/bar-chart';\nimport { FormattedNumber } from '@ui/i18n/formatted-number';\nimport { GeoChart } from '@common/admin/analytics/geo-chart/geo-chart';\nexport function VisitorsReportCharts({\n  report,\n  isLoading\n}) {\n  const totalViews = report?.pageViews.total;\n  return <Fragment>\n      <LineChart colSpan=\"col-span-8\" isLoading={isLoading} data={report?.pageViews} title={<Trans message=\"Pageviews\" />} description={totalViews ? <Trans message=\":count total views\" values={{\n      count: <FormattedNumber value={totalViews} />\n    }} /> : null} />\n      <PolarAreaChart colSpan=\"col-span-4\" isLoading={isLoading} data={report?.devices} title={<Trans message=\"Top devices\" />} />\n      <GeoChart colSpan=\"col-span-7\" isLoading={isLoading} data={report?.locations} title={<Trans message=\"Top locations\" />} />\n      <BarChart colSpan=\"col-span-5\" isLoading={isLoading} data={report?.browsers} direction=\"horizontal\" individualBarColors hideLegend title={<Trans message=\"Top browsers\" />} />\n    </Fragment>;\n}","import { useDateRangePickerState } from '@ui/forms/input-field/date/date-range-picker/use-date-range-picker-state';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { Button } from '@ui/buttons/button';\nimport { DateRangeIcon } from '@ui/icons/material/DateRange';\nimport { FormattedDateTimeRange } from '@ui/i18n/formatted-date-time-range';\nimport { DateRangeDialog } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-dialog';\nimport React from 'react';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { DateFormatPresets } from '@ui/i18n/formatted-date';\nimport { DateRangeComparePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-compare-presets';\nconst monthDayFormat = {\n  month: 'short',\n  day: '2-digit'\n};\nexport function ReportDateSelector({\n  value,\n  onChange,\n  disabled,\n  compactOnMobile = true,\n  enableCompare = false,\n  granularity = 'minute'\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  return <DialogTrigger type=\"popover\" onClose={value => {\n    if (value) {\n      onChange(value);\n    }\n  }}>\n      <Button variant=\"outline\" color=\"chip\" endIcon={<DateRangeIcon />} disabled={disabled}>\n        <FormattedDateTimeRange start={value.start} end={value.end} options={isMobile && compactOnMobile ? monthDayFormat : DateFormatPresets.short} />\n      </Button>\n      <DateSelectorDialog value={value} enableCompare={enableCompare} granularity={granularity} />\n    </DialogTrigger>;\n}\nfunction DateSelectorDialog({\n  value,\n  enableCompare,\n  granularity\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  const state = useDateRangePickerState({\n    granularity,\n    defaultValue: {\n      start: value.start,\n      end: value.end,\n      preset: value.preset\n    },\n    closeDialogOnSelection: false\n  });\n  const compareHasInitialValue = !!value.compareStart && !!value.compareEnd;\n  const compareState = useDateRangePickerState({\n    granularity,\n    defaultValue: compareHasInitialValue ? {\n      start: value.compareStart,\n      end: value.compareEnd,\n      preset: value.comparePreset\n    } : DateRangeComparePresets[0].getRangeValue(state.selectedValue)\n  });\n  return <DateRangeDialog state={state} compareState={enableCompare ? compareState : undefined} compareVisibleDefault={compareHasInitialValue} showInlineDatePickerField={!isMobile} />;\n}","import React, { useState } from 'react';\nimport { useAdminReport } from './use-admin-report';\nimport { Trans } from '@ui/i18n/trans';\nimport { StaticPageTitle } from '../../seo/static-page-title';\nimport { AdminReportCardRow } from '@common/admin/analytics/admin-report-card-row';\nimport { VisitorsReportCharts } from '@common/admin/analytics/visitors-report-charts';\nimport { DateRangePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport { ReportDateSelector } from '@common/admin/analytics/report-date-selector';\nexport function Component() {\n  const [dateRange, setDateRange] = useState(() => {\n    // This week\n    return DateRangePresets[2].getRangeValue();\n  });\n  const {\n    isLoading,\n    data\n  } = useAdminReport({\n    dateRange\n  });\n  const title = <Trans message=\"Visitors report\" />;\n  return <div className=\"min-h-full gap-6 overflow-x-hidden p-4 mt-[12px] md:mt-0 md:gap-18 md:p-18\">\n      <div className=\"mb-2 md:mb-6 flex items-center justify-between gap-2  md:gap-24 \">\n        <StaticPageTitle>{title}</StaticPageTitle>\n        <h1 className=\"md:mb-24 text-lg md:text-3xl font-light md:mb-0\">{title} </h1>\n        <ReportDateSelector value={dateRange} onChange={setDateRange} />\n      </div>\n      <div className=\"chart-grid mt-3\">\n        <AdminReportCardRow report={data?.headerReport} />\n        <VisitorsReportCharts report={data?.visitorsReport} isLoading={isLoading} />\n      </div>\n    </div>;\n}"],"file":"assets/admin-analytics-ee429683.js"}