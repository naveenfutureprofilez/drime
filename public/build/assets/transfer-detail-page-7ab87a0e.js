import{u as g,j as e,bM as f,T as a,G as c,a7 as N,aW as i,aA as v,a0 as b,aF as m,bN as w,bO as l,H as _,a as y}from"./main-40e0a36e.js";import{A as I}from"./ArrowBack-e07e925a.js";import{F}from"./formatted-bytes-e15cb6ba.js";import{L as x}from"./Link-2274afac.js";import{D as T}from"./Download-5eb94b7d.js";import{S as o,a as j,M as k}from"./Message-400491f1.js";import{F as S}from"./Folder-80c2870c.js";function z(r){return _({queryKey:["transfer-files",r],queryFn:()=>y.get(`admin/transfer-files/${r}`).then(s=>s.data)})}function M(){const{transferId:r}=g(),{data:s,isLoading:n,error:d}=z(r);if(n||d)return e.jsx(f,{query:{isLoading:n,error:d},loaderClassName:"absolute inset-0 m-auto"});if(!s)return e.jsx("div",{className:"p-24 text-center",children:e.jsx(a,{message:"Transfer not found"})});const h=t=>{switch(t){case"expired":return"danger";case"download_limit_reached":return"warning";default:return"positive"}},p=t=>{switch(t){case"expired":return"Expired";case"download_limit_reached":return"Limit Reached";default:return"Active"}};return e.jsxs("div",{className:"p-24",children:[e.jsxs("div",{className:"mb-24 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(c,{variant:"outline",size:"sm",elementType:N,to:"/admin/transfer-files",startIcon:e.jsx(I,{}),children:e.jsx(a,{message:"Back to transfers"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:s.title||s.original_filename||"Untitled Transfer"}),e.jsxs("div",{className:"mt-4 flex items-center gap-8",children:[e.jsx(i,{color:h(s.status),size:"sm",children:p(s.status)}),s.has_password&&e.jsx(i,{color:"primary",size:"sm",startIcon:e.jsx(o,{}),children:e.jsx(a,{message:"Password Protected"})})]})]})]}),s.share_url&&e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(v,{label:e.jsx(a,{message:"Copy share link"}),children:e.jsx(b,{onClick:()=>navigator.clipboard.writeText(s.share_url),children:e.jsx(x,{})})}),e.jsx(c,{variant:"outline",onClick:()=>window.open(s.share_url,"_blank"),startIcon:e.jsx(x,{}),children:e.jsx(a,{message:"Open share link"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-24 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-panel border bg-paper shadow-sm",children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-8",children:[e.jsx(S,{}),e.jsx(a,{message:"Transfer Information"})]})}),e.jsx("div",{className:"p-4 pt-0",children:e.jsxs("div",{className:"space-y-16",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-16 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted",children:e.jsx(a,{message:"File Name"})}),e.jsx("div",{className:"mt-4 text-sm",children:s.original_filename||"Untitled"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted",children:e.jsx(a,{message:"File Size"})}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx(F,{bytes:s.file_size}),s.files_count>1&&e.jsxs("span",{className:"text-muted",children:[" â€¢ ",s.files_count," files"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted",children:e.jsx(a,{message:"Downloads"})}),e.jsxs("div",{className:"mt-4 text-sm flex items-center gap-4",children:[e.jsx(T,{className:"text-muted"}),s.download_count,s.max_downloads&&e.jsxs("span",{className:"text-muted",children:[" / ",s.max_downloads]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted",children:e.jsx(a,{message:"Created"})}),e.jsxs("div",{className:"mt-4 text-sm flex items-center gap-4",children:[e.jsx(j,{className:"text-muted"}),e.jsx(m,{date:s.created_at})]})]}),s.expires_at&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted",children:e.jsx(a,{message:"Expires"})}),e.jsxs("div",{className:"mt-4 text-sm flex items-center gap-4",children:[e.jsx(j,{className:"text-muted"}),e.jsx(m,{date:s.expires_at})]})]})]}),s.message&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t my-16"}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-muted flex items-center gap-4",children:[e.jsx(k,{}),e.jsx(a,{message:"Message"})]}),e.jsx("div",{className:"mt-8 rounded-md bg-alt p-12 text-sm",children:s.message})]})]})]})})]})}),e.jsxs("div",{className:"space-y-24",children:[e.jsxs("div",{className:"rounded-panel border bg-paper shadow-sm",children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("h3",{className:"text-base font-semibold flex items-center gap-8",children:[e.jsx(w,{}),e.jsx(a,{message:"Sender"})]})}),e.jsx("div",{className:"p-4 pt-0",children:e.jsx("div",{className:"text-sm",children:s.sender_email?e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(l,{className:"text-muted"}),s.sender_email]}):e.jsx("span",{className:"text-muted",children:e.jsx(a,{message:"Anonymous sender"})})})})]}),s.recipient_emails&&e.jsxs("div",{className:"rounded-panel border bg-paper shadow-sm",children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("h3",{className:"text-base font-semibold flex items-center gap-8",children:[e.jsx(l,{}),e.jsx(a,{message:"Recipients"})]})}),e.jsx("div",{className:"p-4 pt-0",children:e.jsx("div",{className:"space-y-8",children:s.recipient_emails.split(",").map((t,u)=>e.jsxs("div",{className:"text-sm flex items-center gap-8",children:[e.jsx(l,{className:"text-muted"}),t.trim()]},u))})})]}),e.jsxs("div",{className:"rounded-panel border bg-paper shadow-sm",children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("h3",{className:"text-base font-semibold flex items-center gap-8",children:[e.jsx(o,{}),e.jsx(a,{message:"Security"})]})}),e.jsx("div",{className:"p-4 pt-0",children:e.jsxs("div",{className:"space-y-8 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:e.jsx(a,{message:"Password Protected"})}),e.jsx(i,{color:s.has_password?"positive":"chip",size:"xs",children:s.has_password?"Yes":"No"})]}),s.max_downloads&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:e.jsx(a,{message:"Download Limit"})}),e.jsx(i,{color:"primary",size:"xs",children:s.max_downloads})]}),s.expires_at&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:e.jsx(a,{message:"Auto Expires"})}),e.jsx(i,{color:"warning",size:"xs",children:e.jsx(a,{message:"Yes"})})]})]})})]})]})]})]})}export{M as TransferDetailPage};
//# sourceMappingURL=transfer-detail-page-7ab87a0e.js.map
