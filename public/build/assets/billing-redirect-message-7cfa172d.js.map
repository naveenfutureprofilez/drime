{"version":3,"file":"billing-redirect-message-7cfa172d.js","sources":["../../../node_modules/@stripe/stripe-js/dist/stripe.esm.js","../../../common/foundation/resources/client/billing/checkout/stripe/use-stripe.jsx","../../../common/foundation/resources/client/billing/checkout/stripe/stripe-elements-form.jsx","../../../common/foundation/resources/client/billing/billing-redirect-message.jsx"],"sourcesContent":["var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"2.4.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function () {\n    reject(new Error('Failed to load Stripe.js'));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise[\"catch\"](function (error) {\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise$1;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise$1) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n  return stripePromise$1;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import { useEffect, useRef, useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { apiClient } from '@common/http/query-client';\nimport { useSelectedLocale } from '@ui/i18n/selected-locale';\nimport { useAuth } from '@common/auth/use-auth';\nimport { useIsDarkMode } from '@ui/themes/use-is-dark-mode';\nimport { useSettings } from '@ui/settings/use-settings';\nexport function useStripe({\n  type,\n  productId,\n  priceId\n}) {\n  const {\n    user\n  } = useAuth();\n  const isDarkMode = useIsDarkMode();\n  const isInitiatedRef = useRef(false);\n  const paymentElementRef = useRef(null);\n  const {\n    localeCode\n  } = useSelectedLocale();\n  const [stripe, setStripe] = useState(null);\n  const [elements, setElements] = useState(null);\n  const {\n    branding: {\n      site_name\n    },\n    billing: {\n      stripe_public_key,\n      stripe: {\n        enable\n      }\n    }\n  } = useSettings();\n  useEffect(() => {\n    if (!enable || !stripe_public_key || isInitiatedRef.current) return;\n    Promise.all([\n    // load stripe js library\n    loadStripe(stripe_public_key, {\n      apiVersion: '2022-08-01',\n      locale: localeCode\n    }),\n    // create partial subscription for clientSecret\n    type === 'setupIntent' ? createSetupIntent() : createSubscription(productId, priceId)]).then(([stripe, {\n      clientSecret\n    }]) => {\n      if (stripe && paymentElementRef.current) {\n        const elements = stripe.elements({\n          clientSecret,\n          appearance: {\n            theme: isDarkMode ? 'night' : 'stripe'\n          }\n        });\n\n        // Create and mount the Payment Element\n        const paymentElement = elements.create('payment', {\n          business: {\n            name: site_name\n          },\n          terms: {\n            card: 'never'\n          },\n          fields: {\n            billingDetails: {\n              address: 'auto'\n            }\n          },\n          defaultValues: {\n            billingDetails: {\n              email: user?.email\n            }\n          }\n        });\n        paymentElement.mount(paymentElementRef.current);\n        setStripe(stripe);\n        setElements(elements);\n      }\n    });\n    isInitiatedRef.current = true;\n  }, [productId, stripe_public_key, enable, isDarkMode, localeCode, site_name, type, user?.email]);\n  return {\n    stripe,\n    elements,\n    paymentElementRef,\n    stripeIsEnabled: stripe_public_key != null && enable\n  };\n}\nfunction createSetupIntent() {\n  return apiClient.post('billing/stripe/create-setup-intent').then(r => r.data);\n}\nfunction createSubscription(productId, priceId) {\n  return apiClient.post('billing/stripe/create-partial-subscription', {\n    product_id: productId,\n    price_id: priceId\n  }).then(r => r.data);\n}","import clsx from 'clsx';\nimport { Button } from '@ui/buttons/button';\nimport { Fragment, useState } from 'react';\nimport { useStripe } from '@common/billing/checkout/stripe/use-stripe';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nexport function StripeElementsForm({\n  productId,\n  priceId,\n  type = 'subscription',\n  submitLabel,\n  returnUrl\n}) {\n  const {\n    stripe,\n    elements,\n    paymentElementRef,\n    stripeIsEnabled\n  } = useStripe({\n    type,\n    productId,\n    priceId\n  });\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // disable upgrade button if stripe is enabled, but not loaded yet\n  const stripeIsReady = !stripeIsEnabled || elements != null && stripe != null;\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // stripe has not loaded yet\n    if (!stripe || !elements) return;\n    setIsSubmitting(true);\n    try {\n      const method = type === 'subscription' ? 'confirmPayment' : 'confirmSetup';\n      const result = await stripe[method]({\n        elements,\n        confirmParams: {\n          return_url: returnUrl\n        }\n      });\n\n      // don't show validation error as it will be shown already by stripe payment element\n      if (result.error?.type !== 'validation_error' && result.error?.message) {\n        setErrorMessage(result.error.message);\n      }\n    } catch {}\n    setIsSubmitting(false);\n  };\n  return <form onSubmit={handleSubmit}>\n      <div ref={paymentElementRef} className={clsx('min-h-[303px]', !stripeIsEnabled && 'hidden')}>\n        {stripeIsEnabled && <StripeSkeleton />}\n      </div>\n      {errorMessage && !isSubmitting && <div className=\"mt-20 text-danger\">{errorMessage}</div>}\n      <Button variant=\"flat\" color=\"primary\" size=\"md\" className=\"mt-40 w-full\" type=\"submit\" disabled={isSubmitting || !stripeIsReady}>\n        {submitLabel}\n      </Button>\n    </form>;\n}\nfunction StripeSkeleton() {\n  return <Fragment>\n      <Skeleton className=\"mb-20 h-30\" />\n      <Skeleton className=\"mb-20 h-30\" />\n      <Skeleton className=\"mb-20 h-30\" />\n      <Skeleton className=\"h-30\" />\n    </Fragment>;\n}","import { Link } from 'react-router';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { TaskAltIcon } from '@ui/icons/material/TaskAlt';\nimport { ErrorIcon } from '@ui/icons/material/Error';\nimport { Trans } from '@ui/i18n/trans';\nimport { Button } from '@ui/buttons/button';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nexport function BillingRedirectMessage({\n  config\n}) {\n  return <AnimatePresence initial={false} mode=\"wait\">\n      <div className=\"mt-80\">\n        {config ? <m.div className=\"text-center\" key=\"payment-status\" {...opacityAnimation}>\n            {config.status === 'success' ? <TaskAltIcon className=\"text-6xl text-positive\" /> : <ErrorIcon className=\"text-6xl text-danger\" />}\n            <div className=\"mt-30 text-2xl font-semibold\">\n              <Trans {...config.message} />\n            </div>\n            <Button variant=\"flat\" color=\"primary\" className=\"mt-30 w-full\" size=\"md\" elementType={Link} to={config.link}>\n              <Trans {...config.buttonLabel} />\n            </Button>\n          </m.div> : <LoadingSkeleton key=\"loading-skeleton\" />}\n      </div>\n    </AnimatePresence>;\n}\nfunction LoadingSkeleton() {\n  return <m.div className=\"max-w-280 text-center\" key=\"loading-skeleton\" {...opacityAnimation}>\n      <Skeleton size=\"w-50 h-50\" variant=\"rect\" />\n      <Skeleton className=\"mt-30 text-2xl\" />\n      <Skeleton size=\"h-42\" className=\"mt-30\" />\n    </m.div>;\n}"],"names":["V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","findScript","scripts","i","script","injectScript","params","queryString","headOrBody","registerWrapper","stripe","startTime","stripePromise","onErrorListener","onLoadListener","onError","reject","onLoad","resolve","loadScript","_script$parentNode","error","initStripe","maybeStripe","args","stripePromise$1","loadCalled","getStripePromise","loadStripe","_len","_key","useStripe","type","productId","priceId","user","useAuth","isDarkMode","useIsDarkMode","isInitiatedRef","useRef","paymentElementRef","localeCode","useSelectedLocale","setStripe","useState","elements","setElements","site_name","stripe_public_key","enable","useSettings","useEffect","createSetupIntent","createSubscription","clientSecret","apiClient","r","StripeElementsForm","submitLabel","returnUrl","stripeIsEnabled","errorMessage","setErrorMessage","isSubmitting","setIsSubmitting","stripeIsReady","handleSubmit","e","result","_a","_b","jsxs","jsx","clsx","StripeSkeleton","Button","Fragment","Skeleton","BillingRedirectMessage","config","AnimatePresence","m","opacityAnimation","TaskAltIcon","ErrorIcon","Trans","Link","LoadingSkeleton"],"mappings":"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","x_google_ignoreList":[0]}