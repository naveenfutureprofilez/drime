import{cT as Me,R as ve,j as n,o as T,am as Ee,ag as ee,b0 as Le,a$ as W,d1 as ae,r as h,q as j,d2 as G,d3 as Oe,d4 as H,d5 as _,d6 as oe,d7 as le,bE as re,ci as He,cm as _e,cn as Ke,co as Ue,ar as Pe,d8 as We,d9 as Ge,da as ce,al as Be,db as Y,dc as Z,cQ as U,cP as te,dd as je,bb as Se,by as B,an as ke,cR as M,de as Ye,df as Ze,dg as Qe,dh as qe,di as Xe,dj as Je,X as Ve,a0 as ue,cc as et,h as tt,bF as st,ax as Ne,dk as at,aU as Re,aV as Ce,T as A,aC as rt,y as nt,E as it,G as de,D as ot,A as lt,V as ct,cM as ut}from"./main-14f9202e.js";import{S as dt}from"./switch-aded0297.js";const mt=new RegExp("^.*\\(.*\\).*$"),ft=["latn","arab","hanidec","deva","beng","fullwide"];class Fe{parse(t){return Q(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,s,a){return Q(this.locale,this.options,t).isValidPartialNumber(t,s,a)}getNumberingSystem(t){return Q(this.locale,this.options,t).options.numberingSystem}constructor(t,s={}){this.locale=t,this.options=s}}const me=new Map;function Q(e,t,s){let a=fe(e,t);if(!e.includes("-nu-")&&!a.isValidPartialNumber(s)){for(let r of ft)if(r!==a.options.numberingSystem){let i=fe(e+(e.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(i.isValidPartialNumber(s))return i}}return a}function fe(e,t){let s=e+(t?Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:1).join():""),a=me.get(s);return a||(a=new ht(e,t),me.set(s,a)),a}class ht{parse(t){let s=this.sanitize(t);if(this.symbols.group&&(s=O(s,this.symbols.group,"")),this.symbols.decimal&&(s=s.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(s=s.replace(this.symbols.minusSign,"-")),s=s.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let c=s.indexOf("-");s=s.replace("-",""),s=s.replace("+","");let l=s.indexOf(".");l===-1&&(l=s.length),s=s.replace(".",""),l-2===0?s=`0.${s}`:l-2===-1?s=`0.0${s}`:l-2===-2?s="0.00":s=`${s.slice(0,l-2)}.${s.slice(l-2)}`,c>-1&&(s=`-${s}`)}let a=s?+s:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var r,i;let c={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new Fe(this.locale,c).parse(new Me(this.locale,c).format(a))}return this.options.currencySign==="accounting"&&mt.test(t)&&(a=-1*a),a}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace(String.fromCharCode(1548),this.symbols.decimal)),this.symbols.group&&(t=O(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&this.symbols.group&&(t=O(t," ",this.symbols.group),t=O(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,s=-1/0,a=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&s<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&a>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=O(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,s={}){this.locale=t,s.roundingIncrement!==1&&s.roundingIncrement!=null&&(s.maximumFractionDigits==null&&s.minimumFractionDigits==null?(s.maximumFractionDigits=0,s.minimumFractionDigits=0):s.maximumFractionDigits==null?s.maximumFractionDigits=s.minimumFractionDigits:s.minimumFractionDigits==null&&(s.minimumFractionDigits=s.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,s),this.options=this.formatter.resolvedOptions(),this.symbols=pt(t,this.formatter,this.options,s);var a,r;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const he=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),bt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function pt(e,t,s,a){var r,i,c,l;let m=new Intl.NumberFormat(e,{...s,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),f=m.formatToParts(-10000.111),u=m.formatToParts(10000.111),d=bt.map(b=>m.formatToParts(b));var p;let w=(p=(r=f.find(b=>b.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&p!==void 0?p:"-",$=(i=u.find(b=>b.type==="plusSign"))===null||i===void 0?void 0:i.value;!$&&((a==null?void 0:a.signDisplay)==="exceptZero"||(a==null?void 0:a.signDisplay)==="always")&&($="+");let F=(c=new Intl.NumberFormat(e,{...s,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(b=>b.type==="decimal"))===null||c===void 0?void 0:c.value,S=(l=f.find(b=>b.type==="group"))===null||l===void 0?void 0:l.value,N=f.filter(b=>!he.has(b.type)).map(b=>be(b.value)),v=d.flatMap(b=>b.filter(R=>!he.has(R.type)).map(R=>be(R.value))),I=[...new Set([...N,...v])].sort((b,R)=>R.length-b.length),L=I.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${I.join("|")}|[\\p{White_Space}]`,"gu"),z=[...new Intl.NumberFormat(s.locale,{useGrouping:!1}).format(9876543210)].reverse(),o=new Map(z.map((b,R)=>[b,R])),x=new RegExp(`[${z.join("")}]`,"g");return{minusSign:w,plusSign:$,decimal:F,group:S,literals:L,numeral:x,index:b=>String(o.get(b))}}function O(e,t,s){return e.replaceAll?e.replaceAll(t,s):e.split(t).join(s)}function be(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const yt=ve.forwardRef((e,t)=>{const{children:s,inputProps:a,wrapperProps:r,className:i,autoFocus:c,style:l,onClick:m}=e;return n.jsx("div",{...r,onClick:m,children:n.jsx("div",{...a,role:"group",className:T(i,"flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60"),ref:t,style:l,children:n.jsx(Ee,{autoFocus:c,children:s})})})});function Ie(e){return e.set({hour:0,minute:0,second:0,millisecond:0})}function C(e){return e.set({hour:24-1,minute:60-1,second:60-1,millisecond:1e3-1})}function xt(){var s,a,r;const e=(s=ee())==null?void 0:s.settings.dates.default_timezone,t=((r=(a=ee())==null?void 0:a.user)==null?void 0:r.timezone)||e||"auto";return!t||t==="auto"?Le():t}function gt(){const e=ae();return h.useMemo(()=>{try{return W(e)}catch{return W("UTC")}},[e])}function $t(){const e=xt();try{return W(e)}catch{return W("UTC")}}const g=Ie($t());var we,De;const q=((De=(we=ee())==null?void 0:we.i18n)==null?void 0:De.language)||"en",wt=[{key:0,label:j("Today"),getRangeValue:()=>({preset:0,start:g,end:C(g)})},{key:1,label:j("Yesterday"),getRangeValue:()=>({preset:1,start:g.subtract({days:1}),end:C(g).subtract({days:1})})},{key:2,label:j("This week"),getRangeValue:()=>({preset:2,start:G(g,q),end:Oe(C(g),q)})},{key:3,label:j("Last week"),getRangeValue:()=>{const e=G(g,q).subtract({days:7});return{preset:3,start:e,end:e.add({days:6})}}},{key:4,label:j("Last 7 days"),getRangeValue:()=>({preset:4,start:g.subtract({days:7}),end:C(g)})},{key:6,label:j("Last 30 days"),getRangeValue:()=>({preset:6,start:g.subtract({days:30}),end:C(g)})},{key:7,label:j("Last 3 months"),getRangeValue:()=>({preset:7,start:g.subtract({months:3}),end:C(g)})},{key:8,label:j("Last 12 months"),getRangeValue:()=>({preset:8,start:g.subtract({months:12}),end:C(g)})},{key:9,label:j("This month"),getRangeValue:()=>({preset:9,start:H(g),end:_(C(g))})},{key:10,label:j("This year"),getRangeValue:()=>({preset:10,start:oe(g),end:le(C(g))})},{key:11,label:j("Last year"),getRangeValue:()=>({preset:11,start:oe(g).subtract({years:1}),end:le(C(g)).subtract({years:1})})}],Wt=re(n.jsx("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined"),Dt=ve.forwardRef(({inputRef:e,wrapperProps:t,children:s,onBlur:a,...r},i)=>{const c=He(r),l=_e(i),{fieldProps:m,inputProps:f}=Ke({...r,focusRef:l,labelElementType:"span"});return c.wrapper=T(c.wrapper,r.disabled&&"pointer-events-none"),n.jsx(Ue,{wrapperProps:Pe(t,{onBlur:u=>{var d;(d=l.current)!=null&&d.contains(u.relatedTarget)||a==null||a(u)},onClick:()=>{const u=We(l);u==null||u.focusFirst()}}),fieldClassNames:c,ref:l,...m,children:n.jsx(yt,{inputProps:f,className:T(c.input,"gap-10"),ref:e,children:s})})});function vt(e){return e instanceof Ge?"day":"minute"}function se(e,t,s){return t!=null&&e.compare(t)<0||s!=null&&e.compare(s)>0}function E(e,t,s){try{return ce(e,t,s)}catch{return ce(e,"UTC",s)}}function Pt(e,t){const s=ae(),[a,r]=h.useState(!1),i=t.closeDialogOnSelection??!0,c=t.granularity||vt(e),l=t.min?E(t.min,s):void 0,m=t.max?E(t.max,s):void 0;return{timezone:s,granularity:c,min:l,max:m,calendarIsOpen:a,setCalendarIsOpen:r,closeDialogOnSelection:i}}function Gt(e){var ne,ie;const t=gt(),[s,a]=h.useState({start:(!e.value||!e.value.start)&&!((ne=e.defaultValue)!=null&&ne.start),end:(!e.value||!e.value.end)&&!((ie=e.defaultValue)!=null&&ie.end)}),r=e.onChange,[i,c]=Be(e.value?J(e.value,t):void 0,e.value?void 0:J(e.defaultValue,t),y=>{a({start:!1,end:!1}),r==null||r(y)}),{min:l,max:m,granularity:f,timezone:u,calendarIsOpen:d,setCalendarIsOpen:p,closeDialogOnSelection:w}=Pt(i.start,e),$=h.useCallback(()=>{a({start:!0,end:!0}),c(J(null,t)),r==null||r(null),p(!1)},[t,c,r,p]),[D,F]=h.useState(null),[S,N]=h.useState(!1),[v,I]=h.useState(i),[L,z]=h.useState(()=>pe(i,m)),o=h.useCallback(y=>{let k=y.start,V=y.end;l&&(k=Y(k,l));const ze=m?Z(m,V):V;k=Z(k,ze);const Ae=l?Y(l,k):k;return V=Y(V,Ae),m&&(V=Z(V,m)),{start:E(k,u),end:E(V,u)}},[l,m,u]),x=h.useCallback(y=>{const k={...o(y),preset:y.preset};c(k),I(k),z(pe(k,m)),a({start:!1,end:!1})},[c,o,m]),P=h.useCallback(y=>!s.start&&U(y,v.start)||!s.end&&U(y,v.end),[v,s]),b=h.useCallback(y=>(S||!s.start&&!s.end)&&y.compare(v.start)>=0&&y.compare(v.end)<=0,[v,s,S]),R=h.useCallback(y=>U(y,v.start),[v]),K=h.useCallback(y=>U(y,v.end),[v]),Te=h.useCallback((y,k)=>({onPointerEnter:()=>{S&&k&&I(X({start:D,end:y,timezone:u}))},onClick:()=>{if(!S)N(!0),F(y),I(X({start:y,end:y,timezone:u}));else{const V=X({start:D,end:y,timezone:u});V.start=Ie(V.start),V.end=C(V.end),N(!1),F(null),x==null||x(V),w&&(p==null||p(!1))}}}),[D,S,x,p,w,u]);return{selectedValue:i,setSelectedValue:x,calendarIsOpen:d,setCalendarIsOpen:p,dayIsActive:P,dayIsHighlighted:b,dayIsRangeStart:R,dayIsRangeEnd:K,getCellProps:Te,calendarDates:L,setIsPlaceholder:a,isPlaceholder:s,clear:$,setCalendarDates:z,min:l,max:m,granularity:f,timezone:u,closeDialogOnSelection:w}}function pe(e,t){let s=te(H(e.start)),a=te(_(e.end));return je(s,a)&&(a=_(a.add({months:1}))),t&&a.compare(t)>0&&(a=s,s=H(s.subtract({months:1}))),[s,a]}function X(e){const t=E(e.start,e.timezone),s=E(e.end,e.timezone);return t.compare(s)>0?{start:s,end:t}:{start:t,end:s}}function J(e,t){return e!=null&&e.start&&(e!=null&&e.end)?e:!(e!=null&&e.start)&&(e!=null&&e.end)?(e.start=e.end.subtract({months:1}),e):!(e!=null&&e.end)&&(e!=null&&e.start)?(e.end=e.start.add({months:1}),e):{start:t,end:t.add({months:1})}}const jt=re(n.jsx("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"}),"ArrowRightAltOutlined");function St(e,t,s,a){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,s,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,i=r>=12;return e.set({hour:i?r-12:r+12})}case"hour":case"minute":case"second":return e.cycle(t,s,{round:t!=="hour",hourCycle:a.hour12?12:24})}return e}function kt(e,t,s,a){switch(t){case"day":case"month":case"year":return e.set({[t]:s})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,i=r>=12;return s>=12===i?e:e.set({hour:i?r-12:r+12})}case"hour":if(a.hour12){const i=e.hour>=12;!i&&s===12&&(s=0),i&&s<12&&(s+=12)}case"minute":case"second":return e.set({[t]:s})}return e}const ye={year:5,month:2,day:7,hour:2,minute:15,second:15,dayPeriod:1};function Vt({segment:e,domProps:t,value:s,onChange:a,isPlaceholder:r,state:{timezone:i,calendarIsOpen:c,setCalendarIsOpen:l}}){const m=Se(),f=h.useRef(""),{localeCode:u}=B(),d=ke(),p=M({timeZone:i}),w=h.useMemo(()=>new Fe(u,{maximumFractionDigits:0}),[u]),$=o=>{a(kt(s,e.type,o,p.resolvedOptions()))},D=o=>{a(St(s,e.type,o,p.resolvedOptions()))},F=()=>{if(w.isValidPartialNumber(e.text)){const o=e.text.slice(0,-1),x=w.parse(o);if(o.length===0||x===0){const P=Ye(i);e.type in P&&$(P[e.type])}else $(x);f.current=o}else e.type==="dayPeriod"&&D(-1)},S=o=>{var x;if(!(o.ctrlKey||o.metaKey||o.shiftKey||o.altKey)){switch(o.key){case"ArrowLeft":o.preventDefault(),o.stopPropagation(),d==null||d.focusPrevious();break;case"ArrowRight":o.preventDefault(),o.stopPropagation(),d==null||d.focusNext();break;case"Enter":(x=o.target.closest("form"))==null||x.requestSubmit(),l(!c);break;case"Tab":break;case"Backspace":case"Delete":{o.preventDefault(),o.stopPropagation(),F();break}case"ArrowUp":o.preventDefault(),f.current="",D(1);break;case"ArrowDown":o.preventDefault(),f.current="",D(-1);break;case"PageUp":o.preventDefault(),f.current="",D(ye[e.type]||1);break;case"PageDown":o.preventDefault(),f.current="",D(-(ye[e.type]||1));break;case"Home":o.preventDefault(),f.current="",$(e.maxValue);break;case"End":o.preventDefault(),f.current="",$(e.minValue);break}L(o.key)}},N=M({hour:"numeric",hour12:!0}),v=h.useMemo(()=>{const o=new Date;return o.setHours(0),N.formatToParts(o).find(x=>x.type==="dayPeriod").value},[N]),I=h.useMemo(()=>{const o=new Date;return o.setHours(12),N.formatToParts(o).find(x=>x.type==="dayPeriod").value},[N]),L=o=>{const x=f.current+o;switch(e.type){case"dayPeriod":if(v.toLowerCase().startsWith(o))$(0);else if(I.toLowerCase().startsWith(o))$(12);else break;d==null||d.focusNext();break;case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!w.isValidPartialNumber(x))return;let P=w.parse(x),b=P,R=e.minValue===0;if(e.type==="hour"&&p.resolvedOptions().hour12){switch(p.resolvedOptions().hourCycle){case"h11":P>11&&(b=w.parse(o));break;case"h12":R=!1,P>12&&(b=w.parse(o));break}e.value>=12&&P>1&&(P+=12)}else P>e.maxValue&&(b=w.parse(o));if(Number.isNaN(P))return;const K=b!==0||R;K&&$(b),+`${P}0`>e.maxValue||x.length>=String(e.maxValue).length?(f.current="",K&&(d==null||d.focusNext())):f.current=x;break}}},z=m?{}:{"aria-label":e.type,"aria-valuetext":r?void 0:`${e.value}`,"aria-valuemin":e.minValue,"aria-valuemax":e.maxValue,"aria-valuenow":r?void 0:e.value,tabIndex:0,onKeyDown:S};return n.jsx("div",{...Pe(t,{...z,onFocus:o=>{f.current="",o.target.scrollIntoView({block:"nearest"})},onClick:o=>{o.preventDefault(),o.stopPropagation()}}),className:"box-content cursor-default select-none whitespace-nowrap rounded p-2 text-center tabular-nums caret-transparent outline-none focus:bg-primary focus:text-on-primary",children:e.text.padStart(e.minLength,"0")})}function Nt({segment:e,domProps:t}){const s=ke();return n.jsx("div",{...t,onPointerDown:a=>{a.pointerType==="mouse"&&(a.preventDefault(),s!=null&&s.focusNext({from:a.target})||s==null||s.focusPrevious({from:a.target}))},"aria-hidden":!0,className:"min-w-4 cursor-default select-none",children:e.text})}function Rt(e,t,s){switch(t){case"year":return{value:e.year,placeholder:"yyyy",minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,placeholder:"mm",minValue:Qe(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:Ze(e),maxValue:e.calendar.getDaysInMonth(e),placeholder:"dd"}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12,placeholder:"--"};case"hour":if(s.hour12){const a=e.hour>=12;return{value:e.hour,minValue:a?12:0,maxValue:a?23:11,placeholder:"--"}}return{value:e.hour,minValue:0,maxValue:23,placeholder:"--"};case"minute":return{value:e.minute,minValue:0,maxValue:59,placeholder:"--"}}return{}}function xe({segmentProps:e,state:t,value:s,onChange:a,isPlaceholder:r}){const{granularity:i}=t,c=h.useMemo(()=>{const u={year:"numeric",month:"numeric",day:"numeric"};return i==="minute"&&(u.hour="numeric",u.minute="numeric"),u},[i]),l=M(c),m=h.useMemo(()=>s.toDate(),[s]),f=h.useMemo(()=>l.formatToParts(m).map(u=>{const d=Rt(s,u.type,l.resolvedOptions()),p=r&&u.type!=="literal"?d.placeholder:u.value;return{type:u.type,text:u.value===", "?" ":p,...d,minLength:u.type!=="literal"?String(d.maxValue).length:1}}),[m,l,r,s]);return n.jsx("div",{className:"flex items-center",children:f.map((u,d)=>u.type==="literal"?n.jsx(Nt,{domProps:e,segment:u},d):n.jsx(Vt,{isPlaceholder:r,domProps:e,state:t,value:s,onChange:a,segment:u},d))})}const Ct=re(n.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");function Ft({date:e,currentMonth:t,state:{dayIsActive:s,dayIsHighlighted:a,dayIsRangeStart:r,dayIsRangeEnd:i,getCellProps:c,timezone:l,min:m,max:f}}){const{localeCode:u}=B(),d=qe(e,u),p=s(e),w=a(e),$=r(e),D=i(e),F=Xe(e,l),S=je(e,t),N=se(e,m,f);return n.jsxs("div",{role:"button","aria-disabled":N,className:T("relative isolate h-40 w-40 flex-shrink-0 text-sm",N&&"pointer-events-none text-disabled",!S&&"pointer-events-none invisible"),...c(e,S),children:[n.jsx("span",{className:T("absolute inset-0 z-10 flex h-full w-full cursor-pointer select-none items-center justify-center rounded-full",!p&&!F&&"hover:bg-hover",p&&"bg-primary font-semibold text-on-primary",F&&!p&&"bg-chip"),children:e.day}),w&&S&&n.jsx("span",{className:T("absolute inset-0 h-full w-full bg-primary/focus",($||d===0||e.day===1)&&"rounded-l-full",(D||d===6||e.day===t.calendar.getDaysInMonth(t))&&"rounded-r-full")})]})}function It({startDate:e,state:t,isFirst:s,isLast:a}){const{localeCode:r}=B(),i=Je(e,r),c=G(e,r);return n.jsxs("div",{className:"w-280 flex-shrink-0",children:[n.jsx(Tt,{isFirst:s,isLast:a,state:t,currentMonth:e}),n.jsxs("div",{className:"block",role:"grid",children:[n.jsx(zt,{state:t,startDate:e}),[...new Array(i).keys()].map(l=>n.jsx(Ve.div,{className:"mb-6 flex",children:[...new Array(7).keys()].map(m=>n.jsx(Ft,{date:c.add({weeks:l,days:m}),currentMonth:e,state:t},m))},l))]})]})}function Tt({currentMonth:e,isFirst:t,isLast:s,state:{calendarDates:a,setCalendarDates:r,timezone:i,min:c,max:l}}){const m=p=>{const w=a.length;let $;p==="forward"?$=a.map(D=>_(D.add({months:w}))):$=a.map(D=>_(D.subtract({months:w}))),r($)},f=M({month:"long",year:"numeric",era:e.calendar.identifier!=="gregory"?"long":void 0,calendar:e.calendar.identifier}),u=se(e.subtract({days:1}),c,l),d=se(H(e.add({months:1})),c,l);return n.jsxs("div",{className:"flex items-center justify-between gap-10",children:[n.jsx(ue,{size:"md",className:T("text-muted",!t&&"invisible"),disabled:!t||u,"aria-hidden":!t,onClick:()=>{m("backward")},children:n.jsx(et,{})}),n.jsx("div",{className:"select-none text-sm font-semibold",children:f.format(e.toDate(i))}),n.jsx(ue,{size:"md",className:T("text-muted",!s&&"invisible"),disabled:!s||d,"aria-hidden":!s,onClick:()=>{m("forward")},children:n.jsx(Ct,{})})]})}function zt({state:{timezone:e},startDate:t}){const{localeCode:s}=B(),a=M({weekday:"short"}),r=G(t,s);return n.jsx("div",{className:"flex",children:[...new Array(7).keys()].map(i=>{const l=r.add({days:i}).toDate(e),m=a.format(l);return n.jsx("div",{className:"relative h-40 w-40 flex-shrink-0 text-sm font-semibold",children:n.jsx("div",{className:"absolute flex h-full w-full select-none items-center justify-center",children:m})},i)})})}function At({state:e,visibleMonths:t=1}){return Se()&&(t=1),n.jsx(h.Fragment,{children:[...new Array(t).keys()].map(a=>{const r=te(H(e.calendarDates[a])),i=a===0,c=a===t-1;return n.jsx(It,{state:e,startDate:r,isFirst:i,isLast:c},a)})})}const Mt=h.memo(({start:e,end:t,options:s,preset:a,timezone:r})=>{const{dates:i}=tt(),c=ae(),l=r||(s==null?void 0:s.timeZone)||c,m=M(s||st[a||(i==null?void 0:i.format)]);if(!e||!t)return null;let f;try{f=m.formatRange(ge(e,l),ge(t,l))}catch{f=""}return n.jsx(h.Fragment,{children:f})},Ne);function ge(e,t){return typeof e=="string"?at(e,t).toDate():"toDate"in e?e.toDate(t):e}function Et({onPresetSelected:e,selectedValue:t}){return n.jsx(Re,{children:wt.map(s=>n.jsx(Ce,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(t==null?void 0:t.preset)===s.key,onSelected:()=>{const a=s.getRangeValue();e(a)},children:n.jsx(A,{...s.label})},s.key))})}function Lt(e){return rt("(max-width: 1024px)",e)}const Ot=[{key:0,label:j("Preceding period"),getRangeValue:e=>{const t=e.start,r=(e.end.toDate().getTime()-t.toDate().getTime())/(1e3*60);return{preset:0,start:t.subtract({minutes:r}),end:t}}},{key:1,label:j("Same period last year"),getRangeValue:e=>({start:e.start.subtract({years:1}),end:e.end.subtract({years:1}),preset:1})},{key:2,label:j("Custom"),getRangeValue:e=>({start:e.start.subtract({weeks:1}),end:e.end.subtract({weeks:1}),preset:2})}];function Ht({originalRangeValue:e,onPresetSelected:t,selectedValue:s}){return n.jsx(Re,{children:Ot.map(a=>n.jsx(Ce,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(s==null?void 0:s.preset)===a.key,onSelected:()=>{const r=a.getRangeValue(e);t(r)},children:n.jsx(A,{...a.label})},a.key))})}function Bt({state:e,compareState:t,showInlineDatePickerField:s=!1,compareVisibleDefault:a=!1}){const r=Lt(),{close:i}=nt(),c=h.useRef(e),l=e.isPlaceholder.start||e.isPlaceholder.end,[m,f]=h.useState(a),u=n.jsxs(it,{dividerTop:!0,startAction:!l&&!r?n.jsx("div",{className:"text-xs",children:n.jsx(Mt,{start:e.selectedValue.start.toDate(),end:e.selectedValue.end.toDate(),options:{dateStyle:"medium"}})}):void 0,children:[n.jsx(de,{variant:"text",size:"xs",onClick:()=>{e.setSelectedValue(c.current.selectedValue),e.setIsPlaceholder(c.current.isPlaceholder),i()},children:n.jsx(A,{message:"Cancel"})}),n.jsx(de,{variant:"flat",color:"primary",size:"xs",onClick:()=>{const d=e.selectedValue;t&&m&&(d.compareStart=t.selectedValue.start,d.compareEnd=t.selectedValue.end),i(d)},children:n.jsx(A,{message:"Select"})})]});return n.jsxs(ot,{size:"auto",children:[n.jsxs(lt,{className:"flex",padding:"p-0",children:[!r&&n.jsxs("div",{className:"min-w-192 py-14",children:[n.jsx(Et,{selectedValue:e.selectedValue,onPresetSelected:d=>{e.setSelectedValue(d),e.closeDialogOnSelection&&i(d)}}),!!t&&n.jsxs(h.Fragment,{children:[n.jsx(dt,{className:"mx-20 mb-10 mt-14",checked:m,onChange:d=>f(d.target.checked),children:n.jsx(A,{message:"Compare"})}),m&&n.jsx(Ht,{originalRangeValue:e.selectedValue,selectedValue:t.selectedValue,onPresetSelected:d=>{t.setSelectedValue(d)}})]})]}),n.jsx(ct,{initial:!1,children:n.jsx(_t,{state:e,compareState:t,showInlineDatePickerField:s,compareVisible:m})})]}),!e.closeDialogOnSelection&&u]})}function _t({state:e,compareState:t,showInlineDatePickerField:s,compareVisible:a}){return n.jsxs(Ve.div,{initial:{width:0,overflow:"hidden"},animate:{width:"auto"},exit:{width:0,overflow:"hidden"},transition:{type:"tween",duration:.125},className:"border-l px-20 pb-20 pt-10",children:[s&&n.jsxs("div",{children:[n.jsx($e,{state:e}),!!t&&a&&n.jsx($e,{state:t,label:n.jsx(A,{message:"Compare"})})]}),n.jsx("div",{className:"flex items-start gap-36",children:n.jsx(At,{state:e,visibleMonths:2})})]})}function $e({state:e,label:t}){const{selectedValue:s,setSelectedValue:a}=e;return n.jsxs(Dt,{className:"mb-20 mt-10",label:t,children:[n.jsx(xe,{state:e,value:s.start,onChange:r=>{a({...s,start:r})}}),n.jsx(jt,{className:"block flex-shrink-0 text-muted",size:"md"}),n.jsx(xe,{state:e,value:s.end,onChange:r=>{a({...s,end:r})}})]})}const Yt=h.memo(({value:e,...t})=>{const s=ut(t);return isNaN(e)&&(e=0),n.jsx(h.Fragment,{children:s.format(e)})},Ne);export{jt as A,At as C,Wt as D,Yt as F,yt as I,Ct as K,Mt as a,Ot as b,Bt as c,wt as d,gt as e,Pt as f,$t as g,Dt as h,xe as i,E as t,Gt as u};
//# sourceMappingURL=formatted-number-ff408592.js.map
