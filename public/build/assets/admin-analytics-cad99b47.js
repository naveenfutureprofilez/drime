var sn=Object.defineProperty;var nn=(e,t,s)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ot=(e,t,s)=>(nn(e,typeof t!="symbol"?t+"":t,s),s);import{r as u,j as n,R as U,$ as me,a as rn,u as an,o as on,b as ln,s as cn,f as dn,c as un,d as gt,e as fn,g as Te,h as Me,i as Ce,k as mn,l as bt,m as hn,n as yt,p as pn,q as xn,t as cs}from"./vendor-react-fefbac25.js";import{c as j,A as Ve,m as ue}from"./vendor-utils-f24f35c9.js";import{a as ds,c as gn,Q as bn,$ as us,m as Pe,b as yn,d as vn,e as fs,f as ms,g as We,h as Ue,i as wn,j as Ee,k as Ae,l as Ft,n as Lt,o as jn,p as _t,q as st,r as nt,s as Fe,t as dt,u as hs,v as Cn,w as kn,x as Nn,y as Dn,z as $n,A as Tn,B as Pn,C as qe,D as Sn}from"./vendor-e6c98b2f.js";let ps=0;function zn(){return ps}function ro(e){ps=e}function xs(e){return e?/^[a-zA-Z][a-zA-Z\d+\-.]*?:/.test(e):!1}function rt(e,t){var s;return ds.isAxiosError(e)&&((s=e.response)==null?void 0:s.status)==t}const Se=gn()(e=>({data:typeof window<"u"&&window.bootstrapData?Bt(window.bootstrapData):null,setData:t=>{const s=typeof t=="string"?Bt(t):t;e({data:s})},mergeData:t=>{e(s=>({data:{...s.data,...t}}))}})),ke=()=>Se.getState().data,ao=Se.getState().setData,oo=Se.getState().mergeData;function Bt(e){return typeof e=="string"?JSON.parse(e):e}const io=new bn({defaultOptions:{queries:{staleTime:3e4,retry:(e,t)=>!rt(t,401)&&!rt(t,403)&&!rt(t,404)&&e<2}}}),ze=ds.create();ze.defaults.withCredentials=!0;ze.defaults.responseType="json";ze.defaults.headers={common:{Accept:"application/json"}};const In=["auth","secure","log-viewer","horizon"];ze.interceptors.request.use(e=>{var a,o,i,c,l,d;!In.some(f=>{var m;return(m=e.url)==null?void 0:m.startsWith(f)})&&!xs(e==null?void 0:e.url)&&(e.url=`api/v1/${e.url}`);const t=(a=e.method)==null?void 0:a.toUpperCase();t==="GET"&&Array.isArray((o=e.params)==null?void 0:o.with)&&(e.params.with=e.params.with.join(",")),t==="GET"&&Array.isArray((i=e.params)==null?void 0:i.load)&&(e.params.load=e.params.load.join(",")),t==="GET"&&Array.isArray((c=e.params)==null?void 0:c.loadCount)&&(e.params.loadCount=e.params.loadCount.join(","));const s=zn();if(s){const f=(l=e.method)==null?void 0:l.toLowerCase();["get","post","put"].includes(f)&&((d=e.params)==null?void 0:d.workspaceId)==null&&(e.params={...e.params,workspaceId:s})}const r=ke();return r!=null&&r.csrf_token&&(e.headers={...e.headers,"X-CSRF-TOKEN":r.csrf_token}),(t==="PUT"||t==="DELETE"||t==="PATCH")&&(e.headers={...e.headers,"X-HTTP-Method-Override":t},e.method="POST",e.params={...e.params,_method:t}),e});function O(e,t){return{...t,message:e}}const Rn=u.forwardRef((e,t)=>{const{attr:s,size:r,title:a,className:o,color:i,style:c,children:l,viewBox:d,width:f,height:m,...p}=e;return n.jsxs("svg",{"aria-hidden":!a,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:d||"0 0 24 24",...s,...p,className:j("svg-icon",o,En(r)),style:{color:i,...c},ref:t,height:m||"1em",width:f||"1em",children:[a&&n.jsx("title",{children:a}),l]})});function En(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":return"icon-sm";case"md":return"icon-md";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return e}}function F(e,t="",s){const r=(a,o)=>n.jsx(Rn,{"data-testid":`${t}Icon`,ref:o,viewBox:s,...a,size:a.size||"md",children:e});return U.memo(U.forwardRef(r))}function An(e,t=""){const s=gs(e);return F(s,t)}function gs(e){return(e==null?void 0:e.map)&&e.map((t,s)=>U.createElement(t.tag,{key:s,...t.attr},gs(t.child)))}function Mn(e){const t={},s={tag:e.tagName,attr:t};return Array.from(e.attributes).forEach(r=>{t[r.name]=r.value}),e.children.length&&(s.child=Array.from(e.children).map(r=>Mn(r))),s}const Vn=F(n.jsx("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"}),"PeopleOutlined");function vt(e,{padding:t,equalWidth:s,variant:r}={}){switch(e){case"2xs":return r==="link"?"text-xs":`text-xs h-28 ${s?"w-28":t||"px-12"}`;case"xs":return r==="link"?"text-xs":`text-xs h-34 ${s?"w-34":t||"px-16"}`;case"sm":return r==="link"?"text-sm":`text-sm h-12 ${s?"w-12":t||"px-12"}`;case"md":return r==="link"?"text-base":`text-base h-12 ${s?"w-12":t||"px-12"}`;case"lg":return r==="link"?"text-lg":`text-base h-56 ${s?"w-56":t||"px-28"}`;case"xl":return r==="link"?"text-xl":`text-lg h-64 ${s?"w-64":t||"px-36"}`;default:return e||""}}function On(e){const{variant:t,shadow:s,whitespace:r="whitespace-nowrap",display:a="inline-flex"}=e,o={...e,border:e.border||"border"};let i=[];return t==="outline"?i=Fn(o):t==="text"?i=Ln(o):t==="flat"||t==="raised"?i=Bn(o):t==="link"&&(i=_n(o)),[...i,s||t==="raised"&&"shadow-md",r,a,t&&"align-middle flex-shrink-0 items-center transition-button duration-200","select-none appearance-none no-underline outline-none disabled:pointer-events-none disabled:cursor-default"]}function Fn({color:e,border:t}){const s="disabled:text-disabled disabled:bg-transparent disabled:border-disabled-bg";switch(e){case"primary":return[`text-primary bg-transparent ${t} border-primary/50`,"hover:bg-primary/hover hover:border-primary",s];case"danger":return[`text-danger bg-transparent ${t} border-danger/50`,"hover:bg-danger/4 hover:border-danger",s];case"positive":return[`text-positive bg-transparent ${t} border-positive/50`,"hover:bg-positive/4 hover:border-positive",s];case"paper":return[`text bg-paper ${t}`,"hover:bg-hover",s];case"white":return["text-white bg-transparent border border-white","hover:bg-white/20","disabled:text-white/70 disabled:border-white/70 disabled:bg-transparent"];default:return[`bg-transparent ${t}`,"hover:bg-hover",s]}}function Ln({color:e}){const t="disabled:text-disabled disabled:bg-transparent";switch(e){case"primary":return["text-primary bg-transparent border-transparent","hover:bg-primary/4",t];case"danger":return["text-danger bg-transparent border-transparent","hover:bg-danger/4",t];case"positive":return["text-positive bg-transparent border-transparent","hover:bg-positive/4",t];case"white":return["text-white bg-transparent border-transparent","hover:bg-white/20","disabled:text-white/70 disabled:bg-transparent"];default:return["bg-transparent border-transparent","hover:bg-hover",t]}}function _n({color:e}){switch(e){case"primary":return["text-primary","hover:underline","disabled:text-disabled"];case"danger":return["text-danger","hover:underline","disabled:text-disabled"];default:return["text-main","hover:underline","disabled:text-disabled"]}}function Bn({color:e,border:t}){const s="disabled:text-disabled disabled:bg-disabled disabled:border-transparent disabled:shadow-none";switch(e){case"primary":return[`text-on-primary bg-primary ${t} border-primary`,"hover:bg-primary-dark hover:border-primary-dark",s];case"danger":return[`text-white bg-danger ${t} border-danger`,"hover:bg-danger/90 hover:border-danger/90",s];case"chip":return[`text-main bg-chip ${t} border-chip`,"hover:bg-chip/90 hover:border-chip/90",s];case"paper":return[`text-main bg-paper ${t} border-paper`,"hover:bg-paper/90 hover:border-paper/90",s];case"white":return[`text-black bg-white ${t} border-white`,"hover:bg-white/90",s];default:return[`bg ${t} border-background`,"hover:bg-hover",s]}}function se(e){return e&&(t=>{t.currentTarget.contains(t.target)&&e(t)})}const bs=u.forwardRef((e,t)=>{const{children:s,color:r=null,variant:a,radius:o,shadow:i,whitespace:c,justify:l="justify-center",className:d,href:f,form:m,border:p,elementType:g,to:h,state:x,relative:v,replace:w,end:y,display:C,type:D="button",onClick:P,onPointerDown:z,onPointerUp:b,onKeyDown:N,...S}=e,k=g||(f?"a":"button"),T=k==="a";return n.jsx(k,{ref:t,form:T?void 0:m,href:f,to:h,state:x,relative:v,type:T?void 0:D,replace:w,end:y,onPointerDown:se(z),onPointerUp:se(b),onClick:se(P),onKeyDown:se(N),className:j("focus-visible:ring",On({variant:a,color:r,border:p,whitespace:c,display:C,shadow:i}),o,l,d),...S,children:s})}),Ge=U.forwardRef(({children:e,startIcon:t,endIcon:s,size:r="sm",sizeClassName:a,className:o,equalWidth:i=!1,radius:c="rounded-button",variant:l="text",disabled:d,elementType:f,to:m,replace:p,href:g,download:h,...x},v)=>{const w=j("font-semibold",a||vt(r,{equalWidth:i,variant:l}),o);return n.jsxs(bs,{className:w,ref:v,radius:c,variant:l,disabled:d,to:d?void 0:m,href:d?void 0:g,download:d?void 0:h,elementType:d?void 0:f,replace:d?void 0:p,...x,children:[t&&n.jsx(Kt,{position:"start",icon:t,size:r}),e,s&&n.jsx(Kt,{position:"end",icon:s,size:r})]})});function Kt({icon:e,position:t,size:s}){const r=j("m-auto",{"-ml-4 mr-8":t==="start","-mr-4 ml-8":t==="end"},e.props.className);return U.cloneElement(e,{className:r,size:e.props.size??s})}function fe(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),r=Object.keys(t),a=s.length;if(r.length!==a)return!1;for(let o=0;o<a;o++){const i=s[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}function G(){var t,s;const e=Se(r=>r.data);return{locale:e==null?void 0:e.i18n,localeCode:((t=e==null?void 0:e.i18n)==null?void 0:t.language)||"en",lines:(s=e==null?void 0:e.i18n)==null?void 0:s.lines}}function Qe(){const{user:e,settings:t}=Se(a=>a.data),s=t.dates.default_timezone,r=(e==null?void 0:e.timezone)||s||"auto";return u.useMemo(()=>!r||r==="auto"?us():r,[r])}function ys(e,{message:t,values:s}){const r=t.match(/\[(.+?)]/),a=s==null?void 0:s.count;if(r&&r[1]&&!Number.isNaN(a)){const[o,i]=r,c=i.split("|");if(!c.length)return t;const d=Kn(e).select(a);let f=c.find(p=>p.startsWith(d));f||(f=c[0]);const m=f.substring(f.indexOf(" ")+1);return t.replace(o,m)}return t}const Kn=Pe(e=>new Intl.PluralRules(e));function Ht(e,t){return e==null?!1:Object.hasOwn!==void 0?Object.hasOwn(e,t):Object.hasOwnProperty(t)}const $=u.memo(e=>{const{message:t,values:s}=e,{lines:r,localeCode:a}=G();let o;if(Ht(r,t)?o=r==null?void 0:r[t]:Ht(r,t==null?void 0:t.toLowerCase())?o=r==null?void 0:r[t==null?void 0:t.toLowerCase()]:o=t,!s||!o)return n.jsx(u.Fragment,{children:o});o=ys(a,{message:o,values:s});const i=[],c=[];if(Object.entries(s).forEach(([l,d])=>{typeof d=="function"?c.push(l):u.isValidElement(d)?i.push(l):d!=null&&(o=o==null?void 0:o.replace(`:${l}`,`${d}`))}),c.length||i.length){const l=[];if(c.length){const p=c.join("");l.push(`(<[${p}]>.+?<\\/[${p}]>)`)}if(i.length){const p=i.join("|");l.push(`(:(?:${p}))`)}const d=new RegExp(l.join("|"),"gm"),m=o.split(d).filter(Boolean).map((p,g)=>{if(p.startsWith("<")&&p.endsWith(">")){const h=p.match(/<([a-z]+)>(.+?)<\/([a-z]+)>/);if(h){const[,x,v]=h,w=s==null?void 0:s[x];if(typeof w=="function"){const y=w(v);return u.cloneElement(y,{key:g})}}}if(p.startsWith(":")){const h=p.replace(":",""),x=s==null?void 0:s[h];if(u.isValidElement(x))return u.cloneElement(x,{key:g})}return p});return n.jsx(u.Fragment,{children:m})}return n.jsx(u.Fragment,{children:o})},Hn);function Hn(e,t){const{values:s,...r}=e,{values:a,...o}=t;return fe(a,s)&&fe(r,o)}const Ye=U.createContext(null);function Wn(){return u.useContext(Ye)}function Oe(){const{lines:e,localeCode:t}=G();return{trans:u.useCallback(r=>Un({...r,lines:e,localeCode:t}),[e,t])}}const Un=Pe(e=>{let{lines:t,message:s,values:r,localeCode:a}=e;return s==null?"":(s=(t==null?void 0:t[s])||(t==null?void 0:t[s.toLowerCase()])||s,r&&(s=ys(a,e),Object.entries(r).forEach(([o,i])=>{s=s.replace(`:${o}`,`${i}`)})),s)},{equals:fe,callTimeout:0});function qn({onDismiss:e}){const{trans:t}=Oe(),s=()=>{e&&e()};return n.jsx("button",{className:"sr-only","aria-label":t(O("Dismiss")),tabIndex:-1,onClick:s})}function vs(e){const{type:t="modal",dialogProps:s,...r}=u.useContext(Ye),{children:a,className:o,size:i="md",background:c,radius:l="rounded-lg",maxWidth:d="max-w-dialog",maxHeight:f="max-h-dialog",shadow:m="shadow-2xl",...p}=e;let g=null;(t==="popover"||t==="tray")&&(g=n.jsx(qn,{onDismiss:r.close}));const h=i==="fullscreenTakeover"||t==="tray",x=j("mx-auto pointer-events-auto outline-none flex flex-col overflow-hidden",c||"bg",t!=="tray"&&Gn(i),t==="tray"&&"rounded-t border-b-bg",i!=="fullscreenTakeover"&&`${m} border ${f}`,!h&&`${l} ${d}`,o);return n.jsxs("div",{...me({role:"dialog",tabIndex:-1},s,p),style:{...e.style,"--be-dialog-padding":"24px"},"aria-modal":!0,className:x,children:[u.Children.toArray(a).map(v=>u.isValidElement(v)?u.cloneElement(v,{size:v.props.size??i}):v),g]})}function Gn(e){switch(e){case"2xs":return"w-256";case"xs":return"w-320";case"sm":return"w-384";case"md":return"w-440";case"lg":return"w-620";case"xl":return"w-780";case"2xl":return"w-850";case"fullscreen":return"w-1280";case"fullscreenTakeover":return"w-full h-full";default:return e}}const Ne=u.forwardRef(({children:e,size:t="md",iconSize:s=t&&t.length<=3?t:"md",variant:r="text",radius:a="rounded-button",className:o,padding:i,equalWidth:c=!0,badge:l,...d},f)=>{const m=j(vt(t,{padding:i,equalWidth:c,variant:r}),o,l&&"relative");return n.jsxs(bs,{...d,ref:f,radius:a,variant:r,className:m,children:[u.cloneElement(e,{size:s}),l]})}),Zn=F(n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");function Qn(e){const{children:t,className:s,color:r,onDismiss:a,leftAdornment:o,rightAdornment:i,hideDismissButton:c=!1,size:l,showDivider:d,justify:f="justify-between",titleFontWeight:m="font-semibold",titleTextSize:p=l==="xs"?"text-xs":"text-sm",closeButtonSize:g=l==="xs"?"xs":"sm",actions:h,closeButtonIcon:x}=e,{labelId:v,isDismissable:w,close:y}=u.useContext(Ye);return n.jsxs("div",{className:j(s,"flex flex-shrink-0 items-center gap-5",m,d&&"border-b",Yn(e),r||"text-main",f),children:[o,n.jsx("h3",{id:v,className:j(p,"mr-auto leading-5 opacity-90"),children:t}),i,h,w&&!c&&n.jsx(Ne,{"aria-label":"Dismiss",onClick:()=>{a?a():y()},size:g,className:j("-mr-8 text-muted",i&&"sr-only"),children:x||n.jsx(Zn,{})})]})}function Yn({size:e,padding:t}){if(t)return t;switch(e){case"2xs":case"xs":return"px-2 py-4";case"sm":return"px-2 py-4";default:return"px-8 py-6"}}const ws=u.forwardRef((e,t)=>{const{children:s,className:r,padding:a,size:o,...i}=e;return n.jsx("div",{...i,ref:t,className:j(r,Xn(e),"overflow-y-auto overflow-x-hidden overscroll-contain text-sm flex-auto"),children:s})});function Xn({size:e,padding:t}){if(t)return t;switch(e){case"xs":return"p-14";case"sm":return"p-18";default:return"px-4 py-4"}}function wt({floatingWidth:e,ref:t,disablePositioning:s=!1,placement:r="bottom",offset:a=2,showArrow:o=!1,maxHeight:i,shiftMainAxis:c=!0,shiftCrossAxis:l=!0,fallbackPlacements:d}){const f=u.useRef(null),m={placement:r,strategy:"fixed"};s||(m.whileElementsMounted=yn,m.middleware=[ln(a),cn({padding:16,crossAxis:l,mainAxis:c}),dn({padding:16,fallbackPlacements:d}),un({apply({rects:y,availableHeight:C,availableWidth:D,elements:P}){e==="matchTrigger"&&i!=null?Object.assign(P.floating.style,{width:`${y.reference.width}px`,maxWidth:`${D}`,maxHeight:`${Math.min(C,i)}px`}):i!=null&&Object.assign(P.floating.style,{maxHeight:`${Math.min(C,i)}px`})},padding:16})],o&&m.middleware.push(rn({element:f})));const p=an(m),g=u.useMemo(()=>on([t,p.refs.setReference]),[p.refs.setReference,t]),{x:h,y:x}=p.middlewareData.arrow||{},v={top:"bottom",right:"left",bottom:"top",left:"right"}[p.placement.split("-")[0]],w={left:h,top:x,right:"",bottom:"",[v]:"-4px"};return{...p,reference:g,arrowRef:f,arrowStyle:w}}const js={initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{type:"tween",duration:.125}};let De=typeof document<"u"?document.getElementById("root")??document.body:void 0,lo=typeof document<"u"?document.documentElement:void 0;const Wt=500,oe={};let Ie=!1,ie=null,ge=null;const Ut=e=>{var t;for(const s in oe)s!==e&&((t=oe[s])==null||t.call(oe,!0),delete oe[s])},qt=u.forwardRef(({children:e,label:t,placement:s="top",offset:r=10,variant:a="neutral",delay:o=1500,isDisabled:i,usePortal:c=!0,...l},d)=>{const{x:f,y:m,reference:p,strategy:g,arrowRef:h,arrowStyle:x,refs:v}=wt({placement:s,offset:r,ref:d,showArrow:!0}),[w,y]=u.useState(!1),C=u.useId(),D=u.useRef(),P=()=>{clearTimeout(D.current),D.current=void 0,Ut(C),oe[C]=z,Ie=!0,y(!0),ie&&(clearTimeout(ie),ie=null),ge&&(clearTimeout(ge),ge=null)},z=u.useCallback(k=>{k?(clearTimeout(D.current),D.current=void 0,y(!1)):D.current||(D.current=setTimeout(()=>{D.current=void 0,y(!1)},Wt)),ie&&(clearTimeout(ie),ie=null),Ie&&(ge&&clearTimeout(ge),ge=setTimeout(()=>{delete oe[C],ge=null,Ie=!1},Wt))},[C]),b=()=>{Ut(C),oe[C]=z,!w&&!ie&&!Ie?ie=setTimeout(()=>{ie=null,Ie=!0,P()},o):w||P()},N=k=>{!k&&o>0&&!D.current?b():P()};u.useEffect(()=>()=>{clearTimeout(D.current),oe[C]&&delete oe[C]},[C]),u.useEffect(()=>{const k=T=>{T.key==="Escape"&&z(!0)};if(w)return document.addEventListener("keydown",k,!0),()=>{document.removeEventListener("keydown",k,!0)}},[w,z]);const S=n.jsx(Ve,{children:w&&n.jsxs(ue.div,{...js,ref:v.setFloating,id:C,role:"tooltip",onPointerEnter:()=>{N(!0)},onPointerLeave:()=>{z()},className:j("z-tooltip my-4 max-w-240 break-words rounded px-8 py-4 text-xs text-white shadow",a==="positive"&&"bg-positive",a==="danger"&&"bg-danger",a==="neutral"&&"bg-toast"),style:{position:g,top:m??"",left:f??""},children:[n.jsx("div",{ref:h,className:"absolute h-8 w-8 rotate-45 bg-inherit",style:x}),t]})});return n.jsxs(u.Fragment,{children:[u.cloneElement(e,me({"aria-describedby":w?C:void 0,ref:p,onPointerEnter:k=>{k.pointerType==="mouse"&&N()},onFocus:k=>{k.target.matches(":focus-visible")&&N(!0)},onPointerLeave:k=>{k.pointerType==="mouse"&&z()},onPointerDown:()=>{z(!0)},onBlur:()=>{z()},"aria-label":typeof t=="string"?t:t.props.message},l)),c?De&&gt.createPortal(S,De):S]})}),Jn="modulepreload",er=function(e){return"/build/"+e},Gt={},tr=function(t,s,r){if(!s||s.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=er(o),o in Gt)return;Gt[o]=!0;const i=o.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let f=a.length-1;f>=0;f--){const m=a[f];if(m.href===o&&(!i||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":Jn,i||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),i)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},sr=F(n.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined");function Xe(){return Se(e=>e.data.settings)}function co(){return!1}const nr=u.createContext(null);function rr(){return u.useContext(nr)}class ar{constructor(){Ot(this,"loadedAssets",{})}loadAsset(t,s={type:"js"}){var o;t=t.startsWith("//")?`${window.location.protocol}${t}`:t;const r=(o=this.loadedAssets[t])==null?void 0:o.state;return r==="loaded"&&!s.force?new Promise(i=>i()):!r||this.loadedAssets[t].doc!==s.document||s.force&&r==="loaded"?(this.loadedAssets[t]={state:new Promise(i=>{const c=xs(t)?t:`assets/${t}`,l=at(t,s.id),d={url:c,id:l,resolve:i,parentEl:s.parentEl,document:s.document};s.type==="css"?this.loadStyleAsset(d):this.loadScriptAsset(d)}),doc:s.document},this.loadedAssets[t].state):this.loadedAssets[t].state}isLoadingOrLoaded(t){return this.loadedAssets[t]!=null}loadStyleAsset(t){var i;const s=t.document||document,r=t.parentEl||s.head,a=s.createElement("link"),o=at(t.url,t.id);a.rel="stylesheet",a.id=o,a.href=t.url;try{r.querySelector(`#${o}`)&&((i=r.querySelector(`#${o}`))==null||i.remove())}catch{}a.onload=()=>{this.loadedAssets[t.url].state="loaded",t.resolve()},r.appendChild(a)}loadScriptAsset(t){var i;const s=t.document||document,r=t.parentEl||s.body,a=s.createElement("script"),o=at(t.url,t.id);a.async=!0,a.id=o,a.src=t.url;try{r.querySelector(`#${o}`)&&((i=r.querySelector(`#${o}`))==null||i.remove())}catch{}a.onload=()=>{this.loadedAssets[t.url].state="loaded",t.resolve()},(r||r).appendChild(a)}}function at(e,t){return t||btoa(e.split("/").pop())}const Zt=new ar;function or(e,t,s){return Math.min(Math.max(e,t),s)}function Cs(e={}){const{localeCode:t}=G();return u.useMemo(()=>new vn(t,e),[t,e])}const ks=U.forwardRef((e,t)=>{let{value:s=0,minValue:r=0,maxValue:a=100,size:o="md",isIndeterminate:i=!1,className:c,position:l="relative",trackColor:d,fillColor:f="border-primary",trackWidth:m=3,...p}=e;s=or(s,r,a);const g=m,h=16-g,x=2*h*Math.PI,v=i?.25:(s-r)/(a-r),w=Cs({style:"percent"}),y=x-v*x;let C="";return!i&&!C&&(C=w.format(v)),n.jsx("div",{...p,"aria-valuenow":i?void 0:s,"aria-valuemin":r,"aria-valuemax":a,"aria-valuetext":i?void 0:C,role:"progressbar",ref:t,className:j(l,ir(o),c),children:n.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",strokeWidth:g,className:j("progress-circle h-full w-full",i&&"indeterminate"),children:[n.jsx("circle",{cx:"50%",cy:"50%",r:h,role:"presentation",strokeDasharray:`${x} ${x}`,strokeDashoffset:"0",transform:"rotate(-90 16 16)",className:"progress-circle-track"}),n.jsx("circle",{cx:"50%",cy:"50%",r:h,role:"presentation",strokeDasharray:`${x} ${x}`,strokeDashoffset:y,transform:"rotate(-90 16 16)",className:"progress-circle-fill"})]})})});function ir(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-32 h-32";case"md":return"w-40 h-40";case"lg":return"w-48 h-48";default:return e}}function Ns(e,{noSSR:t}={noSSR:!0}){const s=typeof window<"u"&&typeof window.matchMedia=="function",[r,a]=u.useState(t?()=>s?window.matchMedia(e).matches:!1:null);return u.useEffect(()=>{if(!s)return;const o=window.matchMedia(e),i=()=>{a(o.matches)};return o.addEventListener("change",i),t||i(),()=>{o.removeEventListener("change",i)}},[s,e,t]),typeof window>"u"?null:r}function xe(e){return Ns("(max-width: 768px)",e)}function jt(){const{width:e,height:t}=fn();return{"--be-viewport-height":`${t}px`,"--be-viewport-width":`${e}px`}}const Ke=u.forwardRef(({children:e,style:t,autoFocus:s=!1,restoreFocus:r=!0,isDismissable:a,isContextMenu:o,isOpen:i,onClose:c,triggerRef:l,arrowRef:d,arrowStyle:f,onPointerLeave:m,onPointerEnter:p},g)=>{const h=jt(),x=Te(g),{domProps:v}=lr({isDismissable:a,isOpen:i,onClose:c,triggerRef:l,isContextMenu:o},x);return n.jsx(ue.div,{className:"isolate z-popover",role:"presentation",ref:x,style:{...h,...t,position:"fixed"},...js,...me(v,{onPointerLeave:m,onPointerEnter:p}),children:n.jsx(Me,{restoreFocus:r,autoFocus:s,contain:!1,children:e})})}),Re=[];function lr({onClose:e,isDismissable:t=!0,triggerRef:s,isContextMenu:r=!1},a){const o=u.useRef({isPointerDown:!1,isContextMenu:r,onClose:e}),i=o.current;i.isContextMenu=r,i.onClose=e;const c=u.useCallback(h=>{const x=h.target;if(x){const v=x.ownerDocument;if(!v||!v.documentElement.contains(x))return!1}return a.current&&!a.current.contains(x)},[a]),l=u.useCallback(()=>Re[Re.length-1]===a,[a]),d=u.useCallback(()=>{l()&&i.onClose()},[l,i]),f=u.useCallback(h=>{var x,v;return s.current&&"contains"in s.current?(v=(x=s.current).contains)==null?void 0:v.call(x,h):!1},[s]),m=u.useCallback(h=>{f(h.target)||l()&&(h.stopPropagation(),h.preventDefault())},[f,l]),p=u.useCallback(h=>{f(h.target)||(l()&&(h.stopPropagation(),h.preventDefault()),(!i.isContextMenu||h.button!==2)&&d())},[f,d,i,l]);return u.useEffect(()=>{Re.push(a);const h=y=>{c(y)&&(m(y),o.current.isPointerDown=!0)},x=y=>{o.current.isPointerDown&&c(y)&&(o.current.isPointerDown=!1,p(y))},v=y=>{y.preventDefault(),c(y)&&d()},w=y=>{if(!s.current)return;const C=y.target;let D;s.current instanceof Node?D=s.current:"contextElement"in s.current&&(D=s.current.contextElement),(!(C instanceof Node)||!D||C.contains(D))&&i.onClose()};return document.addEventListener("pointerdown",h,!0),document.addEventListener("pointerup",x,!0),document.addEventListener("contextmenu",v,!0),document.addEventListener("scroll",w,!0),()=>{const y=Re.indexOf(a);y>=0&&Re.splice(y,1),document.removeEventListener("pointerdown",h,!0),document.removeEventListener("pointerup",x,!0),document.removeEventListener("contextmenu",v,!0),document.removeEventListener("scroll",w,!0)}},[a,c,i,p,m,s,f,d]),{domProps:{onKeyDown:h=>{h.key==="Escape"&&(h.stopPropagation(),h.preventDefault(),d())}}}}const ut={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}};function Ds({position:e="absolute",className:t,isTransparent:s=!1,isBlurred:r=!0,disableInitialTransition:a,...o}){return n.jsx(ue.div,{...o,className:j(t,!s&&"bg-background/80","inset-0 z-10 h-full w-full",e,r&&"backdrop-blur-sm"),"aria-hidden":!0,initial:a?void 0:{opacity:0},animate:{opacity:1},exit:{opacity:0},...ut,transition:{duration:.15}})}const $s=u.forwardRef(({children:e,autoFocus:t=!1,restoreFocus:s=!0,isDismissable:r,isOpen:a,onClose:o},i)=>{const c=jt(),l=Te(i);return n.jsxs("div",{className:"fixed inset-0 isolate z-tray",style:c,children:[n.jsx(Ds,{onClick:()=>{r&&o()}},"tray-underlay"),n.jsx(ue.div,{ref:l,className:"absolute bottom-0 left-0 right-0 z-20 mx-auto max-h-tray w-full max-w-375 overflow-hidden rounded-t pb-safe-area",role:"presentation",initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"tween",duration:.2},children:n.jsx(Me,{restoreFocus:s,autoFocus:t,contain:!0,children:e})})]})}),cr=u.forwardRef(({children:e,autoFocus:t=!1,restoreFocus:s=!0,isDismissable:r=!0,isOpen:a=!1,placement:o="center",onClose:i},c)=>{const l=jt(),d=Te(c);return n.jsxs("div",{className:"fixed inset-0 isolate z-modal",style:l,onKeyDown:f=>{f.key==="Escape"&&(f.stopPropagation(),f.preventDefault(),i())},children:[n.jsx(Ds,{onClick:()=>{r&&i()}},"modal-underlay"),n.jsx(ue.div,{ref:d,className:j("pointer-events-none absolute inset-0 z-20 flex h-full w-full",o==="center"&&"items-center justify-center",o==="top"&&"items-start justify-center pt-40"),role:"presentation",initial:{opacity:0,scale:o==="top"?1:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:.1},children:n.jsx(Me,{restoreFocus:s,autoFocus:t,contain:!0,children:e})})]})});function dr({children:e,label:t,index:s}){const r=u.useId();return n.jsxs("div",{role:"group",className:j(s!==0&&"border-t my-4"),"aria-labelledby":t?`be-select-${r}`:void 0,children:[t&&n.jsx("div",{className:"block uppercase text-muted text-xs px-16 py-10",role:"presentation",id:`be-select-${r}`,"aria-hidden":"true",children:t}),e]})}const ur=Pe(({maxItems:e,children:t,items:s,inputValue:r})=>{let a=mr({children:t,items:s}),o=fr({collection:a,inputValue:r});return e&&(a=new Map([...a.entries()].slice(0,e)),o=new Map([...o.entries()].slice(0,e))),{collection:a,filteredCollection:o}}),fr=Pe(({collection:e,inputValue:t})=>{let s=new Map;const r=t?`${t}`.toLowerCase().trim():"";if(!r)s=e;else{let a=0;e.forEach((o,i)=>{(o.item?JSON.stringify(o.item):o.textLabel).toLowerCase().trim().includes(r)&&s.set(i,{...o,index:a++})})}return s}),mr=Pe(({children:e,items:t})=>{let s;t&&typeof e=="function"?s=t.map(i=>e(i)):s=e;const r=new Map;let a=0;const o=(i,c,l,d)=>{const f=a++,m=c?t==null?void 0:t[l].items[d]:t==null?void 0:t[f];r.set(i.props.value,{index:f,element:i,textLabel:hr(i),item:m,section:c,isDisabled:i.props.isDisabled,value:i.props.value})};return u.Children.forEach(s,(i,c)=>{u.isValidElement(i)&&(i.type===dr?u.Children.forEach(i.props.children,(l,d)=>{o(l,i,c,d)}):o(i))}),r});function hr(e){var s;const t=e.props.children;return e.props.textLabel?e.props.textLabel:(s=t==null?void 0:t.props)!=null&&s.message?t.props.message:`${t}`||""}function Ct(e,t){const{children:s,items:r,role:a="listbox",virtualFocus:o,focusLoopingMode:i="stay",autoFocusFirstItem:c=!0,onItemSelected:l,clearInputOnItemSelection:d,blurReferenceOnItemSelection:f,floatingWidth:m="matchTrigger",floatingMinWidth:p,floatingMaxHeight:g,offset:h,placement:x,showCheckmark:v,showEmptyMessage:w,maxItems:y,isAsync:C,allowCustomValue:D,clearSelectionOnInputClear:P}=e,z=e.selectionMode||"none",N=`${u.useId()}-listbox`,[S,k]=Ce(e.inputValue,e.defaultInputValue||"",e.onInputValueChange),[T,E]=u.useState("all"),L=ur({children:s,items:r,inputValue:C?void 0:S,maxItems:y}),V=T==="all"?L.collection:L.filteredCollection,Z=u.useRef([]),I=u.useMemo(()=>[...V.values()].map(B=>B.isDisabled?null:B.textLabel),[V]),{selectedValues:A,selectValues:R}=xr(e),[ne,H]=Ce(e.isOpen,e.defaultIsOpen,e.onOpenChange),[X,Q]=u.useState(null),re=wt({floatingWidth:m,ref:t,placement:x,offset:h,maxHeight:g??420,shiftCrossAxis:!o}),{refs:ae,strategy:J,x:W,y:ee}=re,q=z==="none"?void 0:V.get(A[0]),K=z==="none"||q==null?void 0:q.index,ye=B=>{if(z!=="none"){const M=[...V.values()][B];M&&R(M.value)}},ve=u.useCallback((B,M)=>{var Mt,Vt;const At=[...V.values()],Js=!At.find(tn=>!tn.isDisabled),en=V.size-1;if(M==null||!V.size||M>en||M<0||Js){Q(null);return}M=pr(At,M,i,B),Q(M),M!=null&&(o?(Mt=Z.current[M])==null||Mt.scrollIntoView({block:"nearest"}):(Vt=Z.current[M])==null||Vt.focus())},[V,o,i]),tt=u.useCallback(B=>{k(B.target.value),E(B.target.value.trim()?"filtered":"all"),B.target.value?H(!0):P&&R(""),c&&X==null?ve("increment",0):Q(null)},[k,H,E,R,P,ve,c,X]);return{handleItemSelection:B=>{const M=ae.reference.current;z!=="none"?R(B):M&&"focus"in M&&M.focus(),o&&(k(d?"":`${B}`),f&&M&&"blur"in M&&M.blur()),E("all"),H(!1),l==null||l(B),Q(null)},onInputChange:tt,focusLoopingMode:i,floatingWidth:m,floatingMinWidth:p,floatingMaxHeight:g,showCheckmark:v,collection:V,collections:L,virtualFocus:o,focusItem:ve,showEmptyMessage:w&&!!S,allowCustomValue:D,refs:ae,reference:re.reference,floating:ae.setFloating,positionStyle:{position:J,top:ee??"",left:W??""},listContent:I,listItemsRef:Z,listboxId:N,role:a,state:{activeIndex:X,setActiveIndex:Q,selectedIndex:K,setSelectedIndex:ye,selectionMode:z,selectedValues:A,selectValues:R,inputValue:S,setInputValue:k,isOpen:ne,setIsOpen:H,setActiveCollection:E}}}function pr(e,t,s,r){var o;const a=e.length-1;for(;(o=e[t])!=null&&o.isDisabled;)if(r==="increment"){if(t++,t>=a)if(s==="loop")t=0;else return s==="stay"?t-1:null}else if(t--,t<0)if(s==="loop")t=a;else return s==="stay"?t+1:null;return t}function xr(e){const{selectionMode:t,allowEmptySelection:s}=e,r=t==="single"||t==="multiple",[a,o]=Ce(r?e.selectedValue:void 0,r?e.defaultSelectedValue:void 0,r?e.onSelectionChange:void 0),i=u.useMemo(()=>typeof a>"u"?[]:Array.isArray(a)?a:[a],[a]),c=u.useCallback(l=>{const d=Array.isArray(l)?l:[l];t==="single"?o(d[0]):d.forEach(f=>{const m=i.indexOf(f);m===-1?(i.push(f),o([...i])):(i.length>1||s)&&(i.splice(m,1),o([...i]))})},[s,i,t,o]);return{selectedValues:i,selectValues:c}}const Ts=u.createContext(null);function kt(){return u.useContext(Ts)}const gr=F(n.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined"),Ps=U.forwardRef((e,t)=>{let{startIcon:s,capitalizeFirst:r,children:a,description:o,endIcon:i,endSection:c,isDisabled:l,isActive:d,isSelected:f,showCheckmark:m,elementType:p="div",radius:g,padding:h,...x}=e;!s&&m&&(s=n.jsx(gr,{size:"sm",className:j("text-primary",!f&&"invisible")}));const v=j("icon-sm rounded overflow-hidden flex-shrink-0",!l&&"text-muted"),w=j(!l&&"text-muted"),y=p;return n.jsxs(y,{...x,"aria-disabled":l,className:br(e),ref:t,children:[s&&n.jsx("div",{className:v,children:s}),n.jsxs("div",{className:j("min-w-auto mr-auto w-full overflow-hidden overflow-ellipsis",r&&"first-letter:capitalize"),children:[a,o&&n.jsx("div",{className:j("mt-4 whitespace-normal text-xs",l?"text-disabled":"text-muted"),children:o})]}),(i||c)&&n.jsx("div",{className:i?v:w,children:i||c})]})});function br({className:e,isSelected:t,isActive:s,isDisabled:r,showCheckmark:a,endIcon:o,endSection:i,radius:c,padding:l}){let d="";r?d="text-disabled pointer-events-none":t?s?d="bg-primary/focus":d="bg-primary/selected hover:bg-primary/focus":s?d="hover:bg-fg-base/15 bg-focus":d="hover:bg-hover";let f;return l?f=l:a?o||i?f="pl-8 pr-8 py-8":f="pl-8 pr-24 py-8":f="px-20 py-8",j("w-full select-none outline-none cursor-pointer","text-sm truncate flex items-center gap-10",!r&&"text-main",f,d,e,c)}function Le({children:e,value:t,startIcon:s,endIcon:r,endSection:a,description:o,capitalizeFirst:i,textLabel:c,isDisabled:l,onSelected:d,onClick:f,...m}){var k;const{collection:p,showCheckmark:g,virtualFocus:h,listboxId:x,role:v,listItemsRef:w,handleItemSelection:y,state:{selectedValues:C,activeIndex:D,setActiveIndex:P}}=kt(),z=C.includes(t),b=(k=p.get(t))==null?void 0:k.index,N=D===b;if(b==null)return null;const S=N&&!l?-1:0;return n.jsx(Ps,{...m,onFocus:()=>{h||P(b)},onPointerEnter:T=>{P(b),h||T.currentTarget.focus()},onPointerDown:T=>{h&&T.preventDefault()},onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),y(t),d==null||d())},onClick:T=>{y(t),d==null||d(),f==null||f(T)},ref:T=>w.current[b]=T,id:`${x}-${b}`,role:v==="menu"?"menuitem":"option",tabIndex:h?void 0:S,"aria-selected":N&&z,showCheckmark:g,isDisabled:l,isActive:N,isSelected:z,startIcon:s,description:o,endIcon:r,endSection:a,capitalizeFirst:i,"data-value":t,children:e})}const yr=768;function vr(){return mn()||typeof window>"u"?ke().is_mobile_device??!1:window.screen.width<=yr}function Nt({listbox:e,children:t,isLoading:s,mobileOverlay:r=$s,searchField:a,onClose:o,prepend:i,className:c,...l}){const d=vr(),{floatingWidth:f,floatingMinWidth:m="min-w-180",collection:p,showEmptyMessage:g,state:{isOpen:h,setIsOpen:x},positionStyle:v,floating:w,refs:y}=e,C=!i&&d?r:Ke,D=j("text-base sm:text-sm outline-none bg max-h-inherit flex flex-col",!i&&"shadow-xl border py-4",c,C===Ke&&"rounded-panel",C===Ke&&f==="auto"?`max-w-288 ${m}`:""),P=u.useMemo(()=>{let N=0;const S=[];return[...p.values()].reduce((k,T)=>{if(!T.section)k.push(u.cloneElement(T.element,{key:T.element.key||T.element.props.value}));else if(!S.includes(T.section)){const E=u.cloneElement(T.section,{key:T.section.key||N,index:N});k.push(E),S.push(T.section),N++}return k},[])},[p]),z=P.length>0||g&&!s,b=z?n.jsxs("div",{className:D,role:"presentation",children:[a,n.jsx(wr,{isLoading:s,...l,children:P})]}):null;return n.jsxs(Ts.Provider,{value:e,children:[t,i?b:De&&gt.createPortal(n.jsx(Ve,{children:h&&z&&n.jsx(C,{triggerRef:y.reference,restoreFocus:!0,isOpen:h,onClose:()=>{o==null||o(),x(!1)},isDismissable:!0,style:v,ref:w,children:b})}),De)]})}function wr({className:e,children:t,isLoading:s,...r}){const{role:a,listboxId:o,virtualFocus:i,focusItem:c,state:{activeIndex:l,setActiveIndex:d,selectedIndex:f}}=kt(),m=u.useRef(!0),p=u.useRef(null);return u.useEffect(()=>()=>d(null),[d]),u.useEffect(()=>{if(m.current){const g=l??f;g==null&&!i?requestAnimationFrame(()=>{var h;(h=p.current)==null||h.focus({preventScroll:!0})}):g!=null&&requestAnimationFrame(()=>{c("increment",g)})}m.current=!1},[l,f,c,i]),n.jsx("div",{tabIndex:i?void 0:-1,role:a,id:o,className:"flex-auto overflow-y-auto overscroll-contain outline-none",ref:p,...r,children:t.length?t:n.jsx(jr,{})})}function jr(){return n.jsx("div",{className:"px-8 py-4 text-sm italic text-muted",children:n.jsx($,{message:"There are no items matching your query"})})}function Dt({state:{isOpen:e,setIsOpen:t,selectedIndex:s,activeIndex:r,setInputValue:a,setActiveIndex:o},focusLoopingMode:i,collection:c,focusItem:l,handleItemSelection:d,allowCustomValue:f}){const m=h=>{if(!(e||!h.currentTarget.contains(h.target))){if(h.key==="ArrowDown")return h.preventDefault(),t(!0),l("increment",s??0),!0;if(h.key==="ArrowUp")return h.preventDefault(),t(!0),l("decrement",s??c.size-1),!0;if(h.key==="Enter"||h.key==="Space")return h.preventDefault(),t(!0),l("increment",s??0),!0}},p=h=>{const x=Math.max(0,c.size-1);if(!(!e||!h.currentTarget.contains(h.target)))switch(h.key){case"ArrowDown":return h.preventDefault(),r==null?l("increment",0):r>=x?i==="loop"?l("increment",0):i==="deselect"&&o(null):l("increment",r+1),!0;case"ArrowUp":return h.preventDefault(),r==null?l("decrement",x):r<=0?i==="loop"?l("decrement",x):i==="deselect"&&o(null):l("decrement",r-1),!0;case"Home":return h.preventDefault(),l("increment",0),!0;case"End":return h.preventDefault(),l("decrement",x),!0;case"Tab":return t(!1),!0}};return{handleTriggerKeyDown:m,handleListboxKeyboardNavigation:p,handleListboxSearchFieldKeydown:h=>{var v,w;if(h.key==="Enter"&&r!=null&&c.size){h.preventDefault();const[y,C]=[...c.entries()][r];y&&(d(y),(w=(v=C.element.props).onSelected)==null||w.call(v));return}h.key==="Escape"&&e&&(t(!1),f||a("")),m(h)||p(h)}}}const ot=new Map;function Cr(e){const{localeCode:t}=G(),s=t+(e?Object.entries(e).sort((a,o)=>a[0]<o[0]?-1:1).join():"");if(ot.has(s))return ot.get(s);const r=new Intl.Collator(t,e);return ot.set(s,r),r}function $t(){const e=Cr({usage:"search",sensitivity:"base"}),t=u.useRef({search:"",timeout:void 0}).current,s=(a,o)=>{let i=o??0;for(;i!=null;){const c=a[i],l=c==null?void 0:c.slice(0,t.search.length);if(l&&e.compare(l,t.search)===0)return i;if(i<a.length-1)i++;else return null}return null};return{findMatchingItem:(a,o,i=0)=>{const c=kr(a.key);if(!c||a.ctrlKey||a.metaKey)return null;c===" "&&t.search.trim().length>0&&(a.preventDefault(),a.stopPropagation()),t.search+=c;let l=s(o,i);return l==null&&(l=s(o,0)),clearTimeout(t.timeout),t.timeout=setTimeout(()=>{t.search=""},500),l??null}}}function kr(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}const Ss=F(n.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");function Je(e={}){const{size:t="md",startAppend:s,endAppend:r,className:a,labelPosition:o,labelDisplay:i="block",wrapLabel:c=!1,inputClassName:l,inputWrapperClassName:d,unstyled:f,invalid:m,disabled:p,background:g="bg-transparent",flexibleHeight:h,inputShadow:x="shadow-sm",descriptionPosition:v="bottom",inputRing:w,inputFontSize:y,labelSuffix:C}={...e};if(f)return{label:"",input:l||"",wrapper:a||"",inputWrapper:d||"",adornment:"",append:{size:"",radius:""},size:{font:"",height:""},description:"",error:""};const D=Tr({size:e.size,flexibleHeight:h});y&&(D.font=y);const P=s||r,b=w||`focus:ring ${m?"focus:ring-danger/focus focus:border-danger/60":"focus:ring-primary/focus focus:border-primary/60"}`,N=$r(e);return{label:j(i,!c&&"whitespace-nowrap","first-letter:capitalize text-left",p&&"text-disabled",D.font,C?"":o==="side"?"mr-16":"mb-4"),input:j("block text-left relative w-full appearance-none transition-shadow text",g,N.input,Nr(e),!p&&`${b} focus:outline-none ${x}`,p&&"text-disabled cursor-not-allowed",l,D.font,D.height,Dr(e)),adornment:Pr(t),append:{size:vt(t),radius:N.append},wrapper:j(a,D.font,{"flex items-center":o==="side"}),inputWrapper:j("isolate relative",d,P&&"flex items-stretch"),size:D,description:`text-muted ${v==="bottom"?"pt-4":"pb-4"} text-xs`,error:"text-danger pt-4 text-xs"}}function Nr({startAppend:e,endAppend:t,inputBorder:s,invalid:r}){if(s)return s;const a=e||t,o=r?"border-danger":"border-divider";return a?e?`${o} border-y border-r`:`${o} border-y border-l`:`${o} border`}function Dr({startAdornment:e,endAdornment:t,inputRadius:s}){return s==="rounded-full"?j(e?"pl-54":"pl-28",t?"pr-54":"pr-28"):j(e?"pl-46":"pl-0",t?"pr-46":"  py-3 px-3 lg:px-6")}function $r(e){const{startAppend:t,endAppend:s,inputRadius:r}=e,a=t||s;return r==="rounded-full"?{input:j(!a&&"rounded-full",t&&"rounded-r-full rounded-l-none",s&&"rounded-l-full rounded-r-none"),append:t?"rounded-l-full":"rounded-r-full"}:r==="rounded-none"?{input:"",append:""}:r?{input:r,append:r}:{input:j(!a&&"rounded-input",t&&"rounded-r-input rounded-l-none",s&&"rounded-l-input rounded-r-none"),append:t?"rounded-l-input":"rounded-r-input"}}function Tr({size:e,flexibleHeight:t}){switch(e){case"2xs":return{font:"text-xs",height:t?"min-h-24":"h-24"};case"xs":return{font:"text-xs",height:t?"min-h-30":"h-30"};case"sm":return{font:"text-sm",height:t?"min-h-36":"h-12"};case"lg":return{font:"text-md md:text-lg",height:t?"min-h-50":"h-50"};case"xl":return{font:"text-xl",height:t?"min-h-60":"h-60"};default:return{font:"text-sm",height:t?"min-h-42":"h-11 lg:h-[54px]"}}}function Pr(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":return"icon-sm";case"md":return"icon-sm";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return""}}function Qt({children:e,direction:t,className:s,position:r=t==="start"?"left-0":"right-0"}){var a;return e?n.jsx("div",{className:j(!((a=e==null?void 0:e.props)!=null&&a.onClick)&&"pointer-events-none","absolute top-0 z-10 flex h-full min-w-42 items-center justify-center text-muted",r,s),children:e}):null}function zs(e,t){const s=(t==null?void 0:t.copy)??!0,r=s?{...e}:e;return Object.keys(r).forEach(a=>{const o=a;t!=null&&t.arrays&&Array.isArray(r[o])&&r[o].length===0?delete r[o]:t!=null&&t.deep&&r[o]&&typeof r[o]=="object"?(r[o]=zs(r[o],t),Object.keys(r[o]).length===0&&delete r[o]):(r[o]==null||r[o]==="")&&delete r[o]}),s?r:e}const Tt=U.forwardRef((e,t)=>{const{children:s,description:r,errorMessage:a,descriptionProps:o={},errorMessageProps:i={},startAdornment:c,endAdornment:l,adornmentPosition:d,startAppend:f,endAppend:m,fieldClassNames:p,disabled:g,wrapperProps:h}=e;return n.jsxs("div",{className:p.wrapper,ref:t,...h,children:[n.jsx(Sr,{...e}),n.jsxs("div",{className:p.inputWrapper,children:[n.jsx(Qt,{direction:"start",className:p.adornment,position:d,children:c}),f&&n.jsx(Yt,{style:p.append,disabled:g,children:f}),s,m&&n.jsx(Yt,{style:p.append,disabled:g,children:m}),n.jsx(Qt,{direction:"end",className:p.adornment,position:d,children:l})]}),r&&!a&&n.jsx("div",{className:p.description,...o,children:r}),a&&n.jsx("div",{className:p.error,...i,children:a})]})});function Sr({labelElementType:e,fieldClassNames:t,labelProps:s,label:r,labelSuffix:a,labelSuffixPosition:o="spaced",required:i}){if(!r)return null;const c=e||"label",l=n.jsxs(c,{className:t.label,...s,children:[r,i&&n.jsx("span",{className:"text-danger",children:" *"})]});return a?n.jsxs("div",{className:j("mb-4 flex w-full gap-4",o==="spaced"?"items-end":"items-center"),children:[l,n.jsx("div",{className:j("text-xs text-muted",o==="spaced"?"ml-auto":""),children:a})]}):l}function Yt({children:e,style:t,disabled:s}){return U.cloneElement(e,{...e.props,disabled:e.props.disabled||s,...zs(t)})}function Is({autoFocus:e,autoSelectText:t},s){const r=u.useRef(e);u.useEffect(()=>{r.current&&s.current&&requestAnimationFrame(()=>{var a,o;(a=s.current)==null||a.focus(),t&&((o=s.current)==null?void 0:o.nodeName.toLowerCase())==="input"&&s.current.select()}),r.current=!1},[s,t])}function Pt(e){const{focusRef:t,labelElementType:s="label",label:r,labelSuffix:a,labelSuffixPosition:o,autoFocus:i,autoSelectText:c,labelPosition:l,descriptionPosition:d,size:f,errorMessage:m,description:p,flexibleHeight:g,startAdornment:h,endAdornment:x,startAppend:v,adornmentPosition:w,endAppend:y,className:C,inputClassName:D,inputWrapperClassName:P,unstyled:z,background:b,invalid:N,disabled:S,id:k,inputRadius:T,inputBorder:E,inputShadow:L,inputRing:V,inputFontSize:Z,...I}=e;Is(e,t);const A=u.useId(),R=k||A,ne=`${R}-label`,H=`${R}-description`,X=`${R}-error`,Q={id:ne,htmlFor:s==="label"?R:void 0},re={id:H},ae={id:X},W={"aria-label":!e.label&&!e["aria-label"]&&e.placeholder?e.placeholder:e["aria-label"],"aria-invalid":N||void 0,id:R,disabled:S,...I},ee=[];r&&ee.push(Q.id),W["aria-labelledby"]&&ee.push(W["aria-labelledby"]),W["aria-labelledby"]=ee.length?ee.join(" "):void 0;const q=[];return p&&q.push(re.id),m&&q.push(ae.id),W["aria-describedby"]&&q.push(W["aria-describedby"]),W["aria-describedby"]=q.length?q.join(" "):void 0,{fieldProps:{errorMessageProps:ae,descriptionProps:re,labelProps:Q,disabled:S,label:r,labelSuffix:a,labelSuffixPosition:o,autoFocus:i,autoSelectText:c,labelPosition:l,descriptionPosition:d,size:f,errorMessage:m,description:p,flexibleHeight:g,startAdornment:h,endAdornment:x,startAppend:v,adornmentPosition:w,endAppend:y,className:C,inputClassName:D,inputWrapperClassName:P,unstyled:z,background:b,invalid:N},inputProps:W}}const St=u.forwardRef(({inputElementType:e="input",flexibleHeight:t,inputRef:s,inputTestId:r,...a},o)=>{const i=Te(s),{fieldProps:c,inputProps:l}=Pt({...a,focusRef:i}),d=e==="textarea",f=d?"textarea":"input",m=Je({...a,flexibleHeight:t||e==="textarea"});return e==="textarea"&&!a.unstyled&&(m.input=`${m.input} py-12`),n.jsx(Tt,{ref:o,fieldClassNames:m,...c,children:n.jsx(f,{"data-testid":r,ref:i,...l,rows:d?l.rows||4:void 0,className:m.input})})}),uo=U.forwardRef(({name:e,...t},s)=>{const{field:{onChange:r,onBlur:a,value:o="",ref:i},fieldState:{invalid:c,error:l}}=bt({name:e}),d={onChange:r,onBlur:a,value:o??"",invalid:c,errorMessage:l==null?void 0:l.message,inputRef:i,name:e};return n.jsx(St,{ref:s,...me(d,t)})}),fo=u.forwardRef((e,t)=>{const{placement:s,offset:r,searchPlaceholder:a,showSearchField:o,children:[i,c],floatingWidth:l="auto",isLoading:d}=e,f=u.useId(),m=xe(),p=Ct({...e,clearInputOnItemSelection:!0,showEmptyMessage:o,floatingWidth:m?"auto":l,virtualFocus:o,role:o?"listbox":"menu",focusLoopingMode:o?"stay":"loop",children:c.props.children,placement:s,offset:r},t),{state:{isOpen:g,setIsOpen:h,activeIndex:x,inputValue:v,setInputValue:w},listboxId:y,focusItem:C,listContent:D,reference:P,onInputChange:z}=p,{handleTriggerKeyDown:b,handleListboxKeyboardNavigation:N,handleListboxSearchFieldKeydown:S}=Dt(p),{findMatchingItem:k}=$t(),T=E=>{if(!g)return;const L=k(E,D,x);L!=null&&C("increment",L)};return n.jsx(Nt,{onClick:E=>E.stopPropagation(),listbox:p,onKeyDownCapture:o?void 0:T,onKeyDown:N,onClose:o?()=>w(""):void 0,"aria-labelledby":f,isLoading:d,searchField:o?n.jsx(St,{size:"sm",placeholder:a,startAdornment:n.jsx(Ss,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":g?"true":"false","aria-haspopup":"listbox","aria-controls":g?y:void 0,"aria-autocomplete":"list",autoCorrect:"off",spellCheck:"false",value:v,onChange:z,onKeyDown:E=>{S(E)}}):null,children:u.cloneElement(i,{id:f,"aria-expanded":g?"true":"false","aria-haspopup":"menu","aria-controls":g?y:void 0,ref:P,onKeyDown:b,onClick:se(E=>{var L,V;(V=(L=i.props)==null?void 0:L.onClick)==null||V.call(L,E),h(!g)})})})});function zr({children:e}){return e}const Xt=e=>{e.preventDefault()};function mo({position:e,children:t,...s}){const r=Ct({...s,isOpen:s.isOpen&&!!e,placement:"right-start",floatingWidth:"auto",role:"menu",focusLoopingMode:"loop",children:(t==null?void 0:t.type)===zr?t.props.children:t}),{reference:a,refs:o,state:{isOpen:i,setIsOpen:c,activeIndex:l},focusItem:d,listContent:f}=r;u.useEffect(()=>{if(o.floating.current)return o.floating.current.addEventListener("contextmenu",Xt),()=>{var g;(g=o.floating.current)==null||g.removeEventListener("contextmenu",Xt)}},[o.floating]),u.useEffect(()=>{e?(a(Rs(e)),c(!0)):c(!1)},[e,a,c]);const{handleListboxKeyboardNavigation:m}=Dt(r),{findMatchingItem:p}=$t();return n.jsx(Nt,{listbox:r,onKeyDownCapture:g=>{if(!i)return;const h=p(g,f,l);h&&d("increment",h)},onKeyDown:m})}function Rs({x:e,y:t},s){return{getBoundingClientRect(){return{x:e,y:t,width:0,height:0,top:t,right:e,bottom:t,left:e}},contextElement:s}}function Ir(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function zt(e){let{children:t,type:s,disableInitialTransition:r,isDismissable:a=!0,moveFocusToDialog:o=!0,returnFocusToTrigger:i=!0,triggerOnHover:c=!1,triggerOnContextMenu:l=!1,handleTriggerClick:d=!0,usePortal:f=!0,mobileType:m,alwaysReturnCurrentValueOnClose:p}=e;const g=u.useRef(null),h=l&&!e.triggerRef?g:e.triggerRef,x=u.useRef(e.value),[v,w]=Ce(e.isOpen,e.defaultIsOpen,e.onOpenChange),[y,C]=Ce(e.value,e.defaultValue,e.onValueChange);xe()&&s==="popover"&&(s=m||"modal");const P=u.useRef(null),{x:z,y:b,reference:N,strategy:S,refs:k}=wt({...e,disablePositioning:s==="modal"}),T=s==="popover"?{position:S,top:b??"",left:z??""}:{},E=u.useId(),L=`${E}-label`,V=`${E}-description`,Z=`${E}-form`,I=Ir(e.onClose),A=u.useCallback(K=>{typeof K>"u"&&p&&(K=y);const ye=typeof K<"u"?K:x.current;I==null||I(ye,{initialValue:x.current,valueChanged:ye!==x.current}),w(!1)},[I,w,y,p]),R=u.useCallback(()=>{w(!0),x.current=e.value},[e.value,w]);hn(()=>{h!=null&&h.current&&k.reference.current!==h.current&&N(h.current)},[N,h==null?void 0:h.current,k]);const ne=u.useMemo(()=>({"aria-labelledby":L,"aria-describedby":V}),[L,V]);let H;s==="modal"?H=cr:s==="tray"?H=$s:H=Ke;const X=u.useMemo(()=>({dialogProps:ne,type:s,labelId:L,descriptionId:V,isDismissable:a,close:A,value:y,initialValue:x.current,setValue:C,formId:Z}),[A,V,ne,Z,L,s,a,y,C]);c=c&&s==="popover";const Q={onPointerEnter:se(K=>{R()}),onPointerLeave:se(K=>{P.current=setTimeout(()=>{A()},150)})},re={onPointerEnter:se(K=>{P.current&&clearTimeout(P.current)}),onPointerLeave:se(K=>{A()})},ae={onContextMenu:se(K=>{K.preventDefault(),g.current=Rs({x:K.clientX,y:K.clientY},K.currentTarget),R()})},J={onClick:se(K=>{K.stopPropagation(),v?A():R()})},{dialogTrigger:W,dialog:ee}=Rr(t,X),q=n.jsx(Ve,{initial:!r,children:v&&n.jsx(Ye.Provider,{value:X,children:n.jsx(H,{...c?re:{},ref:k.setFloating,triggerRef:k.reference,style:T,restoreFocus:i,autoFocus:o,isOpen:v,onClose:A,isDismissable:a,isContextMenu:l,placement:e.placement,children:ee})})});return n.jsxs(u.Fragment,{children:[W&&u.cloneElement(W,me({...!h&&!l?{ref:N}:{},...!l&&d?J:{},...c?Q:{},...l?ae:{}},{...W.props})),f?De&&gt.createPortal(q,De):q]})}function Rr(e,t){const s=Array.isArray(e)?e:u.Children.toArray(e);let r=s.length===2?s[1]:s[0];return r=typeof r=="function"?r(t):r,s.length===2?{dialogTrigger:s[0],dialog:r}:{dialog:r}}const Er=F(n.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeftOutlined");function Ar(e){const{children:t,startAction:s,className:r,dividerTop:a,padding:o,size:i}=e;return n.jsxs("div",{className:j(r,a&&"border-t",Mr(e),"flex items-center gap-10 flex-shrink-0"),children:[n.jsx("div",{children:s}),n.jsx("div",{className:"ml-auto flex items-center gap-10",children:t})]})}function Mr({padding:e,size:t}){if(e)return e;switch(t){case"xs":return"p-14";case"sm":return"p-18";default:return"px-4 py-4"}}const Vr=window.requestAnimationFrame,Or=window.cancelAnimationFrame,Es="data-be-helmet";let _e;const Fr=u.memo(({children:e,tags:t})=>{const{trans:s}=Oe();return!t&&e&&(t=Lr(e,s)),Br(t),null},fe);function Lr(e,t){return u.Children.map(e,s=>{switch(s.type){case"title":return{nodeName:"title",_text:As(s.props.children,t)};case"meta":return{...s.props,nodeName:"meta"}}})}function As(e,t){return e==null?"":typeof e=="string"?e:Array.isArray(e)?e.map(s=>As(s,t)).join(""):"message"in e?t(e):t(e.props)}function _r(){document.head.querySelectorAll('meta:not([data-keep]), script[type="application/ld+json"]:not([data-keep]), title, link[rel="canonical"]').forEach(e=>{document.head.removeChild(e)})}function Br(e){_e&&Or(_e),_e=Vr(()=>{if(_r(),typeof e=="string"){const t=document.createElement("template");t.innerHTML=e,t.content.childNodes.forEach(s=>{s instanceof HTMLElement&&(s.setAttribute(Es,"true"),document.head.prepend(s))})}else e==null||e.forEach(t=>{Kr(t)});_e=null})}function Kr(e){if(e.nodeName==="title"){typeof e._text<"u"&&document.title!==e._text&&(document.title=e._text);return}const t=document.createElement(e.nodeName);for(const s in e){const r=s;if(r!=="nodeName")if(r==="_text")t.textContent=typeof e._text=="string"?e._text:JSON.stringify(e._text);else{const a=e[r]==null?"":e[r];t.setAttribute(r,a)}}t.setAttribute(Es,"true"),document.head.prepend(t)}function Hr({children:e}){const{branding:{site_name:t}}=Xe();return n.jsx(Fr,{children:e?n.jsxs("title",{children:[e," - ",t]}):void 0})}function ho({children:e,className:t,withBorder:s=!0,top:r="top-2",right:a="right-4",color:o="bg-warning text-white"}){return n.jsx("span",{className:j("absolute flex items-center justify-center whitespace-nowrap rounded-full text-[11px] font-bold shadow",s&&"border-2 border-white",o,e?"w-max p-4 leading-[0.6]":"h-12 w-12",t,r,a),children:e})}function Ms({children:e,className:t,padding:s,dataTestId:r,listRef:a}){return n.jsx(Me,{children:n.jsx("ul",{ref:a,"data-testid":r,className:j("text-base outline-none sm:text-sm",t,s??"py-4"),children:e})})}const Vs=u.forwardRef(({children:e,onSelected:t,borderRadius:s="rounded",className:r,...a},o)=>{const i=yt(),c=!!t,[l,d]=u.useState(!1),f=m=>{switch(m.key){case"ArrowDown":m.preventDefault(),i==null||i.focusNext();break;case"ArrowUp":m.preventDefault(),i==null||i.focusPrevious();break;case"Home":m.preventDefault(),i==null||i.focusFirst();break;case"End":m.preventDefault(),i==null||i.focusLast();break;case"Enter":case"Space":m.preventDefault(),t==null||t();break}};return n.jsx("li",{children:n.jsx(Ps,{className:j(r,s),isActive:l,isDisabled:a.isDisabled,...a,onFocus:m=>{d(m.target.matches(":focus-visible"))},onBlur:()=>{d(!1)},onClick:()=>{t==null||t()},ref:o,role:c?"button":void 0,onKeyDown:c?f:void 0,tabIndex:c&&!a.isDisabled?0:void 0,children:e})})});function Wr(e,t=1){if(e==null||Number.isNaN(e))return"";const s=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(s&&(e=-e),e<1)return`${(s?"-":"")+e} B`;const a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,a));const o=r[a];return e>=10||e%1===0?`${(s?"-":"")+e.toFixed(1)} ${o}`:`${(s?"-":"")+e.toFixed(t)} ${o}`}function Ur({isLoading:e,icon:t}){const s=u.useRef(null),{trans:r}=Oe(),[a,o]=u.useState(!1),{state:{isOpen:i,inputValue:c}}=kt(),l=u.useRef(c);return u.useEffect(()=>{e&&!a?(s.current===null&&(s.current=setTimeout(()=>{o(!0)},500)),c!==l.current&&(clearTimeout(s.current),s.current=setTimeout(()=>{o(!0)},500))):e||(o(!1),clearTimeout(s.current),s.current=null),l.current=c},[e,a,c]),a&&(i||e)?n.jsx(ks,{"aria-label":r({message:"Loading"}),size:"w-24 h-24",isIndeterminate:!0}):t||n.jsx(sr,{})}function qr(e,t){const s=xe(),{hideCaret:r,placeholder:a=n.jsx($,{message:"Select an option..."}),selectedValue:o,onItemSelected:i,onOpenChange:c,onInputValueChange:l,onSelectionChange:d,selectionMode:f,minWidth:m="min-w-128",children:p,searchPlaceholder:g,showEmptyMessage:h,showSearchField:x,defaultInputValue:v,inputValue:w,isLoading:y,isAsync:C,valueClassName:D,floatingWidth:P=s?"auto":"matchTrigger",radius:z,...b}=e,N=Ct({...e,clearInputOnItemSelection:!0,showEmptyMessage:h||x,floatingWidth:P,selectionMode:"single",role:"listbox",virtualFocus:x},t),{state:{selectedValues:S,isOpen:k,setIsOpen:T,activeIndex:E,setSelectedIndex:L,inputValue:V,setInputValue:Z},collections:I,focusItem:A,listboxId:R,reference:ne,refs:H,listContent:X,onInputChange:Q}=N,{fieldProps:re,inputProps:ae}=Pt({...b,focusRef:H.reference}),J=I.collection.get(S[0]),W=J?n.jsxs("span",{className:"flex items-center gap-10",children:[J.element.props.startIcon,n.jsx("span",{className:j("overflow-hidden overflow-ellipsis whitespace-nowrap",D),children:J.element.props.children})]}):n.jsx("span",{className:"italic",children:a}),ee=Je({...e,endAdornment:!0}),{handleTriggerKeyDown:q,handleListboxKeyboardNavigation:K,handleListboxSearchFieldKeydown:ye}=Dt(N),{findMatchingItem:ve}=$t(),tt=B=>{if(!k)return;const M=ve(B,X,E);M!=null&&A("increment",M)},Et=B=>{if(k)return;const M=ve(B,X,E);M!=null&&L(M)};return n.jsx(Nt,{listbox:N,onKeyDownCapture:x?void 0:tt,onKeyDown:K,onClose:x?()=>Z(""):void 0,isLoading:y,searchField:x&&n.jsx(St,{size:e.size==="xs"||e.size==="sm"?"xs":"sm",placeholder:g,startAdornment:n.jsx(Ss,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":k?"true":"false","aria-haspopup":"listbox","aria-controls":k?R:void 0,"aria-autocomplete":"list",autoCorrect:"off",spellCheck:"false",value:V,onChange:Q,onKeyDown:B=>{ye(B)}}),children:n.jsx(Tt,{fieldClassNames:ee,...re,endAdornment:!r&&n.jsx(Ur,{isLoading:y}),children:n.jsx("button",{...ae,type:"button","data-selected-value":J==null?void 0:J.value,"aria-expanded":k?"true":"false","aria-haspopup":"listbox","aria-controls":k?R:void 0,ref:ne,onKeyDown:q,onKeyDownCapture:x?void 0:Et,disabled:b.disabled,onClick:()=>{T(!k)},className:j(ee.input,!re.unstyled&&m),children:W})})})}const Os=U.forwardRef(qr);function po({children:e,...t}){const{field:{onChange:s,onBlur:r,value:a=null,ref:o},fieldState:{invalid:i,error:c}}=bt({name:t.name}),l={onSelectionChange:s,onBlur:r,selectedValue:a,invalid:i,errorMessage:c==null?void 0:c.message,name:t.name},d=t.errorMessage||(c==null?void 0:c.message);return n.jsx(Os,{ref:o,...me(l,t,{errorMessage:d}),children:e})}function be(e){const t=u.useRef(null);e&&t.current&&fe(e,t.current)&&(e=t.current),t.current=e;const{localeCode:s}=G();return u.useMemo(()=>new fs(s,e),[s,e])}const It={numeric:{year:"numeric",month:"2-digit",day:"2-digit"},short:{year:"numeric",month:"short",day:"2-digit"},long:{month:"long",day:"2-digit",year:"numeric"},timestamp:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},time:{hour:"2-digit",minute:"2-digit"}},xo=u.memo(({date:e,options:t,preset:s,timezone:r})=>{const{dates:a}=Xe(),o=Qe(),i=r||(t==null?void 0:t.timeZone)||o,c=t||It[s||(a==null?void 0:a.format)||"short"]||{};c.timeZone||(c.timeZone=i);const l=be(c);if(!e)return null;try{typeof e=="string"?e=ms(e,i).toDate():"toDate"in e&&(e=e.toDate(i))}catch{return null}return n.jsx(u.Fragment,{children:l.format(e)})},fe);function Gr({variant:e="text",animation:t="wave",size:s,className:r,display:a="block",radius:o="rounded",style:i}){return n.jsx("span",{style:i,className:j("skeleton relative overflow-hidden bg-fg-base/4 bg-no-repeat will-change-transform",o,Zr({variant:e,size:s}),a,e==="text"&&"origin-[0_55%] scale-y-[0.6]",e==="avatar"&&"flex-shrink-0",e==="icon"&&"mx-8 flex-shrink-0",t==="wave"&&"skeleton-wave",t==="pulsate"&&"skeleton-pulsate",r),"aria-busy":!0,"aria-live":"polite"})}function Zr({variant:e,size:t}){if(t)return t;switch(e){case"avatar":return"h-40 w-40";case"icon":return"h-24 h-24";case"rect":return"h-full w-full";default:return"w-full"}}const Qr=F(n.jsx("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"StorageOutlined"),Yr=U.forwardRef((e,t)=>{const{children:s,inputProps:r,wrapperProps:a,className:o,autoFocus:i,style:c,onClick:l}=e;return n.jsx("div",{...a,onClick:l,children:n.jsx("div",{...r,role:"group",className:j(o,"flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60"),ref:t,style:c,children:n.jsx(Me,{autoFocus:i,children:s})})})});function Fs(e){return e.set({hour:0,minute:0,second:0,millisecond:0})}function te(e){return e.set({hour:24-1,minute:60-1,second:60-1,millisecond:1e3-1})}function Xr(){var s,r,a;const e=(s=ke())==null?void 0:s.settings.dates.default_timezone,t=((a=(r=ke())==null?void 0:r.user)==null?void 0:a.timezone)||e||"auto";return!t||t==="auto"?us():t}function Jr(){const e=Qe();return u.useMemo(()=>{try{return We(e)}catch{return We("UTC")}},[e])}function ft(){const e=Xr();try{return We(e)}catch{return We("UTC")}}const _=Fs(ft());var is,ls;const it=((ls=(is=ke())==null?void 0:is.i18n)==null?void 0:ls.language)||"en",Ls=[{key:0,label:O("Today"),getRangeValue:()=>({preset:0,start:_,end:te(_)})},{key:1,label:O("Yesterday"),getRangeValue:()=>({preset:1,start:_.subtract({days:1}),end:te(_).subtract({days:1})})},{key:2,label:O("This week"),getRangeValue:()=>({preset:2,start:Ue(_,it),end:wn(te(_),it)})},{key:3,label:O("Last week"),getRangeValue:()=>{const e=Ue(_,it).subtract({days:7});return{preset:3,start:e,end:e.add({days:6})}}},{key:4,label:O("Last 7 days"),getRangeValue:()=>({preset:4,start:_.subtract({days:7}),end:te(_)})},{key:6,label:O("Last 30 days"),getRangeValue:()=>({preset:6,start:_.subtract({days:30}),end:te(_)})},{key:7,label:O("Last 3 months"),getRangeValue:()=>({preset:7,start:_.subtract({months:3}),end:te(_)})},{key:8,label:O("Last 12 months"),getRangeValue:()=>({preset:8,start:_.subtract({months:12}),end:te(_)})},{key:9,label:O("This month"),getRangeValue:()=>({preset:9,start:Ee(_),end:Ae(te(_))})},{key:10,label:O("This year"),getRangeValue:()=>({preset:10,start:Ft(_),end:Lt(te(_))})},{key:11,label:O("Last year"),getRangeValue:()=>({preset:11,start:Ft(_).subtract({years:1}),end:Lt(te(_)).subtract({years:1})})}],_s=F(n.jsx("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined"),Bs=U.forwardRef(({inputRef:e,wrapperProps:t,children:s,onBlur:r,...a},o)=>{const i=Je(a),c=Te(o),{fieldProps:l,inputProps:d}=Pt({...a,focusRef:c,labelElementType:"span"});return i.wrapper=j(i.wrapper,a.disabled&&"pointer-events-none"),n.jsx(Tt,{wrapperProps:me(t,{onBlur:f=>{var m;(m=c.current)!=null&&m.contains(f.relatedTarget)||r==null||r(f)},onClick:()=>{const f=pn(c);f==null||f.focusFirst()}}),fieldClassNames:i,ref:c,...l,children:n.jsx(Yr,{inputProps:d,className:j(i.input,"gap-10"),ref:e,children:s})})});function ea(e){return e instanceof jn?"day":"minute"}function mt(e,t,s){return t!=null&&e.compare(t)<0||s!=null&&e.compare(s)>0}function $e(e,t,s){try{return _t(e,t,s)}catch{return _t(e,"UTC",s)}}function ta(e,t){const s=Qe(),[r,a]=u.useState(!1),o=t.closeDialogOnSelection??!0,i=t.granularity||ea(e),c=t.min?$e(t.min,s):void 0,l=t.max?$e(t.max,s):void 0;return{timezone:s,granularity:i,min:c,max:l,calendarIsOpen:r,setCalendarIsOpen:a,closeDialogOnSelection:o}}function ht(e){var V,Z;const t=Jr(),[s,r]=u.useState({start:(!e.value||!e.value.start)&&!((V=e.defaultValue)!=null&&V.start),end:(!e.value||!e.value.end)&&!((Z=e.defaultValue)!=null&&Z.end)}),a=e.onChange,[o,i]=Ce(e.value?ct(e.value,t):void 0,e.value?void 0:ct(e.defaultValue,t),I=>{r({start:!1,end:!1}),a==null||a(I)}),{min:c,max:l,granularity:d,timezone:f,calendarIsOpen:m,setCalendarIsOpen:p,closeDialogOnSelection:g}=ta(o.start,e),h=u.useCallback(()=>{r({start:!0,end:!0}),i(ct(null,t)),a==null||a(null),p(!1)},[t,i,a,p]),[x,v]=u.useState(null),[w,y]=u.useState(!1),[C,D]=u.useState(o),[P,z]=u.useState(()=>Jt(o,l)),b=u.useCallback(I=>{let A=I.start,R=I.end;c&&(A=st(A,c));const ne=l?nt(l,R):R;A=nt(A,ne);const H=c?st(c,A):A;return R=st(R,H),l&&(R=nt(R,l)),{start:$e(A,f),end:$e(R,f)}},[c,l,f]),N=u.useCallback(I=>{const A={...b(I),preset:I.preset};i(A),D(A),z(Jt(A,l)),r({start:!1,end:!1})},[i,b,l]),S=u.useCallback(I=>!s.start&&Fe(I,C.start)||!s.end&&Fe(I,C.end),[C,s]),k=u.useCallback(I=>(w||!s.start&&!s.end)&&I.compare(C.start)>=0&&I.compare(C.end)<=0,[C,s,w]),T=u.useCallback(I=>Fe(I,C.start),[C]),E=u.useCallback(I=>Fe(I,C.end),[C]),L=u.useCallback((I,A)=>({onPointerEnter:()=>{w&&A&&D(lt({start:x,end:I,timezone:f}))},onClick:()=>{if(!w)y(!0),v(I),D(lt({start:I,end:I,timezone:f}));else{const R=lt({start:x,end:I,timezone:f});R.start=Fs(R.start),R.end=te(R.end),y(!1),v(null),N==null||N(R),g&&(p==null||p(!1))}}}),[x,w,N,p,g,f]);return{selectedValue:o,setSelectedValue:N,calendarIsOpen:m,setCalendarIsOpen:p,dayIsActive:S,dayIsHighlighted:k,dayIsRangeStart:T,dayIsRangeEnd:E,getCellProps:L,calendarDates:P,setIsPlaceholder:r,isPlaceholder:s,clear:h,setCalendarDates:z,min:c,max:l,granularity:d,timezone:f,closeDialogOnSelection:g}}function Jt(e,t){let s=dt(Ee(e.start)),r=dt(Ae(e.end));return hs(s,r)&&(r=Ae(r.add({months:1}))),t&&r.compare(t)>0&&(r=s,s=Ee(s.subtract({months:1}))),[s,r]}function lt(e){const t=$e(e.start,e.timezone),s=$e(e.end,e.timezone);return t.compare(s)>0?{start:s,end:t}:{start:t,end:s}}function ct(e,t){return e!=null&&e.start&&(e!=null&&e.end)?e:!(e!=null&&e.start)&&(e!=null&&e.end)?(e.start=e.end.subtract({months:1}),e):!(e!=null&&e.end)&&(e!=null&&e.start)?(e.end=e.start.add({months:1}),e):{start:t,end:t.add({months:1})}}const Ks=F(n.jsx("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"}),"ArrowRightAltOutlined");function sa(e,t,s,r){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,s,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{const a=e.hour,o=a>=12;return e.set({hour:o?a-12:a+12})}case"hour":case"minute":case"second":return e.cycle(t,s,{round:t!=="hour",hourCycle:r.hour12?12:24})}return e}function na(e,t,s,r){switch(t){case"day":case"month":case"year":return e.set({[t]:s})}if("hour"in e)switch(t){case"dayPeriod":{const a=e.hour,o=a>=12;return s>=12===o?e:e.set({hour:o?a-12:a+12})}case"hour":if(r.hour12){const o=e.hour>=12;!o&&s===12&&(s=0),o&&s<12&&(s+=12)}case"minute":case"second":return e.set({[t]:s})}return e}const es={year:5,month:2,day:7,hour:2,minute:15,second:15,dayPeriod:1};function ra({segment:e,domProps:t,value:s,onChange:r,isPlaceholder:a,state:{timezone:o,calendarIsOpen:i,setCalendarIsOpen:c}}){const l=xe(),d=u.useRef(""),{localeCode:f}=G(),m=yt(),p=be({timeZone:o}),g=u.useMemo(()=>new Cn(f,{maximumFractionDigits:0}),[f]),h=b=>{r(na(s,e.type,b,p.resolvedOptions()))},x=b=>{r(sa(s,e.type,b,p.resolvedOptions()))},v=()=>{if(g.isValidPartialNumber(e.text)){const b=e.text.slice(0,-1),N=g.parse(b);if(b.length===0||N===0){const S=kn(o);e.type in S&&h(S[e.type])}else h(N);d.current=b}else e.type==="dayPeriod"&&x(-1)},w=b=>{var N;if(!(b.ctrlKey||b.metaKey||b.shiftKey||b.altKey)){switch(b.key){case"ArrowLeft":b.preventDefault(),b.stopPropagation(),m==null||m.focusPrevious();break;case"ArrowRight":b.preventDefault(),b.stopPropagation(),m==null||m.focusNext();break;case"Enter":(N=b.target.closest("form"))==null||N.requestSubmit(),c(!i);break;case"Tab":break;case"Backspace":case"Delete":{b.preventDefault(),b.stopPropagation(),v();break}case"ArrowUp":b.preventDefault(),d.current="",x(1);break;case"ArrowDown":b.preventDefault(),d.current="",x(-1);break;case"PageUp":b.preventDefault(),d.current="",x(es[e.type]||1);break;case"PageDown":b.preventDefault(),d.current="",x(-(es[e.type]||1));break;case"Home":b.preventDefault(),d.current="",h(e.maxValue);break;case"End":b.preventDefault(),d.current="",h(e.minValue);break}P(b.key)}},y=be({hour:"numeric",hour12:!0}),C=u.useMemo(()=>{const b=new Date;return b.setHours(0),y.formatToParts(b).find(N=>N.type==="dayPeriod").value},[y]),D=u.useMemo(()=>{const b=new Date;return b.setHours(12),y.formatToParts(b).find(N=>N.type==="dayPeriod").value},[y]),P=b=>{const N=d.current+b;switch(e.type){case"dayPeriod":if(C.toLowerCase().startsWith(b))h(0);else if(D.toLowerCase().startsWith(b))h(12);else break;m==null||m.focusNext();break;case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!g.isValidPartialNumber(N))return;let S=g.parse(N),k=S,T=e.minValue===0;if(e.type==="hour"&&p.resolvedOptions().hour12){switch(p.resolvedOptions().hourCycle){case"h11":S>11&&(k=g.parse(b));break;case"h12":T=!1,S>12&&(k=g.parse(b));break}e.value>=12&&S>1&&(S+=12)}else S>e.maxValue&&(k=g.parse(b));if(Number.isNaN(S))return;const E=k!==0||T;E&&h(k),+`${S}0`>e.maxValue||N.length>=String(e.maxValue).length?(d.current="",E&&(m==null||m.focusNext())):d.current=N;break}}},z=l?{}:{"aria-label":e.type,"aria-valuetext":a?void 0:`${e.value}`,"aria-valuemin":e.minValue,"aria-valuemax":e.maxValue,"aria-valuenow":a?void 0:e.value,tabIndex:0,onKeyDown:w};return n.jsx("div",{...me(t,{...z,onFocus:b=>{d.current="",b.target.scrollIntoView({block:"nearest"})},onClick:b=>{b.preventDefault(),b.stopPropagation()}}),className:"box-content cursor-default select-none whitespace-nowrap rounded p-2 text-center tabular-nums caret-transparent outline-none focus:bg-primary focus:text-on-primary",children:e.text.padStart(e.minLength,"0")})}function aa({segment:e,domProps:t}){const s=yt();return n.jsx("div",{...t,onPointerDown:r=>{r.pointerType==="mouse"&&(r.preventDefault(),s!=null&&s.focusNext({from:r.target})||s==null||s.focusPrevious({from:r.target}))},"aria-hidden":!0,className:"min-w-4 cursor-default select-none",children:e.text})}function oa(e,t,s){switch(t){case"year":return{value:e.year,placeholder:"yyyy",minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,placeholder:"mm",minValue:Dn(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:Nn(e),maxValue:e.calendar.getDaysInMonth(e),placeholder:"dd"}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12,placeholder:"--"};case"hour":if(s.hour12){const r=e.hour>=12;return{value:e.hour,minValue:r?12:0,maxValue:r?23:11,placeholder:"--"}}return{value:e.hour,minValue:0,maxValue:23,placeholder:"--"};case"minute":return{value:e.minute,minValue:0,maxValue:59,placeholder:"--"}}return{}}function Ze({segmentProps:e,state:t,value:s,onChange:r,isPlaceholder:a}){const{granularity:o}=t,i=u.useMemo(()=>{const f={year:"numeric",month:"numeric",day:"numeric"};return o==="minute"&&(f.hour="numeric",f.minute="numeric"),f},[o]),c=be(i),l=u.useMemo(()=>s.toDate(),[s]),d=u.useMemo(()=>c.formatToParts(l).map(f=>{const m=oa(s,f.type,c.resolvedOptions()),p=a&&f.type!=="literal"?m.placeholder:f.value;return{type:f.type,text:f.value===", "?" ":p,...m,minLength:f.type!=="literal"?String(m.maxValue).length:1}}),[l,c,a,s]);return n.jsx("div",{className:"flex items-center",children:d.map((f,m)=>f.type==="literal"?n.jsx(aa,{domProps:e,segment:f},m):n.jsx(ra,{isPlaceholder:a,domProps:e,state:t,value:s,onChange:r,segment:f},m))})}const ia=F(n.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");function la({date:e,currentMonth:t,state:{dayIsActive:s,dayIsHighlighted:r,dayIsRangeStart:a,dayIsRangeEnd:o,getCellProps:i,timezone:c,min:l,max:d}}){const{localeCode:f}=G(),m=$n(e,f),p=s(e),g=r(e),h=a(e),x=o(e),v=Tn(e,c),w=hs(e,t),y=mt(e,l,d);return n.jsxs("div",{role:"button","aria-disabled":y,className:j("relative isolate h-40 w-40 flex-shrink-0 text-sm",y&&"pointer-events-none text-disabled",!w&&"pointer-events-none invisible"),...i(e,w),children:[n.jsx("span",{className:j("absolute inset-0 z-10 flex h-full w-full cursor-pointer select-none items-center justify-center rounded-full",!p&&!v&&"hover:bg-hover",p&&"bg-primary font-semibold text-on-primary",v&&!p&&"bg-chip"),children:e.day}),g&&w&&n.jsx("span",{className:j("absolute inset-0 h-full w-full bg-primary/focus",(h||m===0||e.day===1)&&"rounded-l-full",(x||m===6||e.day===t.calendar.getDaysInMonth(t))&&"rounded-r-full")})]})}function ca({startDate:e,state:t,isFirst:s,isLast:r}){const{localeCode:a}=G(),o=Pn(e,a),i=Ue(e,a);return n.jsxs("div",{className:"w-280 flex-shrink-0",children:[n.jsx(da,{isFirst:s,isLast:r,state:t,currentMonth:e}),n.jsxs("div",{className:"block",role:"grid",children:[n.jsx(ua,{state:t,startDate:e}),[...new Array(o).keys()].map(c=>n.jsx(ue.div,{className:"mb-6 flex",children:[...new Array(7).keys()].map(l=>n.jsx(la,{date:i.add({weeks:c,days:l}),currentMonth:e,state:t},l))},c))]})]})}function da({currentMonth:e,isFirst:t,isLast:s,state:{calendarDates:r,setCalendarDates:a,timezone:o,min:i,max:c}}){const l=p=>{const g=r.length;let h;p==="forward"?h=r.map(x=>Ae(x.add({months:g}))):h=r.map(x=>Ae(x.subtract({months:g}))),a(h)},d=be({month:"long",year:"numeric",era:e.calendar.identifier!=="gregory"?"long":void 0,calendar:e.calendar.identifier}),f=mt(e.subtract({days:1}),i,c),m=mt(Ee(e.add({months:1})),i,c);return n.jsxs("div",{className:"flex items-center justify-between gap-10",children:[n.jsx(Ne,{size:"md",className:j("text-muted",!t&&"invisible"),disabled:!t||f,"aria-hidden":!t,onClick:()=>{l("backward")},children:n.jsx(Er,{})}),n.jsx("div",{className:"select-none text-sm font-semibold",children:d.format(e.toDate(o))}),n.jsx(Ne,{size:"md",className:j("text-muted",!s&&"invisible"),disabled:!s||m,"aria-hidden":!s,onClick:()=>{l("forward")},children:n.jsx(ia,{})})]})}function ua({state:{timezone:e},startDate:t}){const{localeCode:s}=G(),r=be({weekday:"short"}),a=Ue(t,s);return n.jsx("div",{className:"flex",children:[...new Array(7).keys()].map(o=>{const c=a.add({days:o}).toDate(e),l=r.format(c);return n.jsx("div",{className:"relative h-40 w-40 flex-shrink-0 text-sm font-semibold",children:n.jsx("div",{className:"absolute flex h-full w-full select-none items-center justify-center",children:l})},o)})})}function fa({state:e,visibleMonths:t=1}){return xe()&&(t=1),n.jsx(u.Fragment,{children:[...new Array(t).keys()].map(r=>{const a=dt(Ee(e.calendarDates[r])),o=r===0,i=r===t-1;return n.jsx(ca,{state:e,startDate:a,isFirst:o,isLast:i},r)})})}const Hs=u.memo(({start:e,end:t,options:s,preset:r,timezone:a})=>{const{dates:o}=Xe(),i=Qe(),c=a||(s==null?void 0:s.timeZone)||i,l=be(s||It[r||(o==null?void 0:o.format)]);if(!e||!t)return null;let d;try{d=l.formatRange(ts(e,c),ts(t,c))}catch{d=""}return n.jsx(u.Fragment,{children:d})},fe);function ts(e,t){return typeof e=="string"?ms(e,t).toDate():"toDate"in e?e.toDate(t):e}function ma({onPresetSelected:e,selectedValue:t}){return n.jsx(Ms,{children:Ls.map(s=>n.jsx(Vs,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(t==null?void 0:t.preset)===s.key,onSelected:()=>{const r=s.getRangeValue();e(r)},children:n.jsx($,{...s.label})},s.key))})}function ha(e){return Ns("(max-width: 1024px)",e)}const Ws=U.forwardRef((e,t)=>{const{children:s,size:r="sm",description:a,className:o,invalid:i,autoFocus:c,errorMessage:l,iconRight:d,...f}=e,m=Te(t);Is({autoFocus:c},m);const p=pa(r),g=Je(e),h=u.useId();return n.jsxs("div",{className:j(o,"isolate"),children:[n.jsxs("label",{className:"flex select-none items-center",children:[n.jsx("input",{...f,type:"checkbox",role:"switch","aria-invalid":i||void 0,"aria-describedby":a?h:void 0,ref:m,"aria-checked":f.checked,className:j(p,!i&&"checked:border-primary checked:bg-primary dark:checked:border-primary-dark dark:checked:bg-primary-dark",i&&"checked:border-danger checked:bg-danger","relative flex flex-shrink-0 cursor-pointer appearance-none items-center overflow-hidden rounded-3xl border border-chip bg-chip p-0 outline-none transition-colors checked:border-primary checked:bg-primary","before:z-10 before:block before:translate-x-2 before:rounded-3xl before:border before:bg-white before:transition-transform","checked:before:border-white","focus-visible:ring",e.disabled&&"cursor-not-allowed opacity-80")}),s&&n.jsx("span",{className:j(g.size.font,"ml-12",i&&"text-danger",e.disabled&&"text-disabled"),children:s}),d]}),a&&!l&&n.jsx("div",{id:h,className:g.description,children:a}),l&&n.jsx("div",{id:h,className:g.error,children:l})]})});function go(e){const{field:{onChange:t,onBlur:s,value:r=!1,ref:a},fieldState:{invalid:o,error:i}}=bt({name:e.name}),c={onChange:l=>{l.target.value&&l.target.value!=="on"?t(l.target.checked?l.target.value:!1):t(l)},onBlur:s,checked:!!r,invalid:o,errorMessage:i==null?void 0:i.message,name:e.name};return n.jsx(Ws,{ref:a,...me(e,c)})}function pa(e){switch(e){case"xl":return"w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36";case"lg":return"w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30";case"md":return"w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24";case"xs":return"w-30 h-18 before:w-12 before:h-12 checked:before:translate-x-14";default:return"w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20"}}const Us=[{key:0,label:O("Preceding period"),getRangeValue:e=>{const t=e.start,a=(e.end.toDate().getTime()-t.toDate().getTime())/(1e3*60);return{preset:0,start:t.subtract({minutes:a}),end:t}}},{key:1,label:O("Same period last year"),getRangeValue:e=>({start:e.start.subtract({years:1}),end:e.end.subtract({years:1}),preset:1})},{key:2,label:O("Custom"),getRangeValue:e=>({start:e.start.subtract({weeks:1}),end:e.end.subtract({weeks:1}),preset:2})}];function xa({originalRangeValue:e,onPresetSelected:t,selectedValue:s}){return n.jsx(Ms,{children:Us.map(r=>n.jsx(Vs,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(s==null?void 0:s.preset)===r.key,onSelected:()=>{const a=r.getRangeValue(e);t(a)},children:n.jsx($,{...r.label})},r.key))})}function qs({state:e,compareState:t,showInlineDatePickerField:s=!1,compareVisibleDefault:r=!1}){const a=ha(),{close:o}=Wn(),i=u.useRef(e),c=e.isPlaceholder.start||e.isPlaceholder.end,[l,d]=u.useState(r),f=n.jsxs(Ar,{dividerTop:!0,startAction:!c&&!a?n.jsx("div",{className:"text-xs",children:n.jsx(Hs,{start:e.selectedValue.start.toDate(),end:e.selectedValue.end.toDate(),options:{dateStyle:"medium"}})}):void 0,children:[n.jsx(Ge,{variant:"text",size:"xs",onClick:()=>{e.setSelectedValue(i.current.selectedValue),e.setIsPlaceholder(i.current.isPlaceholder),o()},children:n.jsx($,{message:"Cancel"})}),n.jsx(Ge,{variant:"flat",color:"primary",size:"xs",onClick:()=>{const m=e.selectedValue;t&&l&&(m.compareStart=t.selectedValue.start,m.compareEnd=t.selectedValue.end),o(m)},children:n.jsx($,{message:"Select"})})]});return n.jsxs(vs,{size:"auto",children:[n.jsxs(ws,{className:"flex",padding:"p-0",children:[!a&&n.jsxs("div",{className:"min-w-192 py-14",children:[n.jsx(ma,{selectedValue:e.selectedValue,onPresetSelected:m=>{e.setSelectedValue(m),e.closeDialogOnSelection&&o(m)}}),!!t&&n.jsxs(u.Fragment,{children:[n.jsx(Ws,{className:"mx-20 mb-10 mt-14",checked:l,onChange:m=>d(m.target.checked),children:n.jsx($,{message:"Compare"})}),l&&n.jsx(xa,{originalRangeValue:e.selectedValue,selectedValue:t.selectedValue,onPresetSelected:m=>{t.setSelectedValue(m)}})]})]}),n.jsx(Ve,{initial:!1,children:n.jsx(ga,{state:e,compareState:t,showInlineDatePickerField:s,compareVisible:l})})]}),!e.closeDialogOnSelection&&f]})}function ga({state:e,compareState:t,showInlineDatePickerField:s,compareVisible:r}){return n.jsxs(ue.div,{initial:{width:0,overflow:"hidden"},animate:{width:"auto"},exit:{width:0,overflow:"hidden"},transition:{type:"tween",duration:.125},className:"border-l px-20 pb-20 pt-10",children:[s&&n.jsxs("div",{children:[n.jsx(ss,{state:e}),!!t&&r&&n.jsx(ss,{state:t,label:n.jsx($,{message:"Compare"})})]}),n.jsx("div",{className:"flex items-start gap-36",children:n.jsx(fa,{state:e,visibleMonths:2})})]})}function ss({state:e,label:t}){const{selectedValue:s,setSelectedValue:r}=e;return n.jsxs(Bs,{className:"mb-20 mt-10",label:t,children:[n.jsx(Ze,{state:e,value:s.start,onChange:a=>{r({...s,start:a})}}),n.jsx(Ks,{className:"block flex-shrink-0 text-muted",size:"md"}),n.jsx(Ze,{state:e,value:s.end,onChange:a=>{r({...s,end:a})}})]})}function bo(e){var p,g;const{granularity:t,closeDialogOnSelection:s,...r}=e,a=ht(e),o=u.useRef(null),c=xe()&&t!=="day",l=n.jsx(zt,{offset:8,placement:"bottom-start",isOpen:a.calendarIsOpen,onOpenChange:a.setCalendarIsOpen,type:"popover",triggerRef:o,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:n.jsx(qs,{state:a})}),d={onClick:h=>{h.stopPropagation(),h.preventDefault(),ba(h)?a.setCalendarIsOpen(!1):a.setCalendarIsOpen(!0)}},f=a.selectedValue,m=a.setSelectedValue;return n.jsxs(u.Fragment,{children:[n.jsxs(Bs,{ref:o,wrapperProps:d,endAdornment:c?void 0:n.jsx(_s,{}),...r,children:[n.jsx(Ze,{isPlaceholder:(p=a.isPlaceholder)==null?void 0:p.start,state:a,segmentProps:d,value:f.start,onChange:h=>{m({start:h,end:f.end})}}),n.jsx(Ks,{className:"block flex-shrink-0 text-muted",size:"md"}),n.jsx(Ze,{isPlaceholder:(g=a.isPlaceholder)==null?void 0:g.end,state:a,segmentProps:d,value:f.end,onChange:h=>{m({start:f.start,end:h})}})]}),l]})}function ba(e){return["hour","minute","dayPeriod"].includes(e.currentTarget.ariaLabel||"")}const je=u.memo(({value:e,...t})=>{const s=Cs(t);return isNaN(e)&&(e=0),n.jsx(u.Fragment,{children:s.format(e)})},fe),ya=F(n.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"RefreshOutlined"),va=F(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackOutlined");function ns(e){try{return xn(`rgb(${e.split(" ").join(",")})`).toString("hex")}catch{return e}}const He=u.memo(({bytes:e})=>n.jsx(u.Fragment,{children:Wr(e)})),rs=F(n.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"}),"DownloadOutlined"),wa=F(n.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"}),"CloudUploadOutlined"),ja=F(n.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"SecurityOutlined"),Ca=F(n.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined"),ka=F([n.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z"},"0"),n.jsx("path",{d:"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"},"1")],"SpeedOutlined"),Gs=F(n.jsx("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6h-6z"}),"TrendingDownOutlined"),Na=F(n.jsx("path",{d:"m22 12-4-4v3H3v2h15v3l4-4z"}),"TrendingFlatOutlined"),Zs=F(n.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"}),"TrendingUpOutlined");function le({children:e,className:t,...s}){return n.jsx("div",{className:j("rounded-panel border bg-paper p-0 shadow-sm",t),...s,children:e})}function ce({children:e,className:t,...s}){return n.jsx("div",{className:j("p-4 pt-0",t),...s,children:e})}function Qs(e){const{title:t,description:s,children:r,className:a,contentIsFlex:o=!0,contentClassName:i,contentRef:c}=e;return n.jsxs("div",{className:j("flex h-full flex-auto flex-col rounded-panel border bg p-10 dark:bg-alt",a),children:[n.jsxs("div",{className:"flex flex-shrink-0 items-center justify-between pb-10 text-xs",children:[n.jsx("div",{className:"text-sm font-semibold",children:t}),s&&n.jsx("div",{className:"text-muted",children:s})]}),n.jsx("div",{ref:c,className:j("relative",o&&"flex flex-auto items-center justify-center",i),children:r})]})}function pt(){return n.jsxs("div",{className:"absolute mx-auto flex items-center gap-10 text-sm",children:[n.jsx(ks,{isIndeterminate:!0,size:"sm"}),n.jsx($,{message:"Chart loading"})]})}const Da=u.lazy(()=>tr(()=>import("./lazy-chart-84d6651f.js"),["assets/lazy-chart-84d6651f.js","assets/vendor-react-fefbac25.js","assets/vendor-e6c98b2f.js","assets/vendor-utils-f24f35c9.js","assets/vendor-editor-a92125c6.js","assets/vendor-react-34ffaf07.css"]));function et(e){const{title:t,description:s,className:r,rowSpan:a="row-span-11",colSpan:o="col-span-6",contentRef:i,isLoading:c}=e;return n.jsx(Qs,{title:t,description:s,className:j(r,a,o),contentRef:i,children:n.jsxs(u.Suspense,{fallback:n.jsx(pt,{}),children:[n.jsx(Da,{...e}),c&&n.jsx(pt,{})]})})}function Rt(e,{localeCode:t="en",shareFirstDatasetLabels:s=!0}){if(!e)return{datasets:[]};const r=[];return{...e,datasets:e.datasets.map((a,o)=>{const i=a.data.map((c,l)=>{let d;return o===0||!s?(d=$a(c,e.granularity,t),r[l]=d):d=r[l],{...d,value:c.value}});return{...a,data:i}})}}function $a(e,t,s){return e.label?{label:e.label}:e.date?Ta(e,t,s):{label:""}}function Ta({date:e,endDate:t},s="day",r){const a=qe(e).toDate(),o=t?qe(t).toDate():null;switch(s){case"minute":return{label:Y(r,{second:"2-digit"}).format(a),tooltipTitle:Y(r,{day:"2-digit",hour:"numeric",minute:"numeric",second:"2-digit"}).format(a)};case"hour":return{label:Y(r,{hour:"numeric",minute:"numeric"}).format(a),tooltipTitle:Y(r,{month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}).format(a)};case"day":return{label:Y(r,{day:"2-digit",weekday:"short"}).format(a),tooltipTitle:Y(r,{day:"2-digit",weekday:"short",month:"short"}).format(a)};case"week":return{label:Y(r,{month:"short",day:"2-digit"}).format(a),tooltipTitle:Y(r,{day:"2-digit",month:"long",year:"numeric"}).formatRange(a,o)};case"month":return{label:Y(r,{month:"short",year:"numeric"}).format(a),tooltipTitle:Y(r,{month:"long",year:"numeric"}).format(a)};case"year":return{label:Y(r,{year:"numeric"}).format(a),tooltipTitle:Y(r,{year:"numeric"}).format(a)}}}const Y=Pe((e,t)=>new fs(e,t),{equals:(e,t)=>fe(e,t),callTimeout:void 0}),as=ke().themes[0].values["--be-primary"],de=[[`rgb(${as.replaceAll(" ",",")})`,`rgba(${as.replaceAll(" ",",")},0.2)`],["rgb(255,112,67)","rgb(255,112,67,0.2)"],["rgb(255,167,38)","rgb(255,167,38,0.2)"],["rgb(141,110,99)","rgb(141,110,99,0.2)"],["rgb(102,187,106)","rgba(102,187,106,0.2)"],["rgb(92,107,192)","rgb(92,107,192,0.2)"]],Pa={parsing:{xAxisKey:"label",yAxisKey:"value"},datasets:{line:{fill:"origin",tension:.1,pointBorderWidth:4,pointHitRadius:10}},plugins:{tooltip:{intersect:!1,mode:"index"}}};function xt({data:e,...t}){const{localeCode:s}=G(),r=u.useMemo(()=>{const a=Rt(e,{localeCode:s});return a.datasets=a.datasets.map((o,i)=>({...o,backgroundColor:de[i][1],borderColor:de[i][0],pointBackgroundColor:de[i][0]})),a},[e,s]);return n.jsx(et,{...t,data:r,type:"line",options:Pa})}function Ys({data:e,direction:t="vertical",individualBarColors:s=!1,className:r,...a}){const{localeCode:o}=G(),i=u.useMemo(()=>{const d=Rt(e,{localeCode:o});return d.datasets=d.datasets.map((f,m)=>({...f,backgroundColor:s?de.map(p=>p[1]):de[m][1],borderColor:s?de.map(p=>p[0]):de[m][0],borderWidth:2})),d},[e,o,s]),c=t==="horizontal",l=u.useMemo(()=>({indexAxis:c?"y":"x",parsing:{xAxisKey:c?"value":"label",yAxisKey:c?"label":"value"}}),[c]);return n.jsx(et,{type:"bar",className:r,data:i,options:l,...a})}function Sa({data:e,className:t,hideLegend:s=!1,...r}){var i,c,l,d;const a={labels:(e==null?void 0:e.labels)||[],datasets:[{data:((c=(i=e==null?void 0:e.datasets)==null?void 0:i[0])==null?void 0:c.data)||[],backgroundColor:((d=(l=e==null?void 0:e.datasets)==null?void 0:l[0])==null?void 0:d.backgroundColor)||["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16"],borderWidth:1,borderColor:"#ffffff"}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!s,position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(f){const m=f.label||"",p=f.parsed||0,g=f.dataset.data.reduce((x,v)=>x+v,0),h=(p/g*100).toFixed(1);return`${m}: ${p} (${h}%)`}}}},...r.options};return n.jsx(et,{type:"pie",data:a,options:o,className:t,...r})}function he({children:e,className:t,...s}){return n.jsx("div",{className:j("p-4 pb-2",t),...s,children:e})}function pe({children:e,className:t,...s}){return n.jsx("h3",{className:j("text-lg font-semibold leading-none tracking-tight",t),...s,children:e})}function yo(){const[e,t]=u.useState("last_30_days"),[s,r]=u.useState(0),{data:a,isLoading:o}=cs({queryKey:["transfer-analytics",e,s],queryFn:()=>ze.get(`admin/analytics/transfers?range=${e}`).then(f=>f.data),staleTime:5*60*1e3}),i=()=>{r(f=>f+1)},c=()=>{window.open(`/api/v1/admin/analytics/transfers/export?range=${e}`,"_blank")};if(o)return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const l=(a==null?void 0:a.stats)||{},d=(a==null?void 0:a.charts)||{};return n.jsx(u.Fragment,{children:n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:n.jsx($,{message:"Transfer Analytics"})}),n.jsx("p",{className:"text-muted mt-1",children:n.jsx($,{message:"Comprehensive insights into your transfer service performance"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Os,{value:e,onSelectionChange:t,className:"min-w-150",children:[n.jsx(Le,{value:"last_7_days",children:n.jsx($,{message:"Last 7 days"})}),n.jsx(Le,{value:"last_30_days",children:n.jsx($,{message:"Last 30 days"})}),n.jsx(Le,{value:"last_90_days",children:n.jsx($,{message:"Last 90 days"})}),n.jsx(Le,{value:"last_year",children:n.jsx($,{message:"Last year"})})]}),n.jsx(qt,{label:n.jsx($,{message:"Export data"}),children:n.jsx(Ne,{onClick:c,children:n.jsx(rs,{})})}),n.jsx(qt,{label:n.jsx($,{message:"Refresh data"}),children:n.jsx(Ne,{onClick:i,children:n.jsx(ya,{})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Be,{title:n.jsx($,{message:"Total Transfers"}),value:n.jsx(je,{value:l.total_transfers||0}),change:l.transfers_change,icon:n.jsx(wa,{className:"text-primary"}),trend:l.transfers_trend}),n.jsx(Be,{title:n.jsx($,{message:"Total Data Transferred"}),value:n.jsx(He,{bytes:l.total_bytes||0}),change:l.bytes_change,icon:n.jsx(Qr,{className:"text-success"}),trend:l.bytes_trend}),n.jsx(Be,{title:n.jsx($,{message:"Active Users"}),value:n.jsx(je,{value:l.active_users||0}),change:l.users_change,icon:n.jsx(Vn,{className:"text-info"}),trend:l.users_trend}),n.jsx(Be,{title:n.jsx($,{message:"Total Downloads"}),value:n.jsx(je,{value:l.total_downloads||0}),change:l.downloads_change,icon:n.jsx(rs,{className:"text-warning"}),trend:l.downloads_trend})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[n.jsxs(le,{children:[n.jsx(he,{children:n.jsxs(pe,{className:"flex items-center gap-2",children:[n.jsx(ka,{className:"text-primary"}),n.jsx($,{message:"Average Transfer Speed"})]})}),n.jsxs(ce,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[n.jsx(He,{bytes:l.avg_transfer_speed||0}),n.jsx("span",{className:"text-sm text-muted",children:"/s"})]}),n.jsx("div",{className:"text-sm text-muted mt-1",children:n.jsx($,{message:"Based on completed transfers"})})]})]}),n.jsxs(le,{children:[n.jsx(he,{children:n.jsxs(pe,{className:"flex items-center gap-2",children:[n.jsx(ja,{className:"text-success"}),n.jsx($,{message:"Success Rate"})]})}),n.jsxs(ce,{children:[n.jsxs("div",{className:"text-2xl font-bold text-success",children:[(l.successful_transfers/l.total_transfers*100||0).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-muted mt-1",children:n.jsx($,{message:"Successful transfers"})})]})]}),n.jsxs(le,{children:[n.jsx(he,{children:n.jsxs(pe,{className:"flex items-center gap-2",children:[n.jsx(Ca,{className:"text-info"}),n.jsx($,{message:"Avg. Downloads per Transfer"})]})}),n.jsxs(ce,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(l.total_downloads/l.total_transfers||0).toFixed(1)}),n.jsx("div",{className:"text-sm text-muted mt-1",children:n.jsx($,{message:"Downloads per transfer"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(le,{children:[n.jsx(he,{children:n.jsx(pe,{children:n.jsx($,{message:"Transfer Volume Over Time"})})}),n.jsx(ce,{children:n.jsx(xt,{data:d.transfer_volume||[],className:"h-80",hideLegend:!1})})]}),n.jsxs(le,{children:[n.jsx(he,{children:n.jsx(pe,{children:n.jsx($,{message:"File Size Distribution"})})}),n.jsx(ce,{children:n.jsx(Sa,{data:d.file_size_distribution||[],className:"h-80"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(le,{children:[n.jsx(he,{children:n.jsx(pe,{children:n.jsx($,{message:"Most Popular File Types"})})}),n.jsx(ce,{children:n.jsx(Ys,{data:d.file_types||[],className:"h-80",layout:"horizontal"})})]}),n.jsxs(le,{children:[n.jsx(he,{children:n.jsx(pe,{children:n.jsx($,{message:"User Activity Patterns"})})}),n.jsx(ce,{children:n.jsx(xt,{data:d.user_activity||[],className:"h-80",hideLegend:!1})})]})]}),n.jsxs(le,{children:[n.jsx(he,{children:n.jsx(pe,{children:n.jsx($,{message:"System Health & Performance"})})}),n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-success mb-2",children:[l.system_uptime||"99.9","%"]}),n.jsx("div",{className:"text-sm text-muted",children:n.jsx($,{message:"System Uptime"})})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-info mb-2",children:n.jsx(He,{bytes:l.storage_used||0})}),n.jsx("div",{className:"text-sm text-muted",children:n.jsx($,{message:"Storage Used"})})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-warning mb-2",children:[l.avg_response_time||0,"ms"]}),n.jsx("div",{className:"text-sm text-muted",children:n.jsx($,{message:"Avg Response Time"})})]})]})})]})]})})}function Be({title:e,value:t,change:s,icon:r,trend:a}){const o=s>0,i=s<0;return n.jsx(le,{children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted",children:e}),n.jsx("div",{className:"text-2xl font-bold mt-2",children:t}),s!==void 0&&n.jsxs("div",{className:`flex items-center gap-1 text-sm mt-2 ${o?"text-success":i?"text-danger":"text-muted"}`,children:[o&&n.jsx(Zs,{className:"w-4 h-4"}),i&&n.jsx(Gs,{className:"w-4 h-4"}),n.jsxs("span",{children:[Math.abs(s),"% from last period"]})]})]}),n.jsx("div",{className:"text-3xl opacity-80",children:r})]})})})}const Xs="admin/reports";function za(e={}){return cs({queryKey:[Xs,e],queryFn:()=>Ia(e),placeholderData:Sn})}function Ia({types:e,dateRange:t}){const s={};return e&&(s.types=e.join(",")),t&&(s.startDate=t.start.toAbsoluteString(),s.endDate=t.end.toAbsoluteString(),s.timezone=t.start.timeZone),ze.get(Xs,{params:s}).then(r=>r.data)}const Ra=u.memo(({minutes:e,seconds:t,ms:s,startDate:r,endDate:a,verbose:o=!1,addZeroToFirstUnit:i=!0,isLive:c,maxIsLiveMs:l,minDuration:d=0,liveInterval:f=5e3})=>{const{trans:m}=Oe(),p=u.useMemo(()=>{if(r||a){const C=r?qe(r):ft(),P=(a?qe(a):ft()).toDate().getTime()-C.toDate().getTime();return P>d?P:d}return e?e*6e4:t?t*1e3:s||d},[e,t,s,r,a,d]),[g,h]=u.useState(p);u.useEffect(()=>{h(p)},[p]);const x=u.useRef(g);x.current=g,u.useEffect(()=>{const C=l&&x.current>l;if(c&&!C){const D=setInterval(()=>{h(P=>P+f)},f);return()=>clearInterval(D)}},[c,f,l,p]);const v=g<0?-g:g,w={days:Math.trunc(v/864e5),hours:Math.trunc(v/36e5)%24,minutes:Math.trunc(v/6e4)%60,seconds:Math.trunc(v/1e3)%60};let y;return o?y=Ea(w,m):y=Aa(w,i),n.jsx(u.Fragment,{children:y})});function Ea(e,t){const s=[];return e.days&&s.push(`${e.days}${t(O("d"))}`),e.hours&&s.push(`${e.hours}${t(O("hr"))}`),e.minutes&&s.push(`${e.minutes}${t(O("min"))}`),e.seconds&&!e.hours&&s.push(`${e.seconds}${t(O("sec"))}`),s.join(" ")}function Aa(e,t=!0){const s=we(e.seconds);let r="";return e.days&&!r&&(r=`${e.days}:${we(e.hours)}:${we(e.minutes)}:${s}`),e.hours&&!r&&(r=`${we(e.hours,t)}:${we(e.minutes)}:${s}`),r||(r=`${we(e.minutes,t)}:${s}`),r}function we(e,t=!0){if(!t)return e;let s=`${e}`;return s.length===1&&(s="0"+s),s}function Ma({report:e,isLoading:t}){return e?n.jsx(u.Fragment,{children:e==null?void 0:e.map(s=>n.jsx(Va,{icon:s.icon,type:s.type,currentValue:s.currentValue,previousValue:s.previousValue,percentageChange:s.percentageChange,isLoading:t,children:n.jsx($,{message:s.name})},s.name))}):n.jsx("div",{className:"col-span-12 row-span-3 mt-3 mb-3"})}function Va({icon:e,children:t,type:s,currentValue:r,previousValue:a,percentageChange:o,isLoading:i=!1,colSpan:c="col-span-3",rowSpan:l="row-span-3"}){let d;if(e)if(u.isValidElement(e))d=u.cloneElement(e,{size:"sm"});else{const f=An(e);d=n.jsx(f,{size:"sm"})}return n.jsxs("div",{className:j("compact-scrollbar flex flex-wrap flex-col p-2 justify-left items-left overflow-x-auto  mb-4 overflow-y-hidden whitespace-nowrap rounded-panel border",c,l),children:[n.jsxs("div",{className:"flex items-center gap-6",children:[d,n.jsx("h2",{className:"text-sm font-semibold",children:t})]}),n.jsxs("div",{className:"flex gap-10",children:[n.jsx("div",{className:"text-4xl font-medium text-main",children:n.jsx(Ve,{initial:!1,mode:"wait",children:i?n.jsx(ue.div,{...ut,children:n.jsx(Gr,{className:"min-w-40"})},"skeleton"):n.jsx(ue.div,{...ut,children:n.jsx(Oa,{type:s,value:r})},"value")})}),r!=null&&(o!=null||a!=null)&&n.jsx("div",{className:"flex items-center gap-10",children:n.jsx(Fa,{currentValue:r,previousValue:a,percentageChange:o})})]})]})}function Oa({type:e,value:t}){if(t==null)return"";switch(e){case"fileSize":return n.jsx(He,{bytes:t});case"percentage":return n.jsx(je,{value:t,style:"percent",maximumFractionDigits:1});case"durationInSeconds":return n.jsx(Ra,{seconds:t,verbose:!0});default:return n.jsx(je,{value:t})}}function Fa(e){const t=La(e);let s;return t>0?s=n.jsx(Zs,{size:"md",className:"text-positive"}):t===0?s=n.jsx(Na,{className:"text-muted"}):s=n.jsx(Gs,{className:"text-danger"}),n.jsxs(u.Fragment,{children:[s,n.jsxs("div",{className:"text-sm font-semibold text-muted",children:[t,"%"]})]})}function La({percentageChange:e,previousValue:t,currentValue:s}){return e!=null||t==null||s==null?e??0:t===0?100:Math.round((s-t)/t*100)}const _a={parsing:{key:"value"},plugins:{tooltip:{intersect:!0}}};function Ba({data:e,className:t,...s}){const{localeCode:r}=G(),a=u.useMemo(()=>{var i;const o=Rt(e,{localeCode:r});return o.labels=(i=o.datasets[0])==null?void 0:i.data.map(c=>c.label),o.datasets=o.datasets.map((c,l)=>({...c,backgroundColor:de.map(d=>d[1]),borderColor:de.map(d=>d[0]),borderWidth:2})),o},[e,r]);return n.jsx(et,{type:"polarArea",data:a,options:_a,className:t,...s})}const os="https://www.gstatic.com/charts/loader.js";function Ka({placeholderRef:e,data:t,country:s,onCountrySelected:r}){const{trans:a}=Oe(),{analytics:o}=Xe(),i=o==null?void 0:o.gchart_api_key,{selectedTheme:c}=rr(),l=u.useRef(),d=!!r&&!s,f=u.useCallback(()=>{var v,w;if(typeof google>"u")return;const p=t.map(y=>[y.label,y.value]);p.unshift([a(O(s?"City":"Country")),a(O("Clicks"))]);const g=`${ns(c.values["--be-paper"])}`,x={colorAxis:{colors:[`${ns(c.values["--be-primary"])}`]},backgroundColor:g,region:s?s.toUpperCase():void 0,resolution:s?"provinces":"countries",displayMode:s?"markers":"regions",enableRegionInteractivity:d};!l.current&&e.current&&((v=google==null?void 0:google.visualization)!=null&&v.GeoChart)&&(l.current=new google.visualization.GeoChart(e.current)),(w=l.current)==null||w.draw(google.visualization.arrayToDataTable(p),x)},[c,t,e,a,s,d]),m=u.useCallback(async()=>{Zt.isLoadingOrLoaded(os)||(await Zt.loadAsset(os,{type:"js",id:"google-charts-js"}),await google.charts.load("current",{packages:["geochart"],mapsApiKey:i}),f())},[i,f]);return u.useEffect(()=>(l.current&&r&&google.visualization.events.addListener(l.current,"regionClick",p=>r==null?void 0:r(p.region)),()=>{l.current&&google.visualization.events.removeAllListeners(l.current)}),[r,l.current]),u.useEffect(()=>{m()},[m]),u.useEffect(()=>{f()},[c,f,t]),{drawGoogleChart:f}}const Ha=F(n.jsx("path",{d:"M9 8a1 1 0 0 0-1-1H5.5a1 1 0 1 0 0 2H7v4a1 1 0 0 0 2 0zM4 0h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm4 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}),"InfoDialogTrigger");function Wa({title:e,body:t,dialogSize:s="sm",className:r}){return n.jsxs(zt,{type:"popover",triggerOnHover:!0,children:[n.jsx(Ne,{className:j("ml-4 text-muted opacity-70",r),iconSize:"xs",size:"2xs",children:n.jsx(Ha,{viewBox:"0 0 16 16"})}),n.jsxs(vs,{size:s,children:[e&&n.jsx(Qn,{padding:"px-18 pt-12",size:"md",hideDismissButton:!0,children:e}),n.jsx(ws,{children:t})]})]})}const Ua=u.memo(({code:e})=>{const{localeCode:t}=G(),s=new Intl.DisplayNames([t],{type:"region"});let r;try{r=s.of(e.toUpperCase())}catch{}return n.jsx(u.Fragment,{children:r})});function qa({data:e,isLoading:t,onCountrySelected:s,country:r,className:a,colSpan:o="col-span-7",rowSpan:i="row-span-11",...c}){const l=u.useRef(null),d=!!s,f=e==null?void 0:e.datasets[0].data,m=u.useMemo(()=>f||[],[f]);return Ka({placeholderRef:l,data:m,country:r,onCountrySelected:s}),n.jsxs(Qs,{...c,className:j(a,o,i,"compact-scrollbar overflow-x-auto overflow-y-hidden"),title:n.jsxs("div",{className:"flex items-center",children:[n.jsx($,{message:"Top Locations"}),r?n.jsxs("span",{className:"pl-4",children:["(",n.jsx(Ua,{code:r}),")"]}):null,d&&n.jsx(Ga,{})]}),contentIsFlex:t,children:[t&&n.jsx(pt,{}),n.jsxs("div",{className:"flex gap-24",children:[n.jsx("div",{ref:l,className:"min-h-[340px] w-[480px] flex-auto"}),n.jsxs("div",{className:"w-[170px]",children:[n.jsx("div",{className:"max-h-[340px] w-full flex-initial overflow-y-auto text-sm",children:m.map(p=>n.jsxs("div",{className:j("mb-4 flex items-center gap-4",d&&"cursor-pointer hover:underline"),role:d?"button":void 0,onClick:()=>{s==null||s(p.code)},children:[n.jsx("div",{className:"max-w-110 overflow-hidden overflow-ellipsis whitespace-nowrap",children:p.label}),n.jsxs("div",{children:["(",p.percentage,")%"]})]},p.label))}),r&&n.jsx(Ge,{variant:"outline",size:"xs",className:"mt-14",startIcon:n.jsx(va,{}),onClick:()=>{s==null||s(void 0)},children:n.jsx($,{message:"Back to countries"})})]})]})]})}function Ga(){return n.jsx(Wa,{title:n.jsx($,{message:"Zooming in"}),body:n.jsx($,{message:"Click on a country inside the map or country list to zoom in and see city data for that country."})})}function Za({report:e,isLoading:t}){const s=e==null?void 0:e.pageViews.total;return n.jsxs(u.Fragment,{children:[n.jsx(xt,{colSpan:"col-span-8",isLoading:t,data:e==null?void 0:e.pageViews,title:n.jsx($,{message:"Pageviews"}),description:s?n.jsx($,{message:":count total views",values:{count:n.jsx(je,{value:s})}}):null}),n.jsx(Ba,{colSpan:"col-span-4",isLoading:t,data:e==null?void 0:e.devices,title:n.jsx($,{message:"Top devices"})}),n.jsx(qa,{colSpan:"col-span-7",isLoading:t,data:e==null?void 0:e.locations,title:n.jsx($,{message:"Top locations"})}),n.jsx(Ys,{colSpan:"col-span-5",isLoading:t,data:e==null?void 0:e.browsers,direction:"horizontal",individualBarColors:!0,hideLegend:!0,title:n.jsx($,{message:"Top browsers"})})]})}const Qa={month:"short",day:"2-digit"};function Ya({value:e,onChange:t,disabled:s,compactOnMobile:r=!0,enableCompare:a=!1,granularity:o="minute"}){const i=xe();return n.jsxs(zt,{type:"popover",onClose:c=>{c&&t(c)},children:[n.jsx(Ge,{variant:"outline",color:"chip",endIcon:n.jsx(_s,{}),disabled:s,children:n.jsx(Hs,{start:e.start,end:e.end,options:i&&r?Qa:It.short})}),n.jsx(Xa,{value:e,enableCompare:a,granularity:o})]})}function Xa({value:e,enableCompare:t,granularity:s}){const r=xe(),a=ht({granularity:s,defaultValue:{start:e.start,end:e.end,preset:e.preset},closeDialogOnSelection:!1}),o=!!e.compareStart&&!!e.compareEnd,i=ht({granularity:s,defaultValue:o?{start:e.compareStart,end:e.compareEnd,preset:e.comparePreset}:Us[0].getRangeValue(a.selectedValue)});return n.jsx(qs,{state:a,compareState:t?i:void 0,compareVisibleDefault:o,showInlineDatePickerField:!r})}function Ja(){const[e,t]=u.useState(()=>Ls[2].getRangeValue()),{isLoading:s,data:r}=za({dateRange:e}),a=n.jsx($,{message:"Visitors report"});return n.jsxs("div",{className:"min-h-full gap-6 overflow-x-hidden p-4 mt-[12px] md:mt-0 md:gap-18 md:p-18",children:[n.jsxs("div",{className:"mb-2 md:mb-6 flex items-center justify-between gap-2  md:gap-24 ",children:[n.jsx(Hr,{children:a}),n.jsxs("h1",{className:"md:mb-24 text-lg md:text-3xl font-light md:mb-0",children:[a," "]}),n.jsx(Ya,{value:e,onChange:t})]}),n.jsxs("div",{className:"chart-grid mt-3",children:[n.jsx(Ma,{report:r==null?void 0:r.headerReport}),n.jsx(Za,{report:r==null?void 0:r.visitorsReport,isLoading:s})]})]})}const vo=Object.freeze(Object.defineProperty({__proto__:null,Component:Ja},Symbol.toStringTag,{value:"Module"}));export{St as $,Ke as A,bs as B,Dt as C,vs as D,se as E,Tt as F,ia as G,Oe as H,Ne as I,uo as J,sr as K,Nt as L,Ms as M,Vs as N,Le as O,ks as P,zt as Q,An as R,Hr as S,qt as T,Zn as U,Er as V,go as W,fo as X,zr as Y,ns as Z,tr as _,Ge as a,Ss as a0,Os as a1,Cr as a2,ut as a3,Gr as a4,G as a5,Qe as a6,fe as a7,ao as a8,Ur as a9,Ks as aA,wa as aB,Vn as aC,ya as aD,ja as aE,Ca as aF,ka as aG,Qr as aH,Gs as aI,Na as aJ,Zs as aK,ho as aL,It as aM,le as aN,he as aO,pe as aP,ce as aQ,ro as aR,nr as aS,zn as aT,De as aU,mo as aV,Ds as aW,Ir as aX,Mn as aY,vo as aZ,po as aa,dr as ab,xo as ac,Fr as ad,rt as ae,yo as af,bo as ag,Ls as ah,Hs as ai,je as aj,xs as ak,xe as al,Ns as am,Jr as an,ta as ao,$e as ap,be as aq,Bs as ar,_s as as,Ze as at,fa as au,gr as av,Ws as aw,va as ax,He as ay,rs as az,$ as b,F as c,Qn as d,ws as e,rr as f,oo as g,ze as h,co as i,ke as j,Xe as k,Zt as l,O as m,Cs as n,Je as o,Wr as p,or as q,Is as r,io as s,lo as t,Se as u,Wn as v,Ar as w,Pt as x,Yr as y,Ct as z};
//# sourceMappingURL=admin-analytics-cad99b47.js.map
