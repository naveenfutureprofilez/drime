{"version":3,"file":"transfer-files-page-18b737cf.js","sources":["../../../common/foundation/resources/client/datatable/requests/paginated-resources.jsx","../../../common/foundation/resources/client/datatable/page/data-table-context.jsx","../../../common/foundation/resources/client/datatable/data-table-pagination-footer.jsx","../../../common/foundation/resources/client/ui/library/icons/material/FilterAlt.jsx","../../../common/foundation/resources/client/ui/library/accordion/accordtion-animation.jsx","../../../common/foundation/resources/client/ui/library/accordion/accordion.jsx","../../../common/foundation/resources/client/datatable/filters/panels/boolean-filter-panel.jsx","../../../common/foundation/resources/client/datatable/filters/add-filter-dialog.jsx","../../../common/foundation/resources/client/datatable/filters/add-filter-button.jsx","../../../common/foundation/resources/client/datatable/data-table-header.jsx","../../../common/foundation/resources/client/datatable/selected-state-datatable-header.jsx","../../../common/foundation/resources/client/datatable/filters/filter-list/filter-list-skeleton.jsx","../../../common/foundation/resources/client/datatable/data-table.jsx","../../../common/foundation/resources/client/datatable/page/data-table-page.jsx","../../../common/foundation/resources/client/datatable/page/data-table-emty-state-message.jsx","../../../resources/client/admin/transfer-files/requests/use-delete-transfer-files.jsx","../../../resources/client/admin/transfer-files/requests/use-bulk-delete-transfer-files.jsx","../../../resources/client/admin/transfer-files/requests/use-cleanup-transfer-files.jsx","../../../common/foundation/resources/client/ui/library/icons/material/DeleteSweep.jsx","../../../resources/client/admin/transfer-files/transfer-files-page.jsx"],"sourcesContent":["import { keepPreviousData, useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../../http/query-client';\nexport const DatatableDataQueryKey = (endpoint, params, baseQueryKey) => {\n  // split endpoint by slash, so we can clear cache from the root later,\n  // for example, 'link-group' will clear 'link-group/1/links' endpoint\n  const key = baseQueryKey ? [...baseQueryKey] : endpoint.split('/');\n  if (params) {\n    key.push(params);\n  }\n  return key;\n};\nexport function useDatatableData(endpoint, params, options, onLoad) {\n  if (!params.paginate) {\n    params.paginate = 'preferLengthAware';\n  }\n  // having queryKey in option will cause unnecessary re-fetching\n  const optionsQueryKey = options?.baseQueryKey;\n  delete options?.baseQueryKey;\n  return useQuery({\n    ...options,\n    queryKey: DatatableDataQueryKey(endpoint, params, optionsQueryKey),\n    queryFn: ({\n      signal\n    }) => paginate(endpoint, params, onLoad, signal),\n    placeholderData: keepPreviousData\n  });\n}\nasync function paginate(endpoint, params, onLoad, signal) {\n  if (params.query) {\n    await new Promise(resolve => setTimeout(resolve, 300));\n  }\n  const response = await apiClient.get(endpoint, {\n    params,\n    signal: params.query ? signal : undefined\n  }).then(response => response.data);\n  onLoad?.(response);\n  return response;\n}","import React, { useContext } from 'react';\nexport const DataTableContext = React.createContext(null);\nexport function useDataTable() {\n  return useContext(DataTableContext);\n}","import { hasNextPage } from '../http/backend-response/pagination-response';\nimport { useNumberFormatter } from '@ui/i18n/use-number-formatter';\nimport { Select } from '@ui/forms/select/select';\nimport { Trans } from '@ui/i18n/trans';\nimport { Item } from '@ui/forms/listbox/item';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { KeyboardArrowLeftIcon } from '@ui/icons/material/KeyboardArrowLeft';\nimport { KeyboardArrowRightIcon } from '@ui/icons/material/KeyboardArrowRight';\nimport React from 'react';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport clsx from 'clsx';\nconst defaultPerPage = 15;\nconst perPageOptions = [{\n  key: 10\n}, {\n  key: 15\n}, {\n  key: 20\n}, {\n  key: 50\n}, {\n  key: 100\n}];\nexport function DataTablePaginationFooter({\n  query,\n  onPerPageChange,\n  onPageChange,\n  className\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  const numberFormatter = useNumberFormatter();\n  const pagination = query.data?.pagination;\n  if (!pagination) return null;\n  const perPageSelect = onPerPageChange ? <Select minWidth=\"min-w-auto\" selectionMode=\"single\" disabled={query.isLoading} labelPosition=\"side\" size=\"xs\" label={<Trans message=\"Items per page\" />} selectedValue={pagination.per_page ? +pagination.per_page : defaultPerPage} onSelectionChange={value => onPerPageChange(value)}>\n      {perPageOptions.map(option => <Item key={option.key} value={option.key}>\n          {option.key}\n        </Item>)}\n    </Select> : null;\n  return <div className={clsx('flex h-54 select-none items-center justify-end gap-20 px-2', className)}>\n      {!isMobile && perPageSelect}\n      {pagination.from && pagination.to && 'total' in pagination ? <div className=\"text-sm\">\n          <Trans message=\":from - :to of :total\" values={{\n        from: pagination.from,\n        to: pagination.to,\n        total: numberFormatter.format(pagination.total)\n      }} />\n        </div> : null}\n      <div className=\"text-muted\">\n        <IconButton disabled={query.isFetching || pagination.current_page < 2} onClick={() => {\n        onPageChange?.(pagination?.current_page - 1);\n      }}>\n          <KeyboardArrowLeftIcon />\n        </IconButton>\n        <IconButton disabled={query.isFetching || !hasNextPage(pagination)} onClick={() => {\n        onPageChange?.(pagination?.current_page + 1);\n      }}>\n          <KeyboardArrowRightIcon />\n        </IconButton>\n      </div>\n    </div>;\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const FilterAltIcon = createSvgIcon(<path d=\"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z\" />, 'FilterAltOutlined');","export const AccordionAnimation = {\n  variants: {\n    open: {\n      height: 'auto',\n      visibility: 'visible',\n      transitionEnd: {\n        overflow: 'auto'\n      }\n    },\n    closed: {\n      height: 0,\n      overflow: 'hidden',\n      transitionEnd: {\n        visibility: 'hidden'\n      }\n    }\n  },\n  transition: {\n    type: 'tween',\n    duration: 0.2\n  }\n};","import React, { cloneElement, isValidElement, useId, useRef } from 'react';\nimport clsx from 'clsx';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { useControlledState } from '@react-stately/utils';\nimport { FocusScope, useFocusManager } from '@react-aria/focus';\nimport { AccordionAnimation } from '@ui/accordion/accordtion-animation';\nimport { ArrowDropDownIcon } from '@ui/icons/material/ArrowDropDown';\nexport const Accordion = React.forwardRef(({\n  variant = 'default',\n  mode = 'single',\n  children,\n  className,\n  isLazy,\n  ...other\n}, ref) => {\n  const [expandedValues, setExpandedValues] = useControlledState(other.expandedValues, other.defaultExpandedValues || [], other.onExpandedChange);\n  const itemsCount = React.Children.count(children);\n  return <div className={clsx(variant === 'outline' && 'space-y-10', className)} ref={ref} role=\"presentation\">\n        <AnimatePresence>\n          <FocusScope>\n            {React.Children.map(children, (child, index) => {\n          if (!isValidElement(child)) return null;\n          return cloneElement(child, {\n            key: child.key || index,\n            value: child.props.value || index,\n            isFirst: index === 0,\n            isLast: index === itemsCount - 1,\n            mode,\n            variant,\n            expandedValues,\n            setExpandedValues,\n            isLazy\n          });\n        })}\n          </FocusScope>\n        </AnimatePresence>\n      </div>;\n});\nexport function AccordionItem(props) {\n  const {\n    children,\n    label,\n    disabled,\n    bodyClassName,\n    bodyPadding = 'p-16',\n    labelClassName,\n    buttonPadding = 'py-10 pl-14 pr-10',\n    startIcon,\n    description,\n    endAppend,\n    chevronPosition = 'right',\n    isFirst,\n    mode,\n    isLazy,\n    variant,\n    footerContent,\n    onHeaderMouseEnter,\n    onHeaderMouseLeave\n  } = props;\n  const expandedValues = props.expandedValues || [];\n  const value = props.value || 0;\n  const setExpandedValues = props.setExpandedValues || (() => {});\n  const ref = useRef(null);\n  const isExpanded = !disabled && expandedValues.includes(value);\n  const wasExpandedOnce = useRef(false);\n  if (isExpanded) {\n    wasExpandedOnce.current = true;\n  }\n  const focusManager = useFocusManager();\n  const id = useId();\n  const buttonId = `${id}-button`;\n  const panelId = `${id}-panel`;\n  const onKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowDown':\n        focusManager?.focusNext();\n        break;\n      case 'ArrowUp':\n        focusManager?.focusPrevious();\n        break;\n      case 'Home':\n        focusManager?.focusFirst();\n        break;\n      case 'End':\n        focusManager?.focusLast();\n        break;\n    }\n  };\n  const toggle = () => {\n    const i = expandedValues.indexOf(value);\n    if (i > -1) {\n      const newKeys = [...expandedValues];\n      newKeys.splice(i, 1);\n      setExpandedValues(newKeys);\n    } else if (mode === 'single') {\n      setExpandedValues([value]);\n    } else {\n      setExpandedValues([...expandedValues, value]);\n    }\n  };\n  const chevron = <div className={clsx(variant === 'minimal' && '')}>\n      <ArrowDropDownIcon aria-hidden=\"true\" size=\"md\" className={clsx(disabled ? 'text-disabled' : 'text-muted', isExpanded && 'rotate-180 transition-transform')} />\n    </div>;\n  return <div className={clsx(variant === 'default' && 'border-b', variant === 'outline' && 'rounded-panel border', disabled && 'text-disabled')}>\n      <h3 className={clsx('flex w-full items-center justify-between text-sm', disabled && 'pointer-events-none', isFirst && variant === 'default' && 'border-t', isExpanded && variant !== 'minimal' ? 'border-b' : 'border-b border-b-transparent', variant === 'outline' ? isExpanded ? 'rounded-panel-t' : 'rounded-panel' : undefined)} onMouseEnter={onHeaderMouseEnter} onMouseLeave={onHeaderMouseLeave}>\n        <button disabled={disabled} aria-expanded={isExpanded} id={buttonId} aria-controls={panelId} type=\"button\" ref={ref} onKeyDown={onKeyDown} onClick={() => {\n        if (!disabled) {\n          toggle();\n        }\n      }} className={clsx('flex flex-auto items-center gap-10 text-left outline-none hover:bg-hover focus-visible:bg-primary/focus', buttonPadding)}>\n          {chevronPosition === 'left' && chevron}\n          {startIcon && cloneElement(startIcon, {\n          size: 'md',\n          className: clsx(startIcon.props.className, disabled ? 'text-disabled' : 'text-muted')\n        })}\n          <div className=\"flex-auto overflow-hidden overflow-ellipsis\">\n            <div className={labelClassName} data-testid=\"accordion-label\">\n              {label}\n            </div>\n            {description && <div className=\"text-xs text-muted\">{description}</div>}\n          </div>\n          {chevronPosition === 'right' && chevron}\n        </button>\n        {endAppend && <div className=\"flex-shrink-0 px-4 text-sm text-muted\">\n            {endAppend}\n          </div>}\n      </h3>\n      <m.div aria-labelledby={id} role=\"region\" variants={AccordionAnimation.variants} transition={AccordionAnimation.transition} initial={false} animate={isExpanded ? 'open' : 'closed'}>\n        <div className={clsx(bodyPadding, bodyClassName)}>\n          {!isLazy || wasExpandedOnce ? children : null}\n        </div>\n        {footerContent}\n      </m.div>\n    </div>;\n}","export function BooleanFilterPanel({\n  filter\n}) {\n  // Toggling accordion in the dialog will already apply boolean filter, no need for any extra fields here\n  return null;\n}","import { Dialog } from '@ui/overlays/dialog/dialog';\nimport { FilterControlType } from './backend-filter';\nimport { Trans } from '@ui/i18n/trans';\nimport { useState } from 'react';\nimport { DialogHeader } from '@ui/overlays/dialog/dialog-header';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { useBackendFilterUrlParams } from './backend-filter-url-params';\nimport { useDialogContext } from '@ui/overlays/dialog/dialog-context';\nimport { Accordion, AccordionItem } from '@ui/accordion/accordion';\nimport { Button } from '@ui/buttons/button';\nimport { useForm } from 'react-hook-form';\nimport { Form } from '@ui/forms/form';\nimport { Checkbox } from '@ui/forms/toggle/checkbox';\nimport { SelectFilterPanel } from './panels/select-filter-panel';\nimport { DateRangeFilterPanel } from './panels/date-range-filter-panel';\nimport { NormalizedModelFilterPanel } from './panels/normalized-model-filter-panel';\nimport { InputFilterPanel } from './panels/input-filter-panel';\nimport { BooleanFilterPanel } from './panels/boolean-filter-panel';\nimport clsx from 'clsx';\nimport { ChipFieldFilterPanel } from '@common/datatable/filters/panels/chip-field-filter-panel';\nexport function AddFilterDialog({\n  filters\n}) {\n  const {\n    decodedFilters\n  } = useBackendFilterUrlParams(filters);\n  const {\n    formId\n  } = useDialogContext();\n\n  // expand currently active filters\n  const [expandedFilters, setExpandedFilters] = useState(() => {\n    return decodedFilters.map(f => f.key);\n  });\n  const clearButton = <Button size=\"xs\" variant=\"outline\" className=\"mr-auto\" onClick={() => {\n    setExpandedFilters([]);\n  }}>\n      <Trans message=\"Clear\" />\n    </Button>;\n  const applyButton = <Button size=\"xs\" variant=\"flat\" color=\"primary\" className=\"ml-auto\" type=\"submit\" form={formId}>\n      <Trans message=\"Apply\" />\n    </Button>;\n  return <Dialog className=\"min-w-[300px]\" maxWidth=\"max-w-400\" size=\"auto\">\n      <DialogHeader padding=\"px-14 py-10\" leftAdornment={clearButton} rightAdornment={applyButton}>\n        <Trans message=\"Filter\" />\n      </DialogHeader>\n      <DialogBody padding=\"p-0\">\n        <FilterList filters={filters} expandedFilters={expandedFilters} setExpandedFilters={setExpandedFilters} />\n      </DialogBody>\n    </Dialog>;\n}\nfunction FilterList({\n  filters,\n  expandedFilters,\n  setExpandedFilters\n}) {\n  const {\n    decodedFilters,\n    replaceAll\n  } = useBackendFilterUrlParams(filters);\n\n  // either get value and operator from url params if filter is active, or get defaults from filter config\n  const defaultValues = {};\n  filters.forEach(filter => {\n    const appliedFilter = decodedFilters.find(f => f.key === filter.key);\n    defaultValues[filter.key] = appliedFilter?.value !== undefined ?\n    // there might be some extra keys set on filter besides\n    // \"value\" and \"operator\", so add the whole object to form\n    appliedFilter : {\n      value: filter.control.defaultValue,\n      operator: filter.defaultOperator\n    };\n  });\n  const form = useForm({\n    defaultValues\n  });\n  const {\n    formId,\n    close\n  } = useDialogContext();\n  return <Form form={form} id={formId} onSubmit={formValue => {\n    const filterValue = Object.entries(formValue)\n    // remove undefined and non-expanded filters, so \"clear\" button will correctly remove active filters\n    .filter(([key, fieldValue]) => expandedFilters.includes(key) && fieldValue !== undefined).map(([key, fieldValue]) => ({\n      key,\n      ...fieldValue // value and operator from form\n    }));\n    replaceAll(filterValue);\n    close();\n  }}>\n      <Accordion mode=\"multiple\" expandedValues={expandedFilters} onExpandedChange={setExpandedFilters}>\n        {filters.map(filter => <AccordionItem startIcon={<Checkbox checked={expandedFilters.includes(filter.key)} />} key={filter.key} value={filter.key} label={<Trans {...filter.label} />} bodyClassName=\"max-h-288 overflow-y-auto compact-scrollbar\">\n            {filter.description && <div className={clsx('text-xs text-muted',\n        // boolean filter will have nothing in the panel, no need to add margin\n        filter.control.type !== FilterControlType.BooleanToggle && 'mb-14')}>\n                <Trans {...filter.description} />\n              </div>}\n            <AddFilterDialogPanel filter={filter} />\n          </AccordionItem>)}\n      </Accordion>\n    </Form>;\n}\nexport function AddFilterDialogPanel({\n  filter\n}) {\n  switch (filter.control.type) {\n    case FilterControlType.Select:\n      return <SelectFilterPanel filter={filter} />;\n    case FilterControlType.ChipField:\n      return <ChipFieldFilterPanel filter={filter} />;\n    case FilterControlType.DateRangePicker:\n      return <DateRangeFilterPanel filter={filter} />;\n    case FilterControlType.SelectModel:\n      return <NormalizedModelFilterPanel filter={filter} />;\n    case FilterControlType.Input:\n      return <InputFilterPanel filter={filter} />;\n    case FilterControlType.BooleanToggle:\n      return <BooleanFilterPanel filter={filter} />;\n    case 'custom':\n      const CustomComponent = filter.control.panel;\n      return <CustomComponent filter={filter} />;\n    default:\n      return null;\n  }\n}","import { Button } from '@ui/buttons/button';\nimport { FilterAltIcon } from '@ui/icons/material/FilterAlt';\nimport { Trans } from '@ui/i18n/trans';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { AddFilterDialog } from './add-filter-dialog';\nexport function AddFilterButton({\n  filters,\n  icon = <FilterAltIcon />,\n  color = 'primary',\n  variant = 'outline',\n  size = 'sm',\n  disabled,\n  className\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  const desktopButton = <Button variant={variant} color={color} startIcon={icon} disabled={disabled} size={size} className={className}>\n      <Trans message=\"Filter\" />\n    </Button>;\n  const mobileButton = <IconButton color={color} size=\"sm\" variant={variant} disabled={disabled} className={className}>\n      {icon}\n    </IconButton>;\n  return <DialogTrigger type=\"popover\">\n      {isMobile ? mobileButton : desktopButton}\n      <AddFilterDialog filters={filters} />\n    </DialogTrigger>;\n}","import React from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { TextField } from '@ui/forms/input-field/text-field/text-field';\nimport { SearchIcon } from '@ui/icons/material/Search';\nimport { AddFilterButton } from './filters/add-filter-button';\nimport { message } from '@ui/i18n/message';\nexport function DataTableHeader({\n  actions,\n  filters,\n  filtersLoading,\n  searchPlaceholder = message('Type to search...'),\n  searchValue = '',\n  onSearchChange\n}) {\n  const {\n    trans\n  } = useTrans();\n  return <HeaderLayout>\n      <TextField size=\"sm\" className=\"mr-auto min-w-180 max-w-440 flex-auto\" inputWrapperClassName=\"mr-24 md:mr-0\" placeholder={trans(searchPlaceholder)} startAdornment={<SearchIcon size=\"sm\" />} value={searchValue} onChange={e => {\n      onSearchChange(e.target.value);\n    }} />\n      {filters && <AddFilterButton filters={filters} disabled={filtersLoading} />}\n      {actions}\n    </HeaderLayout>;\n}\nexport function HeaderLayout({\n  children,\n  ...domProps\n}) {\n  return <div className=\"hidden-scrollbar relative mb-6 flex items-center gap-4 overflow-x-auto text-muted md:gap-12\" {...domProps}>\n      {children}\n    </div>;\n}","import { Trans } from '@ui/i18n/trans';\nimport React from 'react';\nimport { HeaderLayout } from '@common/datatable/data-table-header';\nexport function SelectedStateDatatableHeader({\n  actions,\n  selectedItemsCount\n}) {\n  return <HeaderLayout data-testid=\"datatable-selected-header\">\n      <div className=\"mr-auto\">\n        <Trans message=\"[one 1 item|other :count items] selected\" values={{\n        count: selectedItemsCount\n      }} />\n      </div>\n      {actions}\n    </HeaderLayout>;\n}","import { m } from 'framer-motion';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nimport React from 'react';\nexport function FilterListSkeleton() {\n  return <m.div className=\"flex h-30 items-center gap-6\" key=\"filter-list-skeleton\" {...opacityAnimation}>\n      <Skeleton variant=\"rect\" size=\"h-full w-144\" radius=\"rounded-md\" />\n      <Skeleton variant=\"rect\" size=\"h-full w-112\" radius=\"rounded-md\" />\n      <Skeleton variant=\"rect\" size=\"h-full w-172\" radius=\"rounded-md\" />\n    </m.div>;\n}","import React, { cloneElement, useRef, useState } from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { useBackendFilterUrlParams } from './filters/backend-filter-url-params';\nimport { useDatatableData } from './requests/paginated-resources';\nimport { DataTableContext } from './page/data-table-context';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { ProgressBar } from '@ui/progress/progress-bar';\nimport { Table } from '../ui/tables/table';\nimport { DataTablePaginationFooter } from './data-table-pagination-footer';\nimport { DataTableHeader } from './data-table-header';\nimport { FilterList } from './filters/filter-list/filter-list';\nimport { SelectedStateDatatableHeader } from '@common/datatable/selected-state-datatable-header';\nimport clsx from 'clsx';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { BackendFiltersUrlKey } from '@common/datatable/filters/backend-filters-url-key';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nimport { FilterListSkeleton } from '@common/datatable/filters/filter-list/filter-list-skeleton';\nimport { nanoid } from 'nanoid';\nexport function DataTable({\n  filters,\n  pinnedFilters,\n  filtersLoading,\n  columns,\n  searchPlaceholder,\n  queryParams,\n  endpoint,\n  baseQueryKey: baseQueryKeyProp,\n  actions,\n  selectedActions,\n  emptyStateMessage,\n  tableDomProps,\n  onRowAction,\n  enableSelection = true,\n  selectionStyle = 'checkbox',\n  children,\n  cellHeight,\n  collapseTableOnMobile = true,\n  skeletonsWhileLoading,\n  border\n}) {\n  const baseQueryKey = useRef(baseQueryKeyProp);\n  const isMobile = useIsMobileMediaQuery();\n  const {\n    trans\n  } = useTrans();\n  const {\n    encodedFilters\n  } = useBackendFilterUrlParams(filters);\n  const [params, setParams] = useState({\n    perPage: 15\n  });\n  const [selectedRows, setSelectedRows] = useState([]);\n  const query = useDatatableData(endpoint, {\n    ...params,\n    ...queryParams,\n    [BackendFiltersUrlKey]: encodedFilters\n  }, {\n    baseQueryKey: baseQueryKey.current\n  }, () => setSelectedRows([]));\n  const isFiltering = !!(params.query || params.filters || encodedFilters);\n  const pagination = query.data?.pagination;\n  const data = pagination?.data || (query.isLoading && skeletonsWhileLoading ? Array.from({\n    length: skeletonsWhileLoading\n  }).map(() => {\n    return {\n      id: nanoid(),\n      isPlaceholder: true\n    };\n  }) : []);\n  console.log(\"data\" ,data)\n  return <DataTableContext.Provider value={{\n    selectedRows,\n    setSelectedRows,\n    endpoint,\n    params,\n    setParams,\n    query,\n    baseQueryKey: baseQueryKey.current\n  }}>\n      {children}\n      <AnimatePresence initial={false} mode=\"wait\">\n        {selectedRows.length ? <SelectedStateDatatableHeader selectedItemsCount={selectedRows.length} actions={selectedActions} key=\"selected\" /> : <DataTableHeader searchPlaceholder={searchPlaceholder} searchValue={params.query} onSearchChange={query => setParams({\n        ...params,\n        query\n      })} actions={actions} filters={filters} filtersLoading={filtersLoading} key=\"default\" />}\n      </AnimatePresence>\n\n      {filters && <div className=\"mb-14\">\n          <AnimatePresence initial={false} mode=\"wait\">\n            {filtersLoading && (encodedFilters || pinnedFilters?.length) ? <FilterListSkeleton /> : <m.div key=\"filter-list\" {...opacityAnimation}>\n                <FilterList filters={filters} pinnedFilters={pinnedFilters} />\n              </m.div>}\n          </AnimatePresence>\n        </div>}\n\n      <div className={clsx('relative rounded-panel', border ? border : (!isMobile || !collapseTableOnMobile) && 'border')}>\n        {query.isFetching && !skeletonsWhileLoading && <ProgressBar isIndeterminate className=\"absolute left-0 top-0 z-10 w-full\" aria-label={trans({\n        message: 'Loading'\n      })} size=\"xs\" />}\n\n        <div className=\"relative overflow-x-auto md:overflow-hidden\">\n          <Table {...tableDomProps} columns={columns} data={data} sortDescriptor={params} onSortChange={descriptor => {\n          setParams({\n            ...params,\n            ...descriptor\n          });\n        }} selectedRows={selectedRows} enableSelection={enableSelection} selectionStyle={selectionStyle} onSelectionChange={setSelectedRows} onAction={onRowAction} collapseOnMobile={collapseTableOnMobile} cellHeight={cellHeight} />\n        </div>\n\n        {(query.isFetched || query.isPlaceholderData) && !pagination?.data.length ? <div className=\"pt-50\">\n            {cloneElement(emptyStateMessage, {\n          isFiltering\n        })}\n          </div> : undefined}\n\n        <DataTablePaginationFooter query={query} onPageChange={page => setParams({\n        ...params,\n        page\n      })} onPerPageChange={perPage => setParams({\n        ...params,\n        perPage\n      })} />\n      </div>\n    </DataTableContext.Provider>;\n}","import React, { useId } from 'react';\nimport { DataTable } from '../data-table';\nimport { StaticPageTitle } from '../../seo/static-page-title';\nimport clsx from 'clsx';\nexport function DataTablePage({\n  title,\n  headerContent,\n  headerItemsAlign = 'items-end',\n  className,\n  padding,\n  variant,\n  ...dataTableProps\n}) {\n  const titleId = useId();\n  return <div className={clsx(padding ?? variant === 'fullPage' ? 'p-0' : 'p-4', className)}>\n      {title && <div className={clsx(variant === 'fullPage' ? 'mb-6 px-24 py-12' : 'mb-8', headerContent && `flex ${headerItemsAlign} gap-4`)}>\n          <StaticPageTitle>{title}</StaticPageTitle>\n          <h1 className=\"heading text-[24px] capitalize\" id={titleId}>\n            {title} \n          </h1>\n          {headerContent}\n        </div>}\n      <div className={clsx(variant === 'fullPage' ? 'p-12 md:p-24' : 'p-0')}>\n        <DataTable {...dataTableProps} tableDomProps={{\n        'aria-labelledby': title ? titleId : undefined\n      }} />\n      </div>\n    </div>;\n}","import React from 'react';\nimport { IllustratedMessage } from '@ui/images/illustrated-message';\nimport { SvgImage } from '@ui/images/svg-image';\nimport { Trans } from '@ui/i18n/trans';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nexport function DataTableEmptyStateMessage({\n  isFiltering,\n  title,\n  filteringTitle,\n  image,\n  size,\n  className\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  if (!size) {\n    size = isMobile ? 'sm' : 'md';\n  }\n\n  // allow user to disable filtering message variation by not passing in \"filteringTitle\"\n  return <IllustratedMessage className={className} size={size} image={<SvgImage src={image} />} title={isFiltering && filteringTitle ? filteringTitle : title} description={isFiltering && filteringTitle ? <Trans message=\"Try another search query or different filters\" /> : undefined} />;\n}","import { useMutation } from '@tanstack/react-query';\nimport { toast } from '@ui/toast/toast';\nimport { message } from '@ui/i18n/message';\nimport { apiClient } from '@common/http/query-client';\nimport { DatatableDataQueryKey } from '@common/datatable/requests/paginated-resources';\nimport { queryClient } from '@common/http/query-client';\n\nexport function useDeleteTransferFiles() {\n  return useMutation({\n    mutationFn: ({ id }) =>\n      apiClient.delete(`admin/transfer-files/${id}`).then((r) => r.data),\n    onSuccess: () => {\n      toast.positive(message('Transfer file deleted'));\n      queryClient.invalidateQueries({ \n        queryKey: DatatableDataQueryKey('admin-transfer-files') \n      });\n      queryClient.invalidateQueries({ \n        queryKey: ['admin', 'transfer-files', 'stats'] \n      });\n    },\n    onError: (err) => {\n      const errorMessage = err?.response?.data?.message || 'Failed to delete transfer file';\n      toast.danger(message(errorMessage));\n    },\n  });\n}\n","import { useMutation } from '@tanstack/react-query';\nimport { toast } from '@ui/toast/toast';\nimport { message } from '@ui/i18n/message';\nimport { apiClient } from '@common/http/query-client';\nimport { DatatableDataQueryKey } from '@common/datatable/requests/paginated-resources';\nimport { queryClient } from '@common/http/query-client';\n\nexport function useBulkDeleteTransferFiles() {\n  return useMutation({\n    mutationFn: ({ ids }) =>\n      apiClient.post('admin/transfer-files/bulk-delete', { ids }).then((r) => r.data),\n    onSuccess: (data) => {\n      const count = data.deleted_count || 0;\n      toast.positive(message(`Successfully deleted ${count} transfer files`));\n      queryClient.invalidateQueries({ \n        queryKey: DatatableDataQueryKey('admin-transfer-files') \n      });\n      queryClient.invalidateQueries({ \n        queryKey: ['admin', 'transfer-files', 'stats'] \n      });\n    },\n    onError: (err) => {\n      const errorMessage = err?.response?.data?.message || 'Failed to delete transfer files';\n      toast.danger(message(errorMessage));\n    },\n  });\n}\n","import { useMutation } from '@tanstack/react-query';\nimport { toast } from '@ui/toast/toast';\nimport { message } from '@ui/i18n/message';\nimport { apiClient } from '@common/http/query-client';\nimport { DatatableDataQueryKey } from '@common/datatable/requests/paginated-resources';\nimport { queryClient } from '@common/http/query-client';\n\nexport function useCleanupTransferFiles() {\n  return useMutation({\n    mutationFn: () =>\n      apiClient.post('admin/transfer-files/cleanup').then((r) => r.data),\n    onSuccess: (data) => {\n      const deletedCount = data.deleted_uploads || 0;\n      toast.positive(message(`Cleanup completed. Removed ${deletedCount} expired files`));\n      queryClient.invalidateQueries({ \n        queryKey: DatatableDataQueryKey('admin-transfer-files') \n      });\n      queryClient.invalidateQueries({ \n        queryKey: ['admin', 'transfer-files', 'stats'] \n      });\n    },\n    onError: (err) => {\n      const errorMessage = err?.response?.data?.message || 'Cleanup failed';\n      toast.danger(message(errorMessage));\n    },\n  });\n}\n","import { createSvgIcon } from '../create-svg-icon';\nexport const DeleteSweepIcon = createSvgIcon(<path d=\"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zm2-8h6v8H5v-8zm5-6H6L5 5H2v2h12V5h-3z\" />, 'DeleteSweepOutlined');","import React from 'react';\nimport { DatatableDataQueryKey } from '@common/datatable/requests/paginated-resources';\nimport { DataTablePage } from '@common/datatable/page/data-table-page';\nimport { DataTableEmptyStateMessage } from '@common/datatable/page/data-table-emty-state-message';\nimport { Trans } from '@ui/i18n/trans';\nimport { DataTableContext } from '@common/datatable/page/data-table-context';\nimport { useDeleteTransferFiles } from './requests/use-delete-transfer-files';\nimport { useBulkDeleteTransferFiles } from './requests/use-bulk-delete-transfer-files';\nimport { useCleanupTransferFiles } from './requests/use-cleanup-transfer-files';\nimport { Button } from '@ui/buttons/button';\nimport { DeleteIcon } from '@ui/icons/material/Delete';\nimport { DeleteSweepIcon } from '@ui/icons/material/DeleteSweep';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { Chip } from '@ui/forms/input-field/chip-field/chip';\nimport { Link } from 'react-router';\nimport { LinkIcon } from '@ui/icons/material/Link';\nimport { FileUploadIcon } from '@ui/icons/material/FileUpload';\nimport { Tooltip } from '@ui/tooltip/tooltip';\n\nconst columnConfig = [\n  {\n    key: 'original_filename',\n    allowsSorting: true,\n    header: () => <Trans message=\"File Name\" />,\n    body: (file) => (\n      <div>\n        <div className=\"font-medium\">\n          {file.original_filename || 'Untitled'}\n        </div>\n        <div className=\"text-sm text-muted\">\n          {file.formatted_size}\n          {file.files_count > 1 && <span> â€¢ {file.files_count} files</span>}\n          {file.has_password && <span> â€¢ ðŸ”’ Protected</span>}\n        </div>\n      </div>\n    ),\n  },\n  {\n    key: 'title',\n    allowsSorting: false,\n    header: () => <Trans message=\"Title\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.title || <span className=\"text-muted\">No title</span>}\n      </div>\n    ),\n  },\n  {\n    key: 'recipient_emails',\n    allowsSorting: false,\n    header: () => <Trans message=\"Recipient Email\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.recipient_emails || <span className=\"text-muted\">No recipient</span>}\n      </div>\n    ),\n  },\n  {\n    key: 'message',\n    allowsSorting: false,\n    header: () => <Trans message=\"Message\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.message ? (\n          <Tooltip label={file.message}>\n            <div className=\"truncate \">\n              {file.message}\n            </div>\n          </Tooltip>\n        ) : (\n          <span className=\"text-muted\">No message</span>\n        )}\n      </div>\n    ),\n  },\n  {\n    key: 'sender_email',\n    allowsSorting: false,\n    header: () => <Trans message=\"Sender\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.sender_email || <span className=\"text-muted\">Anonymous</span>}\n      </div>\n    ),\n  },\n  {\n    key: 'status',\n    allowsSorting: false,\n    header: () => <Trans message=\"Status\" />,\n    body: (file) => {\n      let color = 'positive';\n      let message = 'Active';\n      \n      if (file.status === 'expired') {\n        color = 'danger';\n        message = 'Expired';\n      } else if (file.status === 'download_limit_reached') {\n        color = 'warning';\n        message = 'Limit Reached';\n      }\n      \n      return <Chip color={color} size=\"xs\">{message}</Chip>;\n    },\n  },\n  {\n    key: 'download_count',\n    allowsSorting: true,\n    header: () => <Trans message=\"Downloads\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.download_count}\n        {file.max_downloads && <span className=\"text-muted\"> / {file.max_downloads}</span>}\n      </div>\n    ),\n  },\n  {\n    key: 'created_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Created\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.created_at ? new Date(file.created_at).toLocaleDateString('en-US') : '-'}\n      </div>\n    ),\n  },\n  {\n    key: 'expires_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Expires\" />,\n    body: (file) => (\n      <div className=\"text-sm\">\n        {file.expires_at ? (\n          new Date(file.expires_at).toLocaleDateString('en-US')\n        ) : (\n          <span className=\"text-muted\">Never</span>\n        )}\n      </div>\n    ),\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: (file) => <RowActions file={file} />,\n  },\n];\n\nfunction RowActions({ file }) {\n  const deleteFiles = useDeleteTransferFiles();\n\n  return (\n    <>\n      <div className=\"flex items-center gap-4\">\n        <Tooltip label={<Trans message=\"Copy share link\" />}>\n          <IconButton\n            size=\"md\"\n            elementType={Link}\n            to={file.share_url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-primary hover:bg-primary/10\"\n          >\n            <LinkIcon />\n          </IconButton>\n        </Tooltip>\n        \n        <Tooltip label={<Trans message=\"Delete\" />}>\n          <IconButton\n            size=\"md\"\n            color=\"danger\"\n            onClick={() => {\n              if (window.confirm(`Delete \"${file.original_filename}\"?\\n\\nThis action cannot be undone.`)) {\n                deleteFiles.mutate({ id: file.id });\n              }\n            }}\n            disabled={deleteFiles.isPending}\n            className=\"text-danger hover:bg-danger/10\"\n          >\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </>\n  );\n}\n\nexport function TransferFilesPage() {\n\n  return (\n   <>\n    <DataTablePage\n      endpoint=\"admin/transfer-files\"\n      title={<Trans message=\"Transfer Files \" />}\n      queryKey={DatatableDataQueryKey('admin-transfer-files')}\n      columns={columnConfig}\n      searchPlaceholder={<Trans message=\"Search files...\" />}\n      filters={[\n        {\n          key: 'status',\n          label: <Trans message=\"Status\" />,\n          description: <Trans message=\"Filter by file status\" />,\n          defaultOperator: '=',\n          control: {\n            type: 'Select',\n            defaultValue: 'active',\n            options: [\n              {\n                key: 'active',\n                label: <Trans message=\"Active\" />,\n                value: 'active',\n              },\n              {\n                key: 'expired',\n                label: <Trans message=\"Expired\" />,\n                value: 'expired',\n              },\n            ],\n          },\n        },\n      ]}\n      actions={<PageActions />}\n      selectedActions={<SelectedItemsActions />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={<FileUploadIcon size=\"xl\" className=\"text-muted\" />}\n          title={<Trans message=\"No transfer files uploaded yet\" />}\n          filteringTitle={<Trans message=\"No matching files\" />}\n        />\n      }\n    />\n   </>\n  );\n}\n\nfunction PageActions() {\n  const cleanupFiles = useCleanupTransferFiles();\n  return (\n    <div className=\"flex items-center gap-8\">\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        startIcon={<DeleteSweepIcon />}\n        onClick={() => cleanupFiles.mutate()}\n        disabled={cleanupFiles.isPending}\n      >\n        <Trans message=\"Cleanup Expired\" />\n      </Button>\n    </div>\n  );\n}\n\nfunction SelectedItemsActions() {\n  const { selectedRows } = React.useContext(DataTableContext);\n  console.log(\"selectedRows\", selectedRows)\n  const bulkDeleteFiles = useBulkDeleteTransferFiles();\n\n  return (\n    <Button\n      variant=\"flat\"\n      color=\"danger\"\n      startIcon={<DeleteIcon />}\n      onClick={() => {\n        const ids = selectedRows.map((row) => row.id);\n        bulkDeleteFiles.mutate({ ids });\n      }}\n      disabled={bulkDeleteFiles.isPending}\n    >\n      <Trans message=\"Delete selected\" />\n    </Button>\n  );\n}\n\n"],"names":["DatatableDataQueryKey","endpoint","params","baseQueryKey","key","useDatatableData","options","onLoad","optionsQueryKey","useQuery","signal","paginate","keepPreviousData","resolve","response","apiClient","DataTableContext","React","useDataTable","useContext","defaultPerPage","perPageOptions","DataTablePaginationFooter","query","onPerPageChange","onPageChange","className","isMobile","useIsMobileMediaQuery","numberFormatter","useNumberFormatter","pagination","_a","perPageSelect","jsx","Select","Trans","value","option","Item","clsx","jsxs","IconButton","KeyboardArrowLeftIcon","hasNextPage","KeyboardArrowRightIcon","FilterAltIcon","createSvgIcon","AccordionAnimation","Accordion","variant","mode","children","isLazy","other","ref","expandedValues","setExpandedValues","useControlledState","itemsCount","AnimatePresence","FocusScope","child","index","isValidElement","cloneElement","AccordionItem","props","label","disabled","bodyClassName","bodyPadding","labelClassName","buttonPadding","startIcon","description","endAppend","chevronPosition","isFirst","footerContent","onHeaderMouseEnter","onHeaderMouseLeave","useRef","isExpanded","wasExpandedOnce","focusManager","useFocusManager","id","useId","buttonId","panelId","onKeyDown","e","toggle","i","newKeys","chevron","ArrowDropDownIcon","m","BooleanFilterPanel","filter","AddFilterDialog","filters","decodedFilters","useBackendFilterUrlParams","formId","useDialogContext","expandedFilters","setExpandedFilters","useState","f","clearButton","Button","applyButton","Dialog","DialogHeader","DialogBody","FilterList","replaceAll","defaultValues","appliedFilter","form","useForm","close","Form","formValue","filterValue","fieldValue","Checkbox","FilterControlType","AddFilterDialogPanel","SelectFilterPanel","ChipFieldFilterPanel","DateRangeFilterPanel","NormalizedModelFilterPanel","InputFilterPanel","CustomComponent","AddFilterButton","icon","color","size","desktopButton","mobileButton","DialogTrigger","DataTableHeader","actions","filtersLoading","searchPlaceholder","message","searchValue","onSearchChange","trans","useTrans","HeaderLayout","TextField","SearchIcon","domProps","SelectedStateDatatableHeader","selectedItemsCount","FilterListSkeleton","opacityAnimation","Skeleton","DataTable","pinnedFilters","columns","queryParams","baseQueryKeyProp","selectedActions","emptyStateMessage","tableDomProps","onRowAction","enableSelection","selectionStyle","cellHeight","collapseTableOnMobile","skeletonsWhileLoading","border","encodedFilters","setParams","selectedRows","setSelectedRows","BackendFiltersUrlKey","isFiltering","data","nanoid","ProgressBar","Table","descriptor","page","perPage","DataTablePage","title","headerContent","headerItemsAlign","padding","dataTableProps","titleId","StaticPageTitle","DataTableEmptyStateMessage","filteringTitle","image","IllustratedMessage","SvgImage","useDeleteTransferFiles","useMutation","r","toast","queryClient","err","errorMessage","_b","useBulkDeleteTransferFiles","ids","count","useCleanupTransferFiles","deletedCount","DeleteSweepIcon","columnConfig","file","Tooltip","Chip","RowActions","deleteFiles","Fragment","Link","LinkIcon","DeleteIcon","TransferFilesPage","PageActions","SelectedItemsActions","FileUploadIcon","cleanupFiles","bulkDeleteFiles","row"],"mappings":"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"}