{"version":3,"file":"dashboard-layout-853ee92a.js","sources":["../../../node_modules/@react-aria/utils/dist/useGlobalListeners.mjs","../../../node_modules/@react-aria/utils/dist/isScrollable.mjs","../../../node_modules/@react-aria/utils/dist/getScrollParent.mjs","../../../node_modules/@react-aria/interactions/dist/useInteractOutside.mjs","../../../common/foundation/resources/client/ui/library/forms/input-field/chip-field/chip-list.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/chip-field/string-to-chip-value.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/chip-field/chip-field.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Delete.jsx","../../../common/foundation/resources/client/ui/library/interactions/dnd/drag-state.jsx","../../../common/foundation/resources/client/ui/library/interactions/interactable-event.jsx","../../../common/foundation/resources/client/ui/library/interactions/active-interaction.jsx","../../../common/foundation/resources/client/ui/library/interactions/utils/dom-rect-to-obj.jsx","../../../common/foundation/resources/client/ui/library/interactions/dnd/update-rects.jsx","../../../common/foundation/resources/client/ui/library/interactions/dnd/use-draggable.jsx","../../../common/foundation/resources/client/ui/library/interactions/dnd/read-files-from-data-transfer.jsx","../../../common/foundation/resources/client/ui/library/utils/array/async-iterable-to-array.jsx","../../../common/foundation/resources/client/ui/library/interactions/dnd/use-droppable.jsx","../../../common/foundation/resources/client/http/backend-response/pagination-response.jsx","../../../common/foundation/resources/client/datatable/filters/backend-filter.jsx","../../../common/foundation/resources/client/ui/library/types/user.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/date-range-picker.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-range-picker/form-date-range-picker.jsx","../../../common/foundation/resources/client/datatable/filters/timestamp-filters.jsx","../../../common/foundation/resources/client/admin/file-entry/file-entry-index-filters.jsx","../../../common/foundation/resources/client/datatable/filters/backend-filters-url-key.jsx","../../../common/foundation/resources/client/datatable/filters/utils/decode-backend-filters.jsx","../../../common/foundation/resources/client/datatable/filters/utils/encode-backend-filters.jsx","../../../common/foundation/resources/client/datatable/filters/backend-filter-url-params.jsx","../../../common/foundation/resources/client/datatable/filters/filter-list/filter-list-trigger-button.jsx","../../../common/foundation/resources/client/datatable/filters/panels/select-filter-panel.jsx","../../../common/foundation/resources/client/datatable/filters/filter-list/filter-list-item-dialog-trigger.jsx","../../../common/foundation/resources/client/ui/normalized-model/use-normalized-models.jsx","../../../common/foundation/resources/client/ui/normalized-model/use-normalized-model.jsx","../../../common/foundation/resources/client/ui/normalized-model/normalized-model-field.jsx","../../../common/foundation/resources/client/datatable/filters/panels/normalized-model-filter-panel.jsx","../../../common/foundation/resources/client/datatable/filters/panels/date-range-filter-panel.jsx","../../../common/foundation/resources/client/datatable/filters/filter-operator-names.jsx","../../../common/foundation/resources/client/datatable/filters/panels/input-filter-panel.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/chip-field/form-chip-field.jsx","../../../common/foundation/resources/client/datatable/filters/panels/chip-field-filter-panel.jsx","../../../common/foundation/resources/client/datatable/filters/filter-list/filter-list-control.jsx","../../../common/foundation/resources/client/datatable/filters/filter-list/filter-list.jsx","../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-layout-context.jsx","../../../common/foundation/resources/client/ui/library/interactions/use-pointer-events.jsx","../../../common/foundation/resources/client/ui/library/icons/material/FileDownload.jsx","../../../common/foundation/resources/client/uploads/file-entry-urls.jsx","../../../common/foundation/resources/client/ui/library/utils/files/download-file-from-url.jsx","../../../common/foundation/resources/client/ui/library/icons/material/MoreVert.jsx","../../../common/foundation/resources/client/ui/library/utils/keybinds/is-ctrl-key-pressed.jsx","../../../common/foundation/resources/client/ui/tables/navigate-grid.jsx","../../../common/foundation/resources/client/ui/tables/table-context.jsx","../../../common/foundation/resources/client/ui/tables/style/use-table-cell-style.jsx","../../../common/foundation/resources/client/ui/tables/table-cell.jsx","../../../common/foundation/resources/client/ui/library/utils/keybinds/is-ctrl-or-shift-pressed.jsx","../../../common/foundation/resources/client/ui/tables/style/use-table-row-style.jsx","../../../common/foundation/resources/client/ui/tables/table-row.jsx","../../../common/foundation/resources/client/ui/tables/checkbox-column-config.jsx","../../../common/foundation/resources/client/ui/library/icons/material/ArrowDownward.jsx","../../../common/foundation/resources/client/ui/tables/header-cell.jsx","../../../common/foundation/resources/client/ui/tables/table-header-row.jsx","../../../common/foundation/resources/client/ui/tables/table.jsx","../../../common/foundation/resources/client/uploads/components/file-type-icon/file-thumbnail.jsx","../../../node_modules/@tanstack/virtual-core/dist/esm/utils.js","../../../node_modules/@tanstack/virtual-core/dist/esm/index.js","../../../node_modules/@tanstack/react-virtual/dist/esm/index.js","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview-context.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/default-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/image-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/text-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/video-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/audio-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/pdf-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview/word-document-file-preview.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/available-previews.jsx","../../../common/foundation/resources/client/ui/library/icons/material/ChevronLeft.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview-container.jsx","../../../common/foundation/resources/client/uploads/components/file-preview/file-preview-dialog.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-picker/use-date-picker-state.jsx","../../../common/foundation/resources/client/ui/library/forms/input-field/date/date-picker/date-picker.jsx","../../../common/foundation/resources/client/ui/library/icons/material/Info.jsx","../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-sidenav.jsx","../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-content.jsx","../../../common/foundation/resources/client/ui/library/icons/material/MenuOpen.jsx","../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-navbar.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/use-block-body-overflow.jsx","../../../common/foundation/resources/client/ui/library/utils/hooks/use-previous.jsx","../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-layout.jsx"],"sourcesContent":["import {useRef as $lPAwt$useRef, useCallback as $lPAwt$useCallback, useEffect as $lPAwt$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = (0, $lPAwt$useRef)(new Map());\n    let addGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        // Make sure we remove the listener after it is called with the `once` option.\n        let fn = (options === null || options === void 0 ? void 0 : options.once) ? (...args)=>{\n            globalListeners.current.delete(listener);\n            listener(...args);\n        } : listener;\n        globalListeners.current.set(listener, {\n            type: type,\n            eventTarget: eventTarget,\n            fn: fn,\n            options: options\n        });\n        eventTarget.addEventListener(type, fn, options);\n    }, []);\n    let removeGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        var _globalListeners_current_get;\n        let fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n        eventTarget.removeEventListener(type, fn, options);\n        globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = (0, $lPAwt$useCallback)(()=>{\n        globalListeners.current.forEach((value, key)=>{\n            removeGlobalListener(value.eventTarget, value.type, key, value.options);\n        });\n    }, [\n        removeGlobalListener\n    ]);\n    (0, $lPAwt$useEffect)(()=>{\n        return removeAllGlobalListeners;\n    }, [\n        removeAllGlobalListeners\n    ]);\n    return {\n        addGlobalListener: addGlobalListener,\n        removeGlobalListener: removeGlobalListener,\n        removeAllGlobalListeners: removeAllGlobalListeners\n    };\n}\n\n\nexport {$03deb23ff14920c4$export$4eaf04e54aa8eed6 as useGlobalListeners};\n//# sourceMappingURL=useGlobalListeners.module.js.map\n","/*\n * Copyright 2024 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $cc38e7bd3fc7b213$export$2bb74740c4e19def(node, checkForOverflow) {\n    if (!node) return false;\n    let style = window.getComputedStyle(node);\n    let isScrollable = /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n    if (isScrollable && checkForOverflow) isScrollable = node.scrollHeight !== node.clientHeight || node.scrollWidth !== node.clientWidth;\n    return isScrollable;\n}\n\n\nexport {$cc38e7bd3fc7b213$export$2bb74740c4e19def as isScrollable};\n//# sourceMappingURL=isScrollable.module.js.map\n","import {isScrollable as $cc38e7bd3fc7b213$export$2bb74740c4e19def} from \"./isScrollable.mjs\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $62d8ded9296f3872$export$cfa2225e87938781(node, checkForOverflow) {\n    let scrollableNode = node;\n    if ((0, $cc38e7bd3fc7b213$export$2bb74740c4e19def)(scrollableNode, checkForOverflow)) scrollableNode = scrollableNode.parentElement;\n    while(scrollableNode && !(0, $cc38e7bd3fc7b213$export$2bb74740c4e19def)(scrollableNode, checkForOverflow))scrollableNode = scrollableNode.parentElement;\n    return scrollableNode || document.scrollingElement || document.documentElement;\n}\n\n\nexport {$62d8ded9296f3872$export$cfa2225e87938781 as getScrollParent};\n//# sourceMappingURL=getScrollParent.module.js.map\n","import {useEffectEvent as $ispOf$useEffectEvent, getOwnerDocument as $ispOf$getOwnerDocument} from \"@react-aria/utils\";\nimport {useRef as $ispOf$useRef, useEffect as $ispOf$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\nfunction $e0b6e0b68ec7f50f$export$872b660ac5a1ff98(props) {\n    let { ref: ref, onInteractOutside: onInteractOutside, isDisabled: isDisabled, onInteractOutsideStart: onInteractOutsideStart } = props;\n    let stateRef = (0, $ispOf$useRef)({\n        isPointerDown: false,\n        ignoreEmulatedMouseEvents: false\n    });\n    let onPointerDown = (0, $ispOf$useEffectEvent)((e)=>{\n        if (onInteractOutside && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) {\n            if (onInteractOutsideStart) onInteractOutsideStart(e);\n            stateRef.current.isPointerDown = true;\n        }\n    });\n    let triggerInteractOutside = (0, $ispOf$useEffectEvent)((e)=>{\n        if (onInteractOutside) onInteractOutside(e);\n    });\n    (0, $ispOf$useEffect)(()=>{\n        let state = stateRef.current;\n        if (isDisabled) return;\n        const element = ref.current;\n        const documentObject = (0, $ispOf$getOwnerDocument)(element);\n        // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n        if (typeof PointerEvent !== 'undefined') {\n            let onClick = (e)=>{\n                if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            // changing these to capture phase fixed combobox\n            // Use click instead of pointerup to avoid Android Chrome issue\n            // https://issues.chromium.org/issues/40732224\n            documentObject.addEventListener('pointerdown', onPointerDown, true);\n            documentObject.addEventListener('click', onClick, true);\n            return ()=>{\n                documentObject.removeEventListener('pointerdown', onPointerDown, true);\n                documentObject.removeEventListener('click', onClick, true);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            let onMouseUp = (e)=>{\n                if (state.ignoreEmulatedMouseEvents) state.ignoreEmulatedMouseEvents = false;\n                else if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            let onTouchEnd = (e)=>{\n                state.ignoreEmulatedMouseEvents = true;\n                if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            documentObject.addEventListener('mousedown', onPointerDown, true);\n            documentObject.addEventListener('mouseup', onMouseUp, true);\n            documentObject.addEventListener('touchstart', onPointerDown, true);\n            documentObject.addEventListener('touchend', onTouchEnd, true);\n            return ()=>{\n                documentObject.removeEventListener('mousedown', onPointerDown, true);\n                documentObject.removeEventListener('mouseup', onMouseUp, true);\n                documentObject.removeEventListener('touchstart', onPointerDown, true);\n                documentObject.removeEventListener('touchend', onTouchEnd, true);\n            };\n        }\n    }, [\n        ref,\n        isDisabled,\n        onPointerDown,\n        triggerInteractOutside\n    ]);\n}\nfunction $e0b6e0b68ec7f50f$var$isValidEvent(event, ref) {\n    if (event.button > 0) return false;\n    if (event.target) {\n        // if the event target is no longer in the document, ignore\n        const ownerDocument = event.target.ownerDocument;\n        if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) return false;\n        // If the target is within a top layer element (e.g. toasts), ignore.\n        if (event.target.closest('[data-react-aria-top-layer]')) return false;\n    }\n    if (!ref.current) return false;\n    // When the event source is inside a Shadow DOM, event.target is just the shadow root.\n    // Using event.composedPath instead means we can get the actual element inside the shadow root.\n    // This only works if the shadow root is open, there is no way to detect if it is closed.\n    // If the event composed path contains the ref, interaction is inside.\n    return !event.composedPath().includes(ref.current);\n}\n\n\nexport {$e0b6e0b68ec7f50f$export$872b660ac5a1ff98 as useInteractOutside};\n//# sourceMappingURL=useInteractOutside.module.js.map\n","import React, { Children, cloneElement, isValidElement } from 'react';\nimport clsx from 'clsx';\nexport function ChipList({\n  className,\n  children,\n  size,\n  color,\n  radius,\n  selectable,\n  wrap = true,\n  startButton\n}) {\n  return <div className={clsx('flex items-center gap-8', wrap && 'flex-wrap', className)}>\n      {startButton}\n      {Children.map(children, chip => {\n      if (isValidElement(chip)) {\n        return cloneElement(chip, {\n          size,\n          color,\n          selectable,\n          radius\n        });\n      }\n    })}\n    </div>;\n}","export function stringToChipValue(value) {\n  // add both name and description so \"validateWith\" works properly in chip field, if it depends on description\n  return {\n    id: value,\n    name: `${value}`,\n    description: `${value}`\n  };\n}","import React, { useCallback, useMemo, useRef, useState } from 'react';\nimport { useFocusManager } from '@react-aria/focus';\nimport clsx from 'clsx';\nimport { mergeProps, useLayoutEffect, useObjectRef } from '@react-aria/utils';\nimport { useControlledState } from '@react-stately/utils';\nimport { ChipList } from './chip-list';\nimport { Field } from '../field';\nimport { Input } from '../input';\nimport { Chip } from './chip';\nimport { getInputFieldClassNames } from '../get-input-field-class-names';\nimport { ProgressCircle } from '@ui/progress/progress-circle';\nimport { useField } from '../use-field';\nimport { Listbox } from '../../listbox/listbox';\nimport { useListbox } from '../../listbox/use-listbox';\nimport { useListboxKeyboardNavigation } from '../../listbox/use-listbox-keyboard-navigation';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nimport { stringToChipValue } from './string-to-chip-value';\nimport { KeyboardArrowDownIcon } from '@ui/icons/material/KeyboardArrowDown';\nimport { Avatar } from '@ui/avatar/avatar';\nimport { Popover } from '@ui/overlays/popover';\nfunction ChipFieldInner(props, ref) {\n  const fieldRef = useRef(null);\n  const inputRef = useObjectRef(ref);\n  const {\n    displayWith = v => v.name,\n    validateWith,\n    children,\n    suggestions,\n    isLoading,\n    inputValue,\n    onInputValueChange,\n    onItemSelected,\n    placeholder,\n    onOpenChange,\n    chipSize = 'sm',\n    openMenuOnFocus = true,\n    showEmptyMessage,\n    value: propsValue,\n    defaultValue,\n    onChange: propsOnChange,\n    valueKey,\n    isAsync,\n    allowCustomValue = true,\n    showDropdownArrow,\n    onChipClick,\n    alwaysShowAvatar = false,\n    readOnly,\n    ...inputFieldProps\n  } = props;\n  const fieldClassNames = getInputFieldClassNames({\n    ...props,\n    flexibleHeight: true\n  });\n  const [value, onChange] = useChipFieldValueState(props);\n  const [listboxIsOpen, setListboxIsOpen] = useState(false);\n  const loadingIndicator = <ProgressCircle isIndeterminate size=\"w-24 h-24\" aria-label=\"loading...\" />;\n  const dropdownArrow = showDropdownArrow ? <KeyboardArrowDownIcon /> : null;\n  const {\n    fieldProps,\n    inputProps\n  } = useField({\n    ...inputFieldProps,\n    focusRef: inputRef,\n    endAdornment: isLoading && listboxIsOpen ? loadingIndicator : dropdownArrow\n  });\n  return <Field fieldClassNames={fieldClassNames} {...fieldProps}>\n      <Input ref={fieldRef} className={clsx('flex flex-wrap items-center', fieldClassNames.input)} onClick={() => {\n      // refocus input when clicking outside it, but while still inside chip field\n      inputRef.current?.focus();\n    }}>\n        <ListWrapper displayChipUsing={displayWith} onChipClick={onChipClick} items={value} setItems={onChange} chipSize={chipSize} alwaysShowAvatar={alwaysShowAvatar} readOnly={readOnly} />\n        <ChipInput size={props.size} showEmptyMessage={showEmptyMessage} inputProps={inputProps} inputValue={inputValue} onInputValueChange={onInputValueChange} fieldRef={fieldRef} inputRef={inputRef} chips={value} setChips={onChange} validateWith={validateWith} isLoading={isLoading} suggestions={suggestions} placeholder={placeholder} openMenuOnFocus={openMenuOnFocus} listboxIsOpen={listboxIsOpen} setListboxIsOpen={setListboxIsOpen} allowCustomValue={allowCustomValue} readOnly={readOnly}>\n          {children}\n        </ChipInput>\n      </Input>\n    </Field>;\n}\nfunction ListWrapper({\n  items,\n  setItems,\n  displayChipUsing,\n  chipSize,\n  onChipClick,\n  alwaysShowAvatar,\n  readOnly\n}) {\n  const manager = useFocusManager();\n  const removeItem = useCallback(key => {\n    const i = items.findIndex(cr => cr.id === key);\n    const newItems = [...items];\n    if (i > -1) {\n      newItems.splice(i, 1);\n      setItems(newItems);\n    }\n    return newItems;\n  }, [items, setItems]);\n  return <ChipList className={clsx('max-w-full flex-shrink-0 flex-wrap', chipSize === 'xs' ? 'my-6' : 'my-8')} size={chipSize} selectable>\n      {items.map(item => <Chip key={item.id} errorMessage={item.errorMessage} adornment={item.image || alwaysShowAvatar ? <Avatar circle src={item.image} fallback=\"initials\" label={item.name} /> : null} onClick={() => onChipClick?.(item)} onRemove={readOnly ? undefined : () => {\n      const newItems = removeItem(item.id);\n      if (newItems.length) {\n        // focus previous chip\n        manager?.focusPrevious({\n          tabbable: true\n        });\n      } else {\n        // focus input\n        manager?.focusLast();\n      }\n    }}>\n          {displayChipUsing(item)}\n        </Chip>)}\n    </ChipList>;\n}\nfunction ChipInput(props) {\n  const {\n    inputRef,\n    fieldRef,\n    validateWith,\n    setChips,\n    chips,\n    suggestions,\n    inputProps,\n    placeholder,\n    openMenuOnFocus,\n    listboxIsOpen,\n    setListboxIsOpen,\n    allowCustomValue,\n    isLoading,\n    size,\n    readOnly\n  } = props;\n  const manager = useFocusManager();\n  const addItems = useCallback(items => {\n    items = (items || []).filter(item => {\n      const invalid = !item || !item.id || !item.name;\n      const alreadyExists = chips.findIndex(cr => cr.id === item?.id) > -1;\n      return !alreadyExists && !invalid;\n    });\n    if (!items.length) return;\n    if (validateWith) {\n      items = items.map(item => validateWith(item));\n    }\n    setChips([...chips, ...items]);\n  }, [chips, setChips, validateWith]);\n  const listbox = useListbox({\n    ...props,\n    clearInputOnItemSelection: true,\n    isOpen: listboxIsOpen,\n    onOpenChange: setListboxIsOpen,\n    items: suggestions,\n    selectionMode: 'none',\n    role: 'listbox',\n    virtualFocus: true,\n    onItemSelected: value => {\n      handleItemSelection(value);\n    }\n  });\n  const {\n    state: {\n      activeIndex,\n      setActiveIndex,\n      isOpen,\n      setIsOpen,\n      inputValue,\n      setInputValue\n    },\n    refs,\n    listboxId,\n    collection,\n    onInputChange\n  } = listbox;\n  const handleItemSelection = textValue => {\n    const option = collection.size && activeIndex != null ? [...collection.values()][activeIndex] : null;\n    if (option?.item) {\n      addItems([option.item]);\n    } else if (allowCustomValue) {\n      addItems([stringToChipValue(option ? option.value : textValue)]);\n    }\n    setInputValue('');\n    setActiveIndex(null);\n    setIsOpen(false);\n  };\n\n  // position dropdown relative to whole chip field, not the input\n  useLayoutEffect(() => {\n    if (fieldRef.current && refs.reference.current !== fieldRef.current) {\n      listbox.reference(fieldRef.current);\n    }\n  }, [fieldRef, listbox, refs]);\n  const {\n    handleTriggerKeyDown,\n    handleListboxKeyboardNavigation\n  } = useListboxKeyboardNavigation(listbox);\n  const handleFocusAndClick = createEventHandler(() => {\n    if (openMenuOnFocus && !isOpen) {\n      setIsOpen(true);\n    }\n  });\n  return <Listbox listbox={listbox} mobileOverlay={Popover} isLoading={isLoading} onPointerDown={e => {\n    // prevent focus from leaving input when scrolling listbox via mouse\n    e.preventDefault();\n  }}>\n      <input readOnly={readOnly} type=\"text\" className={clsx('mx-8 my-4 min-w-30 flex-[1_1_60px] bg-transparent text-sm outline-none', size === 'xs' ? 'h-20' : 'h-30')} placeholder={placeholder} {...mergeProps(inputProps, {\n      ref: inputRef,\n      value: inputValue,\n      onChange: onInputChange,\n      onPaste: e => {\n        const paste = e.clipboardData.getData('text');\n        const emails = paste.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi);\n        if (emails) {\n          e.preventDefault();\n          const selection = window.getSelection();\n          if (selection?.rangeCount) {\n            selection.deleteFromDocument();\n            addItems(emails.map(email => stringToChipValue(email)));\n          }\n        }\n      },\n      'aria-autocomplete': 'list',\n      'aria-controls': isOpen ? listboxId : undefined,\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      spellCheck: 'false',\n      onKeyDown: e => {\n        if (readOnly) return;\n        const input = e.target;\n        if (e.key === 'Enter') {\n          // prevent form submitting\n          e.preventDefault();\n          // add chip from selected listbox option or current input text value\n          handleItemSelection(input.value);\n          return;\n        }\n\n        // on escape, clear input and close dropdown\n        if (e.key === 'Escape' && isOpen) {\n          setIsOpen(false);\n          setInputValue('');\n        }\n\n        // move focus to input when focus is on first item and prevent arrow up from cycling listbox\n        if (e.key === 'ArrowUp' && isOpen && (activeIndex === 0 || activeIndex == null)) {\n          setActiveIndex(null);\n          return;\n        }\n\n        // block left and right arrows from navigating in input, if focus is on listbox\n        if (activeIndex != null && (e.key === 'ArrowLeft' || e.key === 'ArrowRight')) {\n          e.preventDefault();\n          return;\n        }\n\n        // move focus on the last chip, if focus is at the  start of input\n        if ((e.key === 'ArrowLeft' || e.key === 'Backspace' || e.key === 'Delete') && input.selectionStart === 0 && activeIndex == null && chips.length) {\n          manager?.focusPrevious({\n            tabbable: true\n          });\n          return;\n        }\n\n        // fallthrough to listbox navigation handlers for arrow keys\n        const handled = handleTriggerKeyDown(e);\n        if (!handled) {\n          handleListboxKeyboardNavigation(e);\n        }\n      },\n      onFocus: readOnly ? undefined : handleFocusAndClick,\n      onClick: readOnly ? undefined : handleFocusAndClick\n    })} />\n    </Listbox>;\n}\nfunction useChipFieldValueState({\n  onChange,\n  value,\n  defaultValue,\n  valueKey\n}) {\n  // convert value from string[] to ChipValue[], if needed\n  const propsValue = useMemo(() => {\n    return mixedValueToChipValue(value);\n  }, [value]);\n\n  // convert defaultValue from string[] to ChipValue[], if needed\n  const propsDefaultValue = useMemo(() => {\n    return mixedValueToChipValue(defaultValue);\n  }, [defaultValue]);\n\n  // emit string[] or ChipValue[] on change, based on \"valueKey\" prop\n  const handleChange = useCallback(value => {\n    const newValue = valueKey ? value.map(v => v[valueKey]) : value;\n    onChange?.(newValue);\n  }, [onChange, valueKey]);\n  return useControlledState(!propsValue ? undefined : propsValue, propsDefaultValue || [], handleChange);\n}\nfunction mixedValueToChipValue(value) {\n  if (value == null) {\n    return undefined;\n  }\n  return value.map(v => {\n    return typeof v !== 'object' ? stringToChipValue(v) : v;\n  });\n}\nexport const ChipField = React.forwardRef(ChipFieldInner);","import { createSvgIcon } from '../create-svg-icon';\nexport const DeleteIcon = createSvgIcon(<path d=\"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\" />, 'DeleteOutlined');","export const draggables = new Map();\nexport const droppables = new Map();\nexport const dragMonitors = new Map();\nexport const dragSession = {\n  status: 'inactive'\n};","export function interactableEvent({\n  e,\n  rect,\n  deltaX,\n  deltaY\n}) {\n  return {\n    rect,\n    x: e.clientX,\n    y: e.clientY,\n    deltaX: deltaX ?? 0,\n    deltaY: deltaY ?? 0,\n    nativeEvent: e\n  };\n}","export let activeInteraction = null;\nexport function setActiveInteraction(name) {\n  activeInteraction = name;\n}","export function domRectToObj(rect) {\n  return {\n    left: rect.left,\n    top: rect.top,\n    width: rect.width,\n    height: rect.height\n  };\n}","// use intersection observer instead of getBoundingClientRect for better performance as this will be called in onPointerMove event\n\nexport function updateRects(targets) {\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      const {\n        width,\n        height,\n        left,\n        top\n      } = entry.boundingClientRect;\n      const [id, target] = [...targets].find(([, target]) => target.ref.current === entry.target) || [];\n      if (id == null || target == null) return;\n      const rect = {\n        width,\n        height,\n        left,\n        top\n      };\n      targets.set(id, {\n        ...target,\n        rect\n      });\n    });\n    observer.disconnect();\n  });\n  [...targets.values()].forEach(target => {\n    if (target.ref.current) {\n      observer.observe(target.ref.current);\n    }\n  });\n}","import { useLayoutEffect, useRef } from 'react';\nimport { draggables, dragMonitors, dragSession, droppables } from './drag-state';\nimport { interactableEvent } from '../interactable-event';\nimport { activeInteraction, setActiveInteraction } from '../active-interaction';\nimport { domRectToObj } from '../utils/dom-rect-to-obj';\nimport { updateRects } from './update-rects';\nimport { useGlobalListeners } from '@react-aria/utils';\n\n// Either draggable from within the app, or file dragged in from the desktop\n\nexport function useDraggable({\n  id,\n  disabled,\n  ref,\n  preview,\n  hidePreview,\n  ...options\n}) {\n  const dragHandleRef = useRef(null);\n  const {\n    addGlobalListener,\n    removeAllGlobalListeners\n  } = useGlobalListeners();\n  const state = useRef({\n    lastPosition: {\n      x: 0,\n      y: 0\n    }\n  }).current;\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n  useLayoutEffect(() => {\n    if (!disabled) {\n      draggables.set(id, {\n        ...draggables.get(id),\n        id,\n        ref,\n        type: optionsRef.current.type,\n        getData: optionsRef.current.getData\n      });\n    } else {\n      draggables.delete(id);\n    }\n    return () => {\n      draggables.delete(id);\n    };\n  }, [id, disabled, optionsRef, ref]);\n\n  // notify monitors connected to the same drag type as this draggable\n  const notifyMonitors = callback => {\n    dragMonitors.forEach(monitor => {\n      if (monitor.type === draggables.get(id)?.type) {\n        callback(monitor);\n      }\n    });\n  };\n  const onDragStart = e => {\n    const draggable = draggables.get(id);\n    const el = ref.current;\n    const clickedOnHandle = !dragHandleRef.current || !state.clickedEl || dragHandleRef.current.contains(state.clickedEl);\n\n    // if another interaction is in progress (rotate, resize, drag etc.), bail\n    if (activeInteraction || !el || !draggable || !clickedOnHandle) {\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n    updateRects(droppables);\n    setActiveInteraction('drag');\n\n    // hide default browser ghost image\n    if (hidePreview) {\n      hideNativeGhostImage(e);\n    }\n    // this will hide default browser cursor icon, if \"dropEffect\" is not set in dragOver/dragEnter\n    e.dataTransfer.effectAllowed = 'move';\n    state.lastPosition = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    state.currentRect = domRectToObj(el.getBoundingClientRect());\n    const ie = interactableEvent({\n      rect: state.currentRect,\n      e\n    });\n\n    // If there is a preview option, use it to render a custom preview image that will\n    // appear under the pointer while dragging. If not, the element itself is dragged by the browser.\n    if (preview?.current) {\n      preview.current(draggable, node => {\n        e.dataTransfer.setDragImage(node, 0, 0);\n      });\n    }\n    dragSession.status = 'dragging';\n    dragSession.dragTargetId = id;\n    if (ref.current) {\n      ref.current.dataset.dragging = 'true';\n    }\n    optionsRef.current.onDragStart?.(ie, draggable);\n\n    // wait until next frame so changes made in \"onDragStart\" are reflected in drag monitors\n    requestAnimationFrame(() => {\n      notifyMonitors(m => m.onDragStart?.(ie, draggable));\n    });\n\n    // firefox does not provide clientX/clientY in \"onDrag\", need to listen for dragOver on window instead\n    addGlobalListener(window, 'dragover', onDragOver, true);\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n    if (!state.currentRect) return;\n    const deltaX = e.clientX - state.lastPosition.x;\n    const deltaY = e.clientY - state.lastPosition.y;\n    const newRect = {\n      ...state.currentRect,\n      left: state.currentRect.left + deltaX,\n      top: state.currentRect.top + deltaY\n    };\n    const ie = interactableEvent({\n      rect: newRect,\n      e,\n      deltaX,\n      deltaY\n    });\n    const target = draggables.get(id);\n    if (target) {\n      optionsRef.current.onDragMove?.(ie, target);\n      notifyMonitors(m => m.onDragMove?.(ie, target));\n    }\n    state.lastPosition = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    state.currentRect = newRect;\n  };\n  const onDragEnd = e => {\n    removeAllGlobalListeners();\n    if (!state.currentRect) return;\n    setActiveInteraction(null);\n    if (emptyImage) {\n      emptyImage.remove();\n    }\n    const ie = interactableEvent({\n      rect: state.currentRect,\n      e\n    });\n    const draggable = draggables.get(id);\n    if (draggable) {\n      optionsRef.current.onDragEnd?.(ie, draggable);\n      notifyMonitors(m => m.onDragEnd?.(ie, draggable, dragSession.status));\n    }\n\n    // wait a frame before clearing so monitors have a chance to use drag session status\n    requestAnimationFrame(() => {\n      dragSession.dragTargetId = undefined;\n      dragSession.status = 'inactive';\n      if (ref.current) {\n        delete ref.current.dataset.dragging;\n      }\n    });\n  };\n  const draggableProps = {\n    draggable: !disabled,\n    onDragStart,\n    onDragEnd,\n    onPointerDown: e => {\n      state.clickedEl = e.target;\n    }\n  };\n  return {\n    draggableProps,\n    dragHandleRef\n  };\n}\nlet emptyImage;\nfunction hideNativeGhostImage(e) {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    // image needs to be in the dom to prevent \"globe\" icon in chrome\n    document.body.append(emptyImage);\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n  e.dataTransfer.setDragImage(emptyImage, 0, 0);\n}","import { UploadedFile } from '@ui/utils/files/uploaded-file';\nexport async function* readFilesFromDataTransfer(dataTransfer) {\n  const entries = [];\n\n  // Pull out all entries before reading them, otherwise\n  // some entries will be lost due to recursion with promises\n  for (const item of dataTransfer.items) {\n    if (item.kind === 'file') {\n      const entry = item.webkitGetAsEntry();\n      if (entry) {\n        entries.push(entry);\n      }\n    }\n  }\n  for (const entry of entries) {\n    if (entry.isFile) {\n      if (entry.name === '.DS_Store') continue;\n      const file = await getEntryFile(entry);\n      yield new UploadedFile(file, entry.fullPath);\n    } else if (entry.isDirectory) {\n      yield* getEntriesFromDirectory(entry);\n    }\n  }\n}\nasync function* getEntriesFromDirectory(item) {\n  const reader = item.createReader();\n\n  // We must call readEntries repeatedly because there may be a limit to the\n  // number of entries that are returned at once.\n  let entries;\n  do {\n    entries = await new Promise((resolve, reject) => {\n      reader.readEntries(resolve, reject);\n    });\n    for (const entry of entries) {\n      if (entry.isFile) {\n        if (entry.name === '.DS_Store') continue;\n        const file = await getEntryFile(entry);\n        yield new UploadedFile(file, entry.fullPath);\n      } else if (entry.isDirectory) {\n        yield* getEntriesFromDirectory(entry);\n      }\n    }\n  } while (entries.length > 0);\n}\nfunction getEntryFile(entry) {\n  return new Promise((resolve, reject) => entry.file(resolve, reject));\n}","export async function asyncIterableToArray(iterator) {\n  const items = [];\n  for await (const item of iterator) {\n    items.push(item);\n  }\n  return items;\n}","import { useLayoutEffect, useRef } from 'react';\nimport { draggables, dragSession, droppables } from './drag-state';\nimport { readFilesFromDataTransfer } from './read-files-from-data-transfer';\nimport { asyncIterableToArray } from '@ui/utils/array/async-iterable-to-array';\n\n// File dragged in from desktop\n\nconst DROP_ACTIVATE_TIMEOUT = 400;\nexport function useDroppable({\n  id,\n  disabled,\n  ref,\n  ...options\n}) {\n  const state = useRef({\n    dragOverElements: new Set(),\n    dropActivateTimer: undefined\n  }).current;\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n  useLayoutEffect(() => {\n    droppables.set(id, {\n      ...droppables.get(id),\n      disabled,\n      id,\n      ref\n    });\n    return () => {\n      droppables.delete(id);\n    };\n  }, [id, optionsRef, disabled, ref]);\n\n  // check if drop target accepts drag target\n  const canDrop = draggable => {\n    const options = optionsRef.current;\n    const allowEventsOnSelf = options.allowDragEventsFromItself || ref.current !== draggable.ref?.current;\n    return !!(draggable?.type && allowEventsOnSelf && options.types.includes(draggable.type) && (!options.acceptsDrop || options.acceptsDrop(draggable)));\n  };\n  const fireDragLeave = e => {\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n    }\n  };\n  const onDragEnter = e => {\n    e.stopPropagation();\n    state.dragOverElements.add(e.target);\n    if (state.dragOverElements.size > 1) {\n      return;\n    }\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      optionsRef.current.onDragEnter?.(draggable);\n      clearTimeout(state.dropActivateTimer);\n      if (typeof optionsRef.current.onDropActivate === 'function') {\n        state.dropActivateTimer = setTimeout(() => {\n          if (draggable) {\n            optionsRef.current.onDropActivate?.(draggable);\n          }\n        }, DROP_ACTIVATE_TIMEOUT);\n      }\n    }\n  };\n  const onDragLeave = e => {\n    e.stopPropagation();\n\n    // Track all the targets of dragenter events in a set, and remove them\n    // in dragleave. When the set becomes empty, we've left the drop target completely.\n    // We must also remove any elements that are no longer in the DOM, because dragleave\n    // events will never be fired for these. This can happen, for example, with drop\n    // indicators between items, which disappear when the drop target changes.\n    state.dragOverElements.delete(e.target);\n    for (const element of state.dragOverElements) {\n      if (!e.currentTarget.contains(element)) {\n        state.dragOverElements.delete(element);\n      }\n    }\n    if (state.dragOverElements.size > 0) {\n      return;\n    }\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      fireDragLeave(e);\n      clearTimeout(state.dropActivateTimer);\n    }\n  };\n  const onDrop = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    state.dragOverElements.clear();\n    fireDragLeave(e);\n    clearTimeout(state.dropActivateTimer);\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n\n      // drop target does not accept this type of droppable\n      if (!canDrop(draggable)) {\n        if (dragSession.status !== 'inactive') {\n          dragSession.status = 'dropFail';\n        }\n        // drop target accepts this type, but it might still reject the drop in callback\n      } else {\n        // allow callback to mark drop as failed\n        const dropResult = optionsRef.current.onDrop?.(draggable);\n\n        // drag session will only be active for draggables within the app, never for files dragged in from desktop\n        if (dragSession.status !== 'inactive') {\n          dragSession.status = dropResult === false ? 'dropFail' : 'dropSuccess';\n        }\n      }\n    }\n  };\n  const droppableProps = {\n    onDragOver: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      const draggable = getDraggable(e);\n      if (draggable && canDrop(draggable)) {\n        optionsRef.current.onDragOver?.(draggable, e);\n      }\n    },\n    onDragEnter,\n    onDragLeave,\n    onDrop\n  };\n  return {\n    droppableProps: disabled ? {} : droppableProps\n  };\n}\nfunction getDraggable(e) {\n  if (dragSession.dragTargetId != null) {\n    return draggables.get(dragSession.dragTargetId);\n  } else if (e.dataTransfer.types.includes('Files')) {\n    return {\n      type: 'nativeFile',\n      el: null,\n      ref: null,\n      getData: () => {\n        return asyncIterableToArray(readFilesFromDataTransfer(e.dataTransfer));\n      }\n    };\n  }\n}","export const EMPTY_PAGINATION_RESPONSE = {\n  pagination: {\n    data: [],\n    from: 0,\n    to: 0,\n    per_page: 15,\n    current_page: 1\n  }\n};\nexport function hasPreviousPage(pagination) {\n  if ('prev_cursor' in pagination) {\n    return pagination.prev_cursor != null;\n  }\n  if ('prev_page' in pagination) {\n    return pagination.prev_page != null;\n  }\n  return pagination.current_page > 1;\n}\nexport function hasNextPage(pagination) {\n  if ('next_cursor' in pagination) {\n    return pagination.next_cursor != null;\n  }\n  if ('last_page' in pagination) {\n    return pagination.current_page < pagination.last_page;\n  }\n  if ('next_page' in pagination) {\n    return pagination.next_page != null;\n  }\n  return pagination.data.length > 0 && pagination.data.length >= pagination.per_page;\n}","export let FilterControlType = /*#__PURE__*/function (FilterControlType) {\n  FilterControlType[\"Select\"] = \"select\";\n  FilterControlType[\"DateRangePicker\"] = \"dateRangePicker\";\n  FilterControlType[\"SelectModel\"] = \"selectModel\";\n  FilterControlType[\"Input\"] = \"input\";\n  FilterControlType[\"BooleanToggle\"] = \"booleanToggle\";\n  FilterControlType[\"ChipField\"] = \"chipField\";\n  FilterControlType[\"Custom\"] = \"custom\";\n  return FilterControlType;\n}({});\nexport let FilterOperator = /*#__PURE__*/function (FilterOperator) {\n  FilterOperator[\"eq\"] = \"=\";\n  FilterOperator[\"ne\"] = \"!=\";\n  FilterOperator[\"gt\"] = \">\";\n  FilterOperator[\"gte\"] = \">=\";\n  FilterOperator[\"lt\"] = \"<\";\n  FilterOperator[\"lte\"] = \"<=\";\n  FilterOperator[\"has\"] = \"has\";\n  FilterOperator[\"notNull\"] = \"notNull\";\n  FilterOperator[\"contains\"] = \"contains\";\n  FilterOperator[\"notContains\"] = \"notContains\";\n  FilterOperator[\"startsWith\"] = \"startsWith\";\n  FilterOperator[\"endsWith\"] = \"endsWith\";\n  FilterOperator[\"hasAll\"] = \"hasAll\";\n  FilterOperator[\"doesntHave\"] = \"doesntHave\";\n  FilterOperator[\"between\"] = \"between\";\n  return FilterOperator;\n}({});\nexport const ALL_STRING_OPERATORS = [FilterOperator.eq, FilterOperator.ne, FilterOperator.contains, FilterOperator.notContains, FilterOperator.startsWith, FilterOperator.endsWith, FilterOperator.notNull];\nexport const ALL_NUMBER_OPERATORS = [FilterOperator.eq, FilterOperator.ne, FilterOperator.gt, FilterOperator.gte, FilterOperator.lt, FilterOperator.lte, FilterOperator.notNull];","export const USER_MODEL = 'user';","import React, { Fragment, useRef } from 'react';\nimport { DateRangeIcon } from '@ui/icons/material/DateRange';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { DatePickerField } from './date-picker-field';\nimport { useDateRangePickerState } from './use-date-range-picker-state';\nimport { ArrowRightAltIcon } from '@ui/icons/material/ArrowRightAlt';\nimport { DateSegmentList } from '../segments/date-segment-list';\nimport { DateRangeDialog } from './dialog/date-range-dialog';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nexport function DateRangePicker(props) {\n  const {\n    granularity,\n    closeDialogOnSelection,\n    ...fieldProps\n  } = props;\n  const state = useDateRangePickerState(props);\n  const inputRef = useRef(null);\n  const isMobile = useIsMobileMediaQuery();\n  const hideCalendarIcon = isMobile && granularity !== 'day';\n  const dialog = <DialogTrigger offset={8} placement=\"bottom-start\" isOpen={state.calendarIsOpen} onOpenChange={state.setCalendarIsOpen} type=\"popover\" triggerRef={inputRef} returnFocusToTrigger={false} moveFocusToDialog={false}>\n      <DateRangeDialog state={state} />\n    </DialogTrigger>;\n  const openOnClick = {\n    onClick: e => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!isHourSegment(e)) {\n        state.setCalendarIsOpen(true);\n      } else {\n        state.setCalendarIsOpen(false);\n      }\n    }\n  };\n  const value = state.selectedValue;\n  const onChange = state.setSelectedValue;\n  return <Fragment>\n      <DatePickerField ref={inputRef} wrapperProps={openOnClick} endAdornment={!hideCalendarIcon ? <DateRangeIcon /> : undefined} {...fieldProps}>\n        <DateSegmentList isPlaceholder={state.isPlaceholder?.start} state={state} segmentProps={openOnClick} value={value.start} onChange={newValue => {\n        onChange({\n          start: newValue,\n          end: value.end\n        });\n      }} />\n        <ArrowRightAltIcon className=\"block flex-shrink-0 text-muted\" size=\"md\" />\n        <DateSegmentList isPlaceholder={state.isPlaceholder?.end} state={state} segmentProps={openOnClick} value={value.end} onChange={newValue => {\n        onChange({\n          start: value.start,\n          end: newValue\n        });\n      }} />\n      </DatePickerField>\n      {dialog}\n    </Fragment>;\n}\nfunction isHourSegment(e) {\n  return ['hour', 'minute', 'dayPeriod'].includes(e.currentTarget.ariaLabel || '');\n}","import { parseAbsoluteToLocal } from '@internationalized/date';\nimport { useController } from 'react-hook-form';\nimport { mergeProps } from '@react-aria/utils';\nimport React from 'react';\nimport { DateRangePicker } from './date-range-picker';\nexport function FormDateRangePicker(props) {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value,\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name\n  });\n  const formProps = {\n    onChange: e => {\n      onChange(e ? dateRangeToAbsoluteRange(e) : null);\n    },\n    onBlur,\n    value: absoluteRangeToDateRange(value),\n    invalid,\n    errorMessage: error?.message,\n    inputRef: ref\n  };\n  return <DateRangePicker {...mergeProps(formProps, props)} />;\n}\nexport function absoluteRangeToDateRange(props) {\n  const {\n    start,\n    end,\n    preset\n  } = props || {};\n  const dateRange = {\n    preset\n  };\n  try {\n    if (start) {\n      dateRange.start = typeof start === 'string' ? parseAbsoluteToLocal(start) : start;\n    }\n    if (end) {\n      dateRange.end = typeof end === 'string' ? parseAbsoluteToLocal(end) : end;\n    }\n  } catch (e) {\n    // ignore\n  }\n  return dateRange;\n}\nexport function dateRangeToAbsoluteRange({\n  start,\n  end,\n  preset\n} = {}) {\n  const absoluteRange = {\n    preset\n  };\n  if (start) {\n    absoluteRange.start = start.toAbsoluteString();\n  }\n  if (end) {\n    absoluteRange.end = end.toAbsoluteString();\n  }\n  return absoluteRange;\n}","import { FilterControlType, FilterOperator } from './backend-filter';\nimport { DateRangePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport { message } from '@ui/i18n/message';\nimport { dateRangeToAbsoluteRange } from '@ui/forms/input-field/date/date-range-picker/form-date-range-picker';\nexport function timestampFilter(options) {\n  return {\n    ...options,\n    defaultOperator: FilterOperator.between,\n    control: {\n      type: FilterControlType.DateRangePicker,\n      defaultValue: options.control?.defaultValue || dateRangeToAbsoluteRange(DateRangePresets[3].getRangeValue())\n    }\n  };\n}\nexport function createdAtFilter(options) {\n  return timestampFilter({\n    key: 'created_at',\n    label: message('Date created'),\n    ...options\n  });\n}\nexport function updatedAtFilter(options) {\n  return timestampFilter({\n    key: 'updated_at',\n    label: message('Last updated'),\n    ...options\n  });\n}","import { FilterControlType, FilterOperator } from '../../datatable/filters/backend-filter';\nimport { message } from '@ui/i18n/message';\nimport { USER_MODEL } from '@ui/types/user';\nimport { createdAtFilter, updatedAtFilter } from '@common/datatable/filters/timestamp-filters';\nexport const FILE_ENTRY_TYPE_FILTER = {\n  key: 'type',\n  label: message('Type'),\n  description: message('Type of the file'),\n  defaultOperator: FilterOperator.eq,\n  control: {\n    type: FilterControlType.Select,\n    defaultValue: '05',\n    options: [{\n      key: '02',\n      label: message('Text'),\n      value: 'text'\n    }, {\n      key: '03',\n      label: message('Audio'),\n      value: 'audio'\n    }, {\n      key: '04',\n      label: message('Video'),\n      value: 'video'\n    }, {\n      key: '05',\n      label: message('Image'),\n      value: 'image'\n    }, {\n      key: '06',\n      label: message('PDF'),\n      value: 'pdf'\n    }, {\n      key: '07',\n      label: message('Spreadsheet'),\n      value: 'spreadsheet'\n    }, {\n      key: '08',\n      label: message('Word Document'),\n      value: 'word'\n    }, {\n      key: '09',\n      label: message('Photoshop'),\n      value: 'photoshop'\n    }, {\n      key: '10',\n      label: message('Archive'),\n      value: 'archive'\n    }, {\n      key: '11',\n      label: message('Folder'),\n      value: 'folder'\n    }]\n  }\n};\nexport const FILE_ENTRY_INDEX_FILTERS = [FILE_ENTRY_TYPE_FILTER, {\n  key: 'public',\n  label: message('Visibility'),\n  description: message('Whether file is publicly accessible'),\n  defaultOperator: FilterOperator.eq,\n  control: {\n    type: FilterControlType.Select,\n    defaultValue: '01',\n    options: [{\n      key: '01',\n      label: message('Private'),\n      value: false\n    }, {\n      key: '02',\n      label: message('Public'),\n      value: true\n    }]\n  }\n}, createdAtFilter({\n  description: message('Date file was uploaded')\n}), updatedAtFilter({\n  description: message('Date file was last changed')\n}), {\n  key: 'owner_id',\n  label: message('Uploader'),\n  description: message('User that this file was uploaded by'),\n  defaultOperator: FilterOperator.eq,\n  control: {\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL\n  }\n}];","export const BackendFiltersUrlKey = 'filters';","export function decodeBackendFilters(encodedFilters) {\n  if (!encodedFilters) return [];\n  let filtersFromQuery = [];\n  try {\n    filtersFromQuery = JSON.parse(atob(decodeURIComponent(encodedFilters)));\n    filtersFromQuery.map(filterValue => {\n      // set value key as value so selects work properly\n      if (filterValue.valueKey != null) {\n        filterValue.value = filterValue.valueKey;\n      }\n      return filterValue;\n    });\n  } catch (e) {\n    //\n  }\n  return filtersFromQuery;\n}","export function encodeBackendFilters(filterValues, filters) {\n  if (!filterValues) return '';\n\n  // prepare values for backend\n  filterValues = !filters ? filterValues : filterValues.filter(item => item.value !== '').map(item => transformValue(item, filters));\n\n  // remove all placeholder filters\n  filterValues = filterValues.filter(fm => !fm.isInactive);\n  if (!filterValues.length) {\n    return '';\n  }\n  return encodeURIComponent(btoa(JSON.stringify(filterValues)));\n}\nfunction transformValue(filterValue, filters) {\n  const filterConfig = filters.find(f => f.key === filterValue.key);\n  // select components will use a key always, because we can't use objects as\n  // value. Map over select options and replace key with actual value\n  if (filterConfig?.control.type === 'select') {\n    const option = (filterConfig.control.options || []).find(o => o.key === filterValue.value);\n    // if it's language or country select, there might not be an option\n    if (option) {\n      return {\n        ...filterValue,\n        value: option.value,\n        valueKey: option.key\n      };\n    }\n  }\n  if (filterConfig?.extraFilters?.length) {\n    filterValue['extraFilters'] = filterConfig.extraFilters;\n  }\n  return filterValue;\n}","import { useNavigate, useSearchParams } from 'react-router';\nimport { useCallback, useMemo } from 'react';\nimport { BackendFiltersUrlKey } from './backend-filters-url-key';\nimport { decodeBackendFilters } from './utils/decode-backend-filters';\nimport { encodeBackendFilters } from './utils/encode-backend-filters';\nexport function useBackendFilterUrlParams(filters, pinnedFilters) {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const encodedFilters = searchParams.get(BackendFiltersUrlKey);\n  const decodedFilters = useMemo(() => {\n    if (!filters) return [];\n    const decoded = decodeBackendFilters(encodedFilters);\n\n    // if filter is pinned, and it is not applied yet, add a placeholder\n    (pinnedFilters || []).forEach(key => {\n      if (!decoded.find(f => f.key === key)) {\n        const config = filters.find(f => f.key === key);\n        decoded.push({\n          key,\n          value: config.control.defaultValue,\n          operator: config.defaultOperator,\n          isInactive: true\n        });\n      }\n    });\n\n    // preserve original filter order from configuration\n    decoded.sort((a, b) => filters.findIndex(f => f.key === a.key) - filters.findIndex(f => f.key === b.key));\n    return decoded;\n  }, [encodedFilters, pinnedFilters, filters]);\n  const getDecodedWithoutKeys = useCallback(values => {\n    const newFilters = [...decodedFilters];\n    values.forEach(value => {\n      const key = typeof value === 'object' ? value.key : value;\n      const index = newFilters.findIndex(f => f.key === key);\n      if (index > -1) {\n        newFilters.splice(index, 1);\n      }\n    });\n    return newFilters;\n  }, [decodedFilters]);\n  const replaceAll = useCallback(filterValues => {\n    const encodedFilters = encodeBackendFilters(filterValues, filters);\n    if (encodedFilters) {\n      searchParams.set(BackendFiltersUrlKey, encodedFilters);\n    } else {\n      searchParams.delete(BackendFiltersUrlKey);\n    }\n    navigate({\n      search: `?${searchParams}`\n    }, {\n      replace: true\n    });\n  }, [filters, navigate, searchParams]);\n  const add = useCallback(filterValues => {\n    const existing = getDecodedWithoutKeys(filterValues);\n    const decodedFilters = [...existing, ...filterValues];\n    replaceAll(decodedFilters);\n  }, [getDecodedWithoutKeys, replaceAll]);\n  const remove = useCallback(key => replaceAll(getDecodedWithoutKeys([key])), [getDecodedWithoutKeys, replaceAll]);\n  return {\n    add,\n    remove,\n    replaceAll,\n    decodedFilters,\n    encodedFilters\n  };\n}","import { FilterControlType } from '../backend-filter';\nimport { forwardRef } from 'react';\nimport { Button } from '@ui/buttons/button';\nimport { KeyboardArrowDownIcon } from '@ui/icons/material/KeyboardArrowDown';\nimport { Trans } from '@ui/i18n/trans';\nimport clsx from 'clsx';\nexport const FilterListTriggerButton = forwardRef((props, ref) => {\n  // pass through all props from menu trigger and dialog trigger to button\n  const {\n    isInactive,\n    filter,\n    ...domProps\n  } = props;\n  if (isInactive) {\n    return <InactiveFilterButton filter={filter} {...domProps} ref={ref} />;\n  }\n  return <ActiveFilterButton filter={filter} {...domProps} ref={ref} />;\n});\nexport const InactiveFilterButton = forwardRef(({\n  filter,\n  ...domProps\n}, ref) => {\n  return <Button variant=\"outline\" size=\"xs\" color=\"paper\" radius=\"rounded-md\" border=\"border\" ref={ref} endIcon={<KeyboardArrowDownIcon />} {...domProps}>\n      <Trans {...filter.label} />\n    </Button>;\n});\nexport const ActiveFilterButton = forwardRef(({\n  filter,\n  children,\n  ...domProps\n}, ref) => {\n  const isBoolean = filter.control.type === FilterControlType.BooleanToggle;\n  return <Button variant=\"outline\" size=\"xs\" color=\"primary\" radius=\"rounded-r-md\" border=\"border-y border-r\" endIcon={!isBoolean && <KeyboardArrowDownIcon />} ref={ref} {...domProps}>\n      <span className={clsx(!isBoolean && 'mr-8 border-r border-r-primary-light pr-8')}>\n        <Trans {...filter.label} />\n      </span>\n      {children}\n    </Button>;\n});","import { FormSelect } from '@ui/forms/select/select';\nimport { Item } from '@ui/forms/listbox/item';\nimport { Trans } from '@ui/i18n/trans';\nimport { useTrans } from '@ui/i18n/use-trans';\nexport function SelectFilterPanel({\n  filter\n}) {\n  const {\n    trans\n  } = useTrans();\n  return <FormSelect size=\"sm\" name={`${filter.key}.value`} selectionMode=\"single\" showSearchField={filter.control.showSearchField} placeholder={filter.control.placeholder ? trans(filter.control.placeholder) : undefined} searchPlaceholder={filter.control.searchPlaceholder ? trans(filter.control.searchPlaceholder) : undefined}>\n      {filter.control.options.map(option => <Item key={option.key} value={option.key}>\n          {typeof option.label === 'string' ? option.label : <Trans {...option.label} />}\n        </Item>)}\n    </FormSelect>;\n}","import { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { FilterListTriggerButton } from './filter-list-trigger-button';\nimport { useForm } from 'react-hook-form';\nimport { useDialogContext } from '@ui/overlays/dialog/dialog-context';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nimport { DialogHeader } from '@ui/overlays/dialog/dialog-header';\nimport { Trans } from '@ui/i18n/trans';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { Form } from '@ui/forms/form';\nimport { DialogFooter } from '@ui/overlays/dialog/dialog-footer';\nimport { Button } from '@ui/buttons/button';\nexport function FilterListItemDialogTrigger(props) {\n  const {\n    onValueChange,\n    isInactive,\n    filter,\n    label\n  } = props;\n  return <DialogTrigger offset={10} type=\"popover\" onClose={value => {\n    if (value !== undefined) {\n      onValueChange(value);\n    }\n  }}>\n      <FilterListTriggerButton isInactive={isInactive} filter={filter}>\n        {label}\n      </FilterListTriggerButton>\n      <FilterListControlDialog {...props} />\n    </DialogTrigger>;\n}\nexport function FilterListControlDialog({\n  filter,\n  panel,\n  value,\n  operator\n}) {\n  const form = useForm({\n    defaultValues: {\n      [filter.key]: {\n        value,\n        operator\n      }\n    }\n  });\n  const {\n    close,\n    formId\n  } = useDialogContext();\n  return <Dialog size=\"xs\">\n      <DialogHeader>\n        <Trans {...filter.label} />\n      </DialogHeader>\n      <DialogBody padding=\"px-14 pt-14 pb-4 max-h-288\">\n        <Form form={form} id={formId} onSubmit={formValue => {\n        close(formValue[filter.key]);\n      }}>\n          {filter.description && <div className=\"mb-14 text-xs text-muted\">\n              <Trans {...filter.description} />\n            </div>}\n          {panel}\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button form={formId} type=\"submit\" variant=\"flat\" color=\"primary\" size=\"xs\">\n          <Trans message=\"Apply\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>;\n}","import { keepPreviousData, useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../../http/query-client';\nexport function useNormalizedModels(endpoint, queryParams, queryOptions) {\n  return useQuery({\n    queryKey: [...endpoint.split('/'), queryParams],\n    queryFn: () => fetchModels(endpoint, queryParams),\n    placeholderData: keepPreviousData,\n    ...queryOptions\n  });\n}\nasync function fetchModels(endpoint, params) {\n  return apiClient.get(endpoint, {\n    params\n  }).then(r => {\n    if ('results' in r.data) {\n      return r.data;\n    } else {\n      const results = Object.values(r.data).find(v => Array.isArray(v));\n      return {\n        results\n      };\n    }\n  });\n}","import { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../../http/query-client';\nexport function useNormalizedModel(endpoint, queryParams, queryOptions) {\n  return useQuery({\n    queryKey: [endpoint, queryParams],\n    queryFn: () => fetchModel(endpoint, queryParams),\n    ...queryOptions\n  });\n}\nasync function fetchModel(endpoint, params) {\n  return apiClient.get(endpoint, {\n    params\n  }).then(r => r.data);\n}","import React, { useRef, useState } from 'react';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { Trans } from '@ui/i18n/trans';\nimport { Avatar } from '@ui/avatar/avatar';\nimport { Tooltip } from '@ui/tooltip/tooltip';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { message } from '@ui/i18n/message';\nimport { Item } from '@ui/forms/listbox/item';\nimport { useController, useFormContext } from 'react-hook-form';\nimport { useControlledState } from '@react-stately/utils';\nimport { getInputFieldClassNames } from '@ui/forms/input-field/get-input-field-class-names';\nimport clsx from 'clsx';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nimport { useNormalizedModels } from '@common/ui/normalized-model/use-normalized-models';\nimport { useNormalizedModel } from '@common/ui/normalized-model/use-normalized-model';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nimport { Select } from '@ui/forms/select/select';\nimport { EditIcon } from '@ui/icons/material/Edit';\nexport function NormalizedModelField({\n  label,\n  className,\n  background,\n  value,\n  defaultValue = '',\n  placeholder = message('Select item...'),\n  searchPlaceholder = message('Find an item...'),\n  onChange,\n  description,\n  errorMessage,\n  invalid,\n  autoFocus,\n  queryParams,\n  endpoint,\n  disabled,\n  required\n}) {\n  const inputRef = useRef(null);\n  const [inputValue, setInputValue] = useState('');\n  const [selectedValue, setSelectedValue] = useControlledState(value, defaultValue, onChange);\n  const query = useNormalizedModels(endpoint, {\n    query: inputValue,\n    ...queryParams\n  });\n  const {\n    trans\n  } = useTrans();\n  const fieldClassNames = getInputFieldClassNames({\n    size: 'md'\n  });\n  if (selectedValue) {\n    return <div className={className}>\n        <div className={fieldClassNames.label}>{label}</div>\n        <div className={clsx('rounded-input border p-8', background, invalid && 'border-danger')}>\n          <AnimatePresence initial={false} mode=\"wait\">\n            <SelectedModelPreview disabled={disabled} endpoint={endpoint} modelId={selectedValue} queryParams={queryParams} onEditClick={() => {\n            setSelectedValue('');\n            setInputValue('');\n            requestAnimationFrame(() => {\n              inputRef.current?.focus();\n              inputRef.current?.click();\n            });\n          }} />\n          </AnimatePresence>\n        </div>\n        {description && !errorMessage && <div className={fieldClassNames.description}>{description}</div>}\n        {errorMessage && <div className={fieldClassNames.error}>{errorMessage}</div>}\n      </div>;\n  }\n  return <Select className={className} showSearchField invalid={invalid} errorMessage={errorMessage} description={description} color=\"white\" isAsync background={background} placeholder={trans(placeholder)} searchPlaceholder={trans(searchPlaceholder)} label={label} isLoading={query.isFetching} items={query.data?.results} inputValue={inputValue} onInputValueChange={setInputValue} selectionMode=\"single\" selectedValue={selectedValue} onSelectionChange={setSelectedValue} ref={inputRef} autoFocus={autoFocus} disabled={disabled} required={required}>\n      {model => <Item value={model.id} key={model.id} description={model.description} startIcon={<Avatar src={model.image} size=\"sm\" label={model.name} />}>\n          {model.name}\n        </Item>}\n    </Select>;\n}\nfunction SelectedModelPreview({\n  modelId,\n  onEditClick,\n  endpoint,\n  disabled,\n  queryParams\n}) {\n  const {\n    data,\n    isLoading\n  } = useNormalizedModel(`${endpoint}/${modelId}`, queryParams);\n  if (isLoading || !data?.model) {\n    return <LoadingSkeleton key=\"skeleton\" />;\n  }\n  return <m.div className={clsx('flex items-center gap-10', disabled && 'pointer-events-none cursor-not-allowed text-disabled')} key=\"preview\" {...opacityAnimation}>\n      <Avatar src={data.model.image} label={data.model.name} />\n      <div>\n        <div className=\"text-sm leading-4\">{data.model.name}</div>\n        <div className=\"text-xs text-muted\">{data.model.description}</div>\n      </div>\n      <Tooltip label={<Trans message=\"Change item\" />}>\n        <IconButton className=\"ml-auto text-muted\" size=\"sm\" onClick={onEditClick} disabled={disabled}>\n          <EditIcon />\n        </IconButton>\n      </Tooltip>\n    </m.div>;\n}\nfunction LoadingSkeleton() {\n  return <m.div className=\"flex items-center gap-10\" {...opacityAnimation}>\n      <Skeleton variant=\"rect\" size=\"w-32 h-32\" />\n      <div className=\"max-h-[36px] flex-auto\">\n        <Skeleton className=\"text-xs\" />\n        <Skeleton className=\"max-h-8 text-xs\" />\n      </div>\n      <Skeleton variant=\"icon\" size=\"w-24 h-24\" />\n    </m.div>;\n}\nexport function FormNormalizedModelField({\n  name,\n  ...fieldProps\n}) {\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    field: {\n      onChange,\n      value = ''\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name\n  });\n  return <NormalizedModelField value={value} onChange={value => {\n    onChange(value);\n    clearErrors(name);\n  }} invalid={invalid} errorMessage={error?.message} {...fieldProps} />;\n}","import { FormNormalizedModelField } from '@common/ui/normalized-model/normalized-model-field';\nexport function NormalizedModelFilterPanel({\n  filter\n}) {\n  return <FormNormalizedModelField name={`${filter.key}.value`} endpoint={filter.control.endpoint ? filter.control.endpoint : `normalized-models/${filter.control.model}`} />;\n}","import { FormDateRangePicker } from '@ui/forms/input-field/date/date-range-picker/form-date-range-picker';\nexport function DateRangeFilterPanel({\n  filter\n}) {\n  return <FormDateRangePicker min={filter.control.min} max={filter.control.max} size=\"sm\" name={`${filter.key}.value`} granularity=\"day\" closeDialogOnSelection={true} />;\n}","import { message } from '@ui/i18n/message';\nexport const FilterOperatorNames = {\n  '=': message('is'),\n  '!=': message('is not'),\n  '>': message('is greater than'),\n  '>=': message('is greater than or equal to'),\n  '<': message('is less than'),\n  '<=': message('is less than or equal to'),\n  notNull: message('has any value'),\n  contains: message('contains'),\n  notContains: message('does not contain'),\n  startsWith: message('starts with'),\n  endsWith: message('ends with'),\n  has: message('Include'),\n  doesntHave: message('Do not include'),\n  between: message('Is between'),\n  hasAll: message('Include all')\n};","import { FormTextField } from '@ui/forms/input-field/text-field/text-field';\nimport { Trans } from '@ui/i18n/trans';\nimport { FormSelect } from '@ui/forms/select/select';\nimport { Item } from '@ui/forms/listbox/item';\nimport { FilterOperatorNames } from '@common/datatable/filters/filter-operator-names';\nimport { Fragment } from 'react';\nimport { useFormContext, useWatch } from 'react-hook-form';\nexport function InputFilterPanel({\n  filter\n}) {\n  const control = filter.control;\n  const form = useFormContext();\n  const selectedOperator = useWatch({\n    control: form.control,\n    name: `${filter.key}.operator`\n  });\n  return <Fragment>\n      {filter.operators?.length ? <FormSelect selectionMode=\"single\" name={`${filter.key}.operator`} className=\"mb-14\" size=\"sm\">\n          {filter.operators?.map(operator => <Item key={operator} value={operator}>\n              {<Trans {...FilterOperatorNames[operator]} />}\n            </Item>)}\n        </FormSelect> : null}\n      {selectedOperator === 'notNull' ? null : <FormTextField size=\"sm\" name={`${filter.key}.value`} type={filter.control.inputType} min={'minValue' in control ? control.minValue : undefined} max={'maxValue' in control ? control.maxValue : undefined} minLength={'minLength' in control ? control.minLength : undefined} maxLength={'maxLength' in control ? control.maxLength : undefined} />}\n    </Fragment>;\n}","import { useController } from 'react-hook-form';\nimport { mergeProps } from '@react-aria/utils';\nimport React from 'react';\nimport { ChipField } from './chip-field';\nexport function FormChipField({\n  children,\n  ...props\n}) {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = [],\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name\n  });\n  const formProps = {\n    onChange,\n    onBlur,\n    value,\n    invalid,\n    errorMessage: error?.message\n  };\n  return <ChipField ref={ref} {...mergeProps(formProps, props)}>\n      {children}\n    </ChipField>;\n}","import { Item } from '@ui/forms/listbox/item';\nimport { FormChipField } from '@ui/forms/input-field/chip-field/form-chip-field';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { Trans } from '@ui/i18n/trans';\nexport function ChipFieldFilterPanel({\n  filter\n}) {\n  const {\n    trans\n  } = useTrans();\n  return <FormChipField size=\"sm\" name={`${filter.key}.value`} valueKey=\"id\" allowCustomValue={false} showDropdownArrow placeholder={filter.control.placeholder ? trans(filter.control.placeholder) : undefined} displayWith={chip => {\n    const o = filter.control.options.find(o => o.key === chip.id);\n    if (!o) return undefined;\n    return typeof o.label === 'string' ? o.label : o.label.message;\n  }} suggestions={filter.control.options.map(o => ({\n    id: o.key,\n    name: typeof o.label === 'string' ? o.label : o.label.message\n  }))}>\n      {chip => <Item key={chip.id} value={chip.id}>\n          {<Trans message={chip.name} />}\n        </Item>}\n    </FormChipField>;\n}","import { FilterControlType } from '../backend-filter';\nimport { FilterListTriggerButton } from './filter-list-trigger-button';\nimport { Trans } from '@ui/i18n/trans';\nimport { SelectFilterPanel } from '../panels/select-filter-panel';\nimport { FilterListItemDialogTrigger } from './filter-list-item-dialog-trigger';\nimport { Avatar } from '@ui/avatar/avatar';\nimport { NormalizedModelFilterPanel } from '../panels/normalized-model-filter-panel';\nimport { DateRangeFilterPanel } from '../panels/date-range-filter-panel';\nimport { Fragment } from 'react';\nimport { DateRangePresets } from '@ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport { FormattedDateTimeRange } from '@ui/i18n/formatted-date-time-range';\nimport { InputFilterPanel } from '../panels/input-filter-panel';\nimport { FilterOperatorNames } from '../filter-operator-names';\nimport { useNormalizedModel } from '@common/ui/normalized-model/use-normalized-model';\nimport { Skeleton } from '@ui/skeleton/skeleton';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { ChipFieldFilterPanel } from '@common/datatable/filters/panels/chip-field-filter-panel';\nimport { FormattedNumber } from '@ui/i18n/formatted-number';\nexport function FilterListControl(props) {\n  switch (props.filter.control.type) {\n    case FilterControlType.DateRangePicker:\n      return <DatePickerControl {...props} />;\n    case FilterControlType.BooleanToggle:\n      return <BooleanToggleControl {...props} />;\n    case FilterControlType.Select:\n      return <SelectControl {...props} />;\n    case FilterControlType.ChipField:\n      return <ChipFieldControl {...props} />;\n    case FilterControlType.Input:\n      return <InputControl {...props} />;\n    case FilterControlType.SelectModel:\n      return <SelectModelControl {...props} />;\n    case FilterControlType.Custom:\n      const Control = props.filter.control.listItem;\n      return <Control {...props} />;\n    default:\n      return null;\n  }\n}\nfunction DatePickerControl(props) {\n  const {\n    value,\n    filter\n  } = props;\n  let valueLabel;\n  if (value.preset !== undefined) {\n    valueLabel = <Trans {...DateRangePresets[value.preset].label} />;\n  } else {\n    valueLabel = <FormattedDateTimeRange start={new Date(value.start)} end={new Date(value.end)} options={{\n      dateStyle: 'medium'\n    }} />;\n  }\n  return <FilterListItemDialogTrigger {...props} label={valueLabel} panel={<DateRangeFilterPanel filter={filter} />} />;\n}\nfunction BooleanToggleControl({\n  filter,\n  isInactive,\n  onValueChange\n}) {\n  // todo: toggle control on or off here\n  return <FilterListTriggerButton onClick={() => {\n    onValueChange({\n      value: filter.control.defaultValue\n    });\n  }} filter={filter} isInactive={isInactive} />;\n}\nfunction SelectControl(props) {\n  const {\n    filter,\n    value\n  } = props;\n  const option = filter.control.options.find(o => o.key === value);\n  return <FilterListItemDialogTrigger {...props} label={option ? typeof option.label === 'string' ? option.label : <Trans {...option.label} /> : null} panel={<SelectFilterPanel filter={filter} />} />;\n}\nfunction ChipFieldControl(props) {\n  return <FilterListItemDialogTrigger {...props} label={<MultipleValues {...props} />} panel={<ChipFieldFilterPanel filter={props.filter} />} />;\n}\nfunction MultipleValues(props) {\n  const {\n    trans\n  } = useTrans();\n  const {\n    filter,\n    value\n  } = props;\n  const options = value.map(v => filter.control.options.find(o => o.key === v));\n  const maxShownCount = 3;\n  const notShownCount = value.length - maxShownCount;\n\n  // translate names, add commas and limit to 3\n  const names = <Fragment>\n      {options.filter(Boolean).slice(0, maxShownCount).map((o, i) => {\n      let name = '';\n      if (i !== 0) {\n        name += ', ';\n      }\n      name += typeof o.label === 'string' ? o.label : trans(o.label);\n      return name;\n    })}\n    </Fragment>;\n\n  // indicate that there are some names not shown\n  return notShownCount > 0 ? <Trans message=\":names + :count more\" values={{\n    names: names,\n    count: notShownCount\n  }} /> : names;\n}\nfunction InputControl(props) {\n  const {\n    filter,\n    value,\n    operator\n  } = props;\n  const operatorLabel = operator ? <Trans {...FilterOperatorNames[operator]} /> : null;\n  const formattedValue = filter.control.inputType === 'number' ? <FormattedNumber value={value} /> : value;\n  return <FilterListItemDialogTrigger {...props} label={<Fragment>\n          {operatorLabel} {formattedValue}\n        </Fragment>} panel={<InputFilterPanel filter={filter} />} />;\n}\nfunction SelectModelControl(props) {\n  const {\n    value,\n    filter\n  } = props;\n  const {\n    isLoading,\n    data\n  } = useNormalizedModel(filter.control.endpoint ? `${filter.control.endpoint}/${value}` : `normalized-models/${filter.control.model}/${value}`, undefined, {\n    enabled: !!value\n  });\n  const skeleton = <Fragment>\n      <Skeleton variant=\"avatar\" size=\"w-18 h-18 mr-6\" />\n      <Skeleton variant=\"rect\" size=\"w-50\" />\n    </Fragment>;\n  const modelPreview = <Fragment>\n      <Avatar size=\"xs\" src={data?.model.image} label={data?.model.name} className=\"mr-6\" />\n      {data?.model.name}\n    </Fragment>;\n  const label = isLoading || !data ? skeleton : modelPreview;\n  return <FilterListItemDialogTrigger {...props} label={label} panel={<NormalizedModelFilterPanel filter={filter} />} />;\n}","import clsx from 'clsx';\nimport { useBackendFilterUrlParams } from '../backend-filter-url-params';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { CloseIcon } from '@ui/icons/material/Close';\nimport { FilterListControl } from './filter-list-control';\nexport function FilterList({\n  filters,\n  pinnedFilters,\n  className,\n  wrap\n}) {\n  const {\n    decodedFilters,\n    remove,\n    replaceAll\n  } = useBackendFilterUrlParams(filters, pinnedFilters);\n  if (!decodedFilters.length) return null;\n  return <div className={clsx('flex items-center gap-6', className, wrap ? 'flex-wrap' : 'overflow-x-auto')}>\n      {decodedFilters.map((field, index) => {\n      const filter = filters.find(f => f.key === field.key);\n      if (!filter) return null;\n      const handleValueChange = payload => {\n        const newFilters = [...decodedFilters];\n        newFilters.splice(index, 1, {\n          key: filter.key,\n          value: payload.value,\n          isInactive: false,\n          operator: payload.operator || filter.defaultOperator\n        });\n        replaceAll(newFilters);\n      };\n      return <div key={field.key}>\n            {!field.isInactive && <IconButton variant=\"outline\" color=\"primary\" size=\"xs\" radius=\"rounded-l-md\" onClick={() => {\n          remove(field.key);\n        }}>\n                <CloseIcon />\n              </IconButton>}\n            <FilterListControl filter={filter} isInactive={field.isInactive} value={field.valueKey != null ? field.valueKey : field.value} operator={field.operator} onValueChange={handleValueChange} />\n          </div>;\n    })}\n    </div>;\n}","import { createContext } from 'react';\nexport const DashboardLayoutContext = createContext(null);","import { useRef } from 'react';\nimport { useGlobalListeners } from '@react-aria/utils';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nexport function usePointerEvents({\n  onMoveStart,\n  onMove,\n  onMoveEnd,\n  minimumMovement = 0,\n  preventDefault,\n  stopPropagation = true,\n  onPress,\n  onLongPress,\n  ...props\n}) {\n  const stateRef = useRef({\n    lastPosition: {\n      x: 0,\n      y: 0\n    },\n    started: false,\n    longPressTriggered: false\n  });\n  const state = stateRef.current;\n  const {\n    addGlobalListener,\n    removeGlobalListener\n  } = useGlobalListeners();\n  const start = e => {\n    if (!state.el) return;\n    const result = onMoveStart?.(e, state.el);\n\n    // allow user to cancel interaction\n    if (result === false) return;\n    state.originalTouchAction = state.el.style.touchAction;\n    state.el.style.touchAction = 'none';\n    state.originalUserSelect = document.documentElement.style.userSelect;\n    document.documentElement.style.userSelect = 'none';\n    state.started = true;\n  };\n  const onPointerDown = e => {\n    if (e.button === 0 && state.id == null) {\n      state.started = false;\n      const result = props.onPointerDown?.(e);\n      if (result === false) return;\n      if (stopPropagation) {\n        e.stopPropagation();\n      }\n      if (preventDefault) {\n        e.preventDefault();\n      }\n      state.id = e.pointerId;\n      state.el = e.currentTarget;\n      state.lastPosition = {\n        x: e.clientX,\n        y: e.clientY\n      };\n\n      // use global listeners, so we don't have to capture pointer,\n      // which would prevent click events on child nodes\n\n      if (onLongPress) {\n        state.longPressTimer = setTimeout(() => {\n          onLongPress(e, state.el);\n          state.longPressTriggered = true;\n        }, 400);\n      }\n      if (onMoveStart || onMove) {\n        addGlobalListener(window, 'pointermove', onPointerMove, false);\n      }\n      addGlobalListener(window, 'pointerup', onPointerUp, false);\n      addGlobalListener(window, 'pointercancel', onPointerUp, false);\n    }\n  };\n  const onPointerMove = e => {\n    if (e.pointerId === state.id) {\n      const deltaX = e.clientX - state.lastPosition.x;\n      const deltaY = e.clientY - state.lastPosition.y;\n      if ((Math.abs(deltaX) >= minimumMovement || Math.abs(deltaY) >= minimumMovement) && !state.started) {\n        start(e);\n      }\n      if (state.started) {\n        onMove?.(e, deltaX, deltaY);\n        state.lastPosition = {\n          x: e.clientX,\n          y: e.clientY\n        };\n      }\n    }\n  };\n  const onPointerUp = e => {\n    if (e.pointerId === state.id) {\n      // cancel long press timer, if exists\n      if (state.longPressTimer) {\n        clearTimeout(state.longPressTimer);\n      }\n      const longPressTriggered = state.longPressTriggered;\n      state.longPressTriggered = false;\n\n      // only call onMoveEnd if we actually started moving\n      if (state.started) {\n        onMoveEnd?.(e);\n      }\n      if (state.el) {\n        // handle press only if event was not cancelled (via touch scroll on mobile for example)\n        if (e.type !== 'pointercancel') {\n          props.onPointerUp?.(e, state.el);\n\n          // only call onPress if pointer did not leave onPointerDown element\n          if (e.target && state.el.contains(e.target)) {\n            // trigger either onPress or onLongPress\n            if (longPressTriggered) {\n              onLongPress?.(e, state.el);\n            } else {\n              onPress?.(e, state.el);\n            }\n          }\n        }\n        document.documentElement.style.userSelect = state.originalUserSelect || '';\n        state.el.style.touchAction = state.originalTouchAction || '';\n      }\n      state.id = undefined;\n      state.started = false;\n      removeGlobalListener(window, 'pointermove', onPointerMove, false);\n      removeGlobalListener(window, 'pointerup', onPointerUp, false);\n      removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n    }\n  };\n  return {\n    domProps: {\n      onPointerDown: createEventHandler(onPointerDown)\n    }\n  };\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const FileDownloadIcon = createSvgIcon(<path d=\"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z\" />, 'FileDownloadOutlined');","import React, { useContext, useMemo } from 'react';\nimport { useSettings } from '@ui/settings/use-settings';\nimport { isAbsoluteUrl } from '@ui/utils/urls/is-absolute-url';\nimport { getBootstrapData } from '@ui/bootstrap-data/bootstrap-data-store';\nexport const FileEntryUrlsContext = React.createContext(null);\nexport function useFileEntryUrls(entry, options) {\n  const {\n    base_url\n  } = useSettings();\n  const urlSearchParams = useContext(FileEntryUrlsContext);\n  return useMemo(() => {\n    if (!entry) {\n      return {};\n    }\n    const previewUrl = buildPreviewUrl(entry, options?.preferThumbnail || false);\n    const urls = {\n      previewUrl,\n      downloadUrl: `${base_url}/api/v1/file-entries/download/${options?.downloadHashes || entry.hash}`\n    };\n    if (urlSearchParams) {\n      // preview url\n      if (urls.previewUrl) {\n        urls.previewUrl = addParams(urls.previewUrl, {\n          ...urlSearchParams,\n          thumbnail: options?.preferThumbnail ? 'true' : ''\n        }, base_url);\n      }\n\n      // download url\n      urls.downloadUrl = addParams(urls.downloadUrl, urlSearchParams, base_url);\n    }\n    return urls;\n  }, [base_url, entry, options?.downloadHashes, options?.preferThumbnail, urlSearchParams]);\n}\nfunction buildPreviewUrl(entry, preferThumbnail) {\n  if (!entry.url) return;\n  if (isAbsoluteUrl(entry.url)) {\n    if (preferThumbnail && entry.thumbnail) {\n      // replace last instance of entry.file_name in entry.url with 'thumbnail'\n      const extension = entry.extension === 'png' ? 'png' : 'jpg';\n      return entry.url.replace(new RegExp(entry.file_name + '$'), `thumbnail.${extension}`);\n    } else {\n      return entry.url;\n    }\n  }\n  return `${getBootstrapData().settings.base_url}/${entry.url}`;\n}\nfunction addParams(urlString, params, baseUrl) {\n  const url = new URL(urlString, baseUrl);\n  Object.entries(params).forEach(([key, value]) => {\n    url.searchParams.append(key, value);\n  });\n  return url.toString();\n}","export function downloadFileFromUrl(url, name) {\n  const link = document.createElement('a');\n  link.href = url;\n  if (name) link.download = name;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const MoreVertIcon = createSvgIcon(<path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />, 'MoreVertOutlined');","import { isMac } from '@react-aria/utils';\nexport function isCtrlKeyPressed(e) {\n  if (isMac()) {\n    return e.metaKey;\n  }\n  return e.ctrlKey;\n}","import { getFocusableTreeWalker } from '@react-aria/focus';\nimport { focusWithoutScrolling } from '@react-aria/utils';\nimport { isCtrlKeyPressed } from '@ui/utils/keybinds/is-ctrl-key-pressed';\nexport function useGridNavigation(props) {\n  const {\n    cellCount,\n    rowCount\n  } = props;\n  const onKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        focusSiblingCell(e, {\n          cell: {\n            op: 'decrement'\n          }\n        }, props);\n        break;\n      case 'ArrowRight':\n        focusSiblingCell(e, {\n          cell: {\n            op: 'increment'\n          }\n        }, props);\n        break;\n      case 'ArrowUp':\n        focusSiblingCell(e, {\n          row: {\n            op: 'decrement'\n          }\n        }, props);\n        break;\n      case 'ArrowDown':\n        focusSiblingCell(e, {\n          row: {\n            op: 'increment'\n          }\n        }, props);\n        break;\n      case 'PageUp':\n        focusSiblingCell(e, {\n          row: {\n            op: 'decrement',\n            count: 5\n          }\n        }, props);\n        break;\n      case 'PageDown':\n        focusSiblingCell(e, {\n          row: {\n            op: 'increment',\n            count: 5\n          }\n        }, props);\n        break;\n      case 'Tab':\n        focusFirstElementAfterGrid(e);\n        break;\n      case 'Home':\n        if (isCtrlKeyPressed(e)) {\n          // move to first cell in first row\n          focusSiblingCell(e, {\n            row: {\n              op: 'decrement',\n              count: rowCount\n            },\n            cell: {\n              op: 'decrement',\n              count: cellCount\n            }\n          }, props);\n        } else {\n          // move to first cell in current row\n          focusSiblingCell(e, {\n            cell: {\n              op: 'decrement',\n              count: cellCount\n            }\n          }, props);\n        }\n        break;\n      case 'End':\n        if (isCtrlKeyPressed(e)) {\n          // move to last cell in last row\n          focusSiblingCell(e, {\n            row: {\n              op: 'increment',\n              count: rowCount\n            },\n            cell: {\n              op: 'increment',\n              count: cellCount\n            }\n          }, props);\n        } else {\n          // move to last cell in current row\n          focusSiblingCell(e, {\n            cell: {\n              op: 'increment',\n              count: cellCount\n            }\n          }, props);\n        }\n        break;\n    }\n  };\n  return {\n    onKeyDown\n  };\n}\nfunction focusSiblingCell(e, operations, {\n  cellCount,\n  rowCount\n}) {\n  if (document.activeElement?.tagName === 'input') return;\n  e.preventDefault();\n  const grid = e.currentTarget;\n\n  // focused element might be inside the cell and not the cell itself\n  const currentCell = e.target.closest('[aria-colindex]');\n  if (!currentCell || !grid) return;\n  const row = currentCell.closest('[aria-rowindex]');\n  if (!row) return;\n\n  // grab row and cell index from aria attributes\n  let rowIndex = parseInt(row.getAttribute('aria-rowindex'));\n  let cellIndex = parseInt(currentCell.getAttribute('aria-colindex'));\n  if (Number.isNaN(rowIndex) || Number.isNaN(cellIndex)) return;\n\n  // adjust row index for next cell selector\n  const rowOpCount = operations.row?.count ?? 1;\n  if (operations.row?.op === 'increment') {\n    rowIndex = Math.min(rowCount, rowIndex + rowOpCount);\n  } else if (operations.row?.op === 'decrement') {\n    rowIndex = Math.max(1, rowIndex - rowOpCount);\n  }\n\n  // adjust cell index for next cell selector\n  const cellOpCount = operations.cell?.count ?? 1;\n  if (operations.cell?.op === 'increment') {\n    cellIndex = Math.min(cellCount, cellIndex + cellOpCount);\n  } else if (operations.cell?.op === 'decrement') {\n    cellIndex = Math.max(1, cellIndex - cellOpCount);\n  }\n\n  // find the next cell that should be focused\n  const nextCell = grid.querySelector(`[aria-rowindex=\"${rowIndex}\"] [aria-colindex=\"${cellIndex}\"]`);\n  if (!nextCell) return;\n\n  // find any focusable elements inside the cell\n  const walker = getFocusableTreeWalker(nextCell);\n  const nextFocusableElement = walker.nextNode() || nextCell;\n\n  // adjust tab index on current and next cells and focus either next cell or first focusable element inside that cell\n  currentCell.setAttribute('tabindex', '-1');\n  nextFocusableElement.setAttribute('tabindex', '0');\n  nextFocusableElement.focus();\n}\n\n// grid is treated as a single tab stop, focus first element after grid, instead of moving focus withing grid on tab press\nfunction focusFirstElementAfterGrid(e) {\n  const grid = e.currentTarget;\n  if (e.shiftKey) {\n    grid.focus();\n  } else {\n    const walker = getFocusableTreeWalker(grid, {\n      tabbable: true\n    });\n    let next;\n    let last;\n    do {\n      last = walker.lastChild();\n      if (last) {\n        next = last;\n      }\n    } while (last);\n\n    // @ts-ignore\n    if (next && !next.contains(document.activeElement)) {\n      focusWithoutScrolling(next);\n    }\n  }\n}","import { createContext } from 'react';\nexport const TableContext = createContext(null);","import clsx from 'clsx';\nimport { useContext } from 'react';\nimport { TableContext } from '@common/ui/tables/table-context';\nexport function useTableCellStyle({\n  index,\n  isHeader\n}) {\n  const {\n    columns,\n    cellHeight = 'h-46',\n    headerCellHeight = 'h-46'\n  } = useContext(TableContext);\n  const column = columns[index];\n  const userPadding = column?.padding;\n  let justify = 'justify-start';\n  if (column?.align === 'center') {\n    justify = 'justify-center';\n  } else if (column?.align === 'end') {\n    justify = 'justify-end';\n  }\n  return clsx('flex items-center overflow-hidden whitespace-nowrap overflow-ellipsis outline-none focus-visible:outline focus-visible:outline-offset-2', isHeader ? headerCellHeight : cellHeight, column?.width ?? 'flex-1', column?.maxWidth, column?.minWidth, justify, userPadding, column?.className);\n}","import { useContext, useMemo } from 'react';\nimport { TableContext } from './table-context';\nimport { useTableCellStyle } from '@common/ui/tables/style/use-table-cell-style';\nexport function TableCell({\n  rowIndex,\n  rowIsHovered,\n  index,\n  item,\n  id\n}) {\n  const {\n    columns\n  } = useContext(TableContext);\n  const column = columns[index];\n  const rowContext = useMemo(() => {\n    return {\n      index: rowIndex,\n      isHovered: rowIsHovered,\n      isPlaceholder: item.isPlaceholder\n    };\n  }, [rowIndex, rowIsHovered, item.isPlaceholder]);\n  const style = useTableCellStyle({\n    index: index,\n    isHeader: false\n  });\n  return <div tabIndex={-1} role=\"gridcell\" aria-colindex={index + 1} id={id} className={style}>\n      <div className=\"w-full min-w-0 overflow-hidden overflow-ellipsis\">\n        {column.body(item, rowContext)}\n      </div>\n    </div>;\n}","import { isCtrlKeyPressed } from '@ui/utils/keybinds/is-ctrl-key-pressed';\nexport function isCtrlOrShiftPressed(e) {\n  return e.shiftKey || isCtrlKeyPressed(e);\n}","import clsx from 'clsx';\nimport { useContext } from 'react';\nimport { TableContext } from '@common/ui/tables/table-context';\nimport { useIsDarkMode } from '@ui/themes/use-is-dark-mode';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nexport function useTableRowStyle({\n  index,\n  isSelected,\n  isHeader\n}) {\n  const isDarkMode = useIsDarkMode();\n  const isMobile = useIsMobileMediaQuery();\n  const {\n    hideBorder,\n    enableSelection,\n    collapseOnMobile,\n    onAction\n  } = useContext(TableContext);\n  const isFirst = index === 0;\n  return clsx('flex gap-x-16 break-inside-avoid outline-none border border-transparent', onAction && 'cursor-pointer', isMobile && collapseOnMobile && hideBorder ? 'mb-8 pl-8 pr-0 rounded' : 'px-16', !hideBorder && 'border-b-divider', !hideBorder && isFirst && 'border-t-divider', isSelected && !isDarkMode && 'bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus', isSelected && isDarkMode && 'bg-selected hover:bg-focus focus-visible:bg-focus', !isSelected && !isHeader && (enableSelection || onAction) && 'focus-visible:bg-focus hover:bg-hover');\n}","import React, { useContext, useRef, useState } from 'react';\nimport { TableContext } from '@common/ui/tables/table-context';\nimport { TableCell } from '@common/ui/tables/table-cell';\nimport { createEventHandler } from '@ui/utils/dom/create-event-handler';\nimport { isCtrlOrShiftPressed } from '@ui/utils/keybinds/is-ctrl-or-shift-pressed';\nimport { useTableRowStyle } from '@common/ui/tables/style/use-table-row-style';\nimport clsx from 'clsx';\nimport { usePointerEvents } from '@ui/interactions/use-pointer-events';\nconst interactableElements = ['button', 'a', 'input', 'select', 'textarea'];\nexport function TableRow({\n  item,\n  index,\n  renderAs,\n  className,\n  style\n}) {\n  const {\n    selectedRows,\n    columns,\n    toggleRow,\n    selectRow,\n    onAction,\n    selectRowOnContextMenu,\n    enableSelection,\n    selectionStyle,\n    hideHeaderRow\n  } = useContext(TableContext);\n  const isTouchDevice = useRef(false);\n  const isSelected = selectedRows.includes(item.id);\n  const [isHovered, setIsHovered] = useState(false);\n  const clickedOnInteractable = e => {\n    return e.target.closest(interactableElements.join(','));\n  };\n  const doubleClickHandler = e => {\n    if (selectionStyle === 'highlight' && onAction && !isTouchDevice.current && !clickedOnInteractable(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n  const anyRowsSelected = !!selectedRows.length;\n  const handleRowTap = e => {\n    if (clickedOnInteractable(e)) return;\n    if (selectionStyle === 'checkbox') {\n      if (enableSelection && (anyRowsSelected || !onAction)) {\n        toggleRow(item);\n      } else if (onAction) {\n        onAction(item, index);\n      }\n    } else if (selectionStyle === 'highlight') {\n      if (isTouchDevice.current) {\n        if (enableSelection && anyRowsSelected) {\n          toggleRow(item);\n        } else {\n          onAction?.(item, index);\n        }\n      } else if (enableSelection) {\n        selectRow(item, isCtrlOrShiftPressed(e));\n      }\n    }\n  };\n  const {\n    domProps\n  } = usePointerEvents({\n    onPointerDown: e => {\n      isTouchDevice.current = e.pointerType === 'touch';\n    },\n    onPress: handleRowTap,\n    onLongPress: enableSelection ? () => {\n      if (isTouchDevice.current) {\n        toggleRow(item);\n      }\n    } : undefined\n  });\n  const keyboardHandler = e => {\n    if (enableSelection && e.key === ' ') {\n      e.preventDefault();\n      e.stopPropagation();\n      if (selectionStyle === 'checkbox') {\n        toggleRow(item);\n      } else {\n        selectRow(item);\n      }\n    } else if (e.key === 'Enter' && !selectedRows.length && onAction) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n  const contextMenuHandler = e => {\n    if (selectRowOnContextMenu && enableSelection) {\n      if (!selectedRows.includes(item.id)) {\n        selectRow(item);\n      }\n    }\n    // prevent context menu on mobile\n    if (isTouchDevice.current) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n  const styleClassName = useTableRowStyle({\n    index,\n    isSelected\n  });\n  const RowElement = renderAs || 'div';\n  return <RowElement role=\"row\" aria-rowindex={index + 1 + (hideHeaderRow ? 0 : 1)} aria-selected={isSelected} tabIndex={-1} className={clsx(className, styleClassName)} item={RowElement === 'div' ? undefined : item} onDoubleClick={createEventHandler(doubleClickHandler)} onKeyDown={createEventHandler(keyboardHandler)} onContextMenu={createEventHandler(contextMenuHandler)} onPointerEnter={createEventHandler(() => setIsHovered(true))} onPointerLeave={createEventHandler(() => setIsHovered(false))} style={style} {...domProps}>\n      {columns.map((column, cellIndex) => <TableCell rowIndex={index} rowIsHovered={isHovered} index={cellIndex} item={item} key={`${item.id}-${column.key}`} />)}\n    </RowElement>;\n}","import { Skeleton } from '@ui/skeleton/skeleton';\nimport React, { useContext } from 'react';\nimport { Checkbox } from '@ui/forms/toggle/checkbox';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { TableContext } from '@common/ui/tables/table-context';\nexport const CheckboxColumnConfig = {\n  key: 'checkbox',\n  header: () => <SelectAllCheckbox />,\n  align: 'center',\n  width: 'w-24 flex-shrink-0',\n  body: (item, row) => {\n    if (row.isPlaceholder) {\n      return <Skeleton size=\"w-24 h-24\" variant=\"rect\" />;\n    }\n    return <SelectRowCheckbox item={item} />;\n  }\n};\nfunction SelectRowCheckbox({\n  item\n}) {\n  const {\n    selectedRows,\n    toggleRow\n  } = useContext(TableContext);\n  return <Checkbox checked={selectedRows.includes(item.id)} onChange={() => toggleRow(item)} />;\n}\nfunction SelectAllCheckbox() {\n  const {\n    trans\n  } = useTrans();\n  const {\n    data,\n    selectedRows,\n    onSelectionChange\n  } = useContext(TableContext);\n  const allRowsSelected = !!data.length && data.length === selectedRows.length;\n  const someRowsSelected = !allRowsSelected && !!selectedRows.length;\n  return <Checkbox aria-label={trans({\n    message: 'Select all'\n  })} isIndeterminate={someRowsSelected} checked={allRowsSelected} onChange={() => {\n    if (allRowsSelected) {\n      onSelectionChange([]);\n    } else {\n      onSelectionChange(data.map(d => d.id));\n    }\n  }} />;\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const ArrowDownwardIcon = createSvgIcon(<path d=\"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\" />, 'ArrowDownwardOutlined');","import { useContext, useState } from 'react';\nimport clsx from 'clsx';\nimport { AnimatePresence, m } from 'framer-motion';\nimport { TableContext } from './table-context';\nimport { ArrowDownwardIcon } from '@ui/icons/material/ArrowDownward';\nimport { useTableCellStyle } from '@common/ui/tables/style/use-table-cell-style';\nexport function HeaderCell({\n  index\n}) {\n  const {\n    columns,\n    sortDescriptor,\n    onSortChange,\n    enableSorting\n  } = useContext(TableContext);\n  const column = columns[index];\n  const style = useTableCellStyle({\n    index: index,\n    isHeader: true\n  });\n  const [isHovered, setIsHovered] = useState(false);\n  const sortingKey = column.sortingKey || column.key;\n  const allowSorting = column.allowsSorting && enableSorting;\n  const {\n    orderBy,\n    orderDir\n  } = sortDescriptor || {};\n  const sortActive = allowSorting && orderBy === sortingKey;\n  let ariaSort;\n  if (sortActive && orderDir === 'asc') {\n    ariaSort = 'ascending';\n  } else if (sortActive && orderDir === 'desc') {\n    ariaSort = 'descending';\n  } else if (allowSorting) {\n    ariaSort = 'none';\n  }\n  const toggleSorting = () => {\n    if (!allowSorting) return;\n    let newSort;\n\n    // if this col was sorted desc, go to asc\n    if (sortActive && orderDir === 'desc') {\n      newSort = {\n        orderDir: 'asc',\n        orderBy: sortingKey\n      };\n\n      // if this col was sorted asc, clear sort\n    } else if (sortActive && orderDir === 'asc') {\n      newSort = {\n        orderBy: undefined,\n        orderDir: undefined\n      };\n\n      // if sort was on another col, or no sort was applied yet, start from desc\n    } else {\n      newSort = {\n        orderDir: 'desc',\n        orderBy: sortingKey\n      };\n    }\n    onSortChange?.(newSort);\n  };\n  const sortVisible = sortActive || isHovered;\n  const sortVariants = {\n    visible: {\n      opacity: 1,\n      y: 0\n    },\n    hidden: {\n      opacity: 0,\n      y: '-25%'\n    }\n  };\n  return <div role=\"columnheader\" tabIndex={-1} aria-colindex={index + 1} aria-sort={ariaSort} className={clsx(style, 'text-xs font-medium text-muted', allowSorting && 'cursor-pointer')} onMouseEnter={() => {\n    setIsHovered(true);\n  }} onMouseLeave={() => {\n    setIsHovered(false);\n  }} onKeyDown={e => {\n    if (e.key === ' ' || e.key === 'Enter') {\n      e.preventDefault();\n      toggleSorting();\n    }\n  }} onClick={toggleSorting}>\n      {column.hideHeader ? <div className=\"opacity-0\">{column.header()}</div> : column.header()}\n      <AnimatePresence>\n        {allowSorting && <m.span variants={sortVariants} animate={sortVisible ? 'visible' : 'hidden'} initial={false} transition={{\n        type: 'tween'\n      }} key=\"sort-icon\" className=\"-mt-2 ml-6 inline-block\" data-testid=\"table-sort-button\" aria-hidden={!sortVisible}>\n            <ArrowDownwardIcon size=\"xs\" className={clsx('text-muted', orderDir === 'asc' && orderBy === sortingKey && 'rotate-180 transition-transform')} />\n          </m.span>}\n      </AnimatePresence>\n    </div>;\n}","import { HeaderCell } from '@common/ui/tables/header-cell';\nimport React, { useContext } from 'react';\nimport { TableContext } from '@common/ui/tables/table-context';\nexport function TableHeaderRow() {\n  const {\n    columns\n  } = useContext(TableContext);\n  return <div role=\"row\" aria-rowindex={1} tabIndex={-1} className=\"flex gap-x-16 px-16\">\n      {columns.map((column, columnIndex) => <HeaderCell index={columnIndex} key={column.key} />)}\n    </div>;\n}","import React, { cloneElement, Fragment, useCallback, useContext, useMemo } from 'react';\nimport { useControlledState } from '@react-stately/utils';\nimport { useGridNavigation } from './navigate-grid';\nimport { TableRow } from './table-row';\nimport { TableContext } from './table-context';\nimport clsx from 'clsx';\nimport { useInteractOutside } from '@react-aria/interactions';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { isCtrlKeyPressed } from '@ui/utils/keybinds/is-ctrl-key-pressed';\nimport { useIsMobileMediaQuery } from '@ui/utils/hooks/is-mobile-media-query';\nimport { CheckboxColumnConfig } from '@common/ui/tables/checkbox-column-config';\nimport { TableHeaderRow } from '@common/ui/tables/table-header-row';\nexport function Table({\n  className,\n  columns: userColumns,\n  collapseOnMobile = true,\n  hideHeaderRow = false,\n  hideBorder = false,\n  data,\n  selectedRows: propsSelectedRows,\n  defaultSelectedRows: propsDefaultSelectedRows,\n  onSelectionChange: propsOnSelectionChange,\n  sortDescriptor: propsSortDescriptor,\n  onSortChange: propsOnSortChange,\n  enableSorting = true,\n  onDelete,\n  enableSelection = true,\n  selectionStyle = 'checkbox',\n  ariaLabelledBy,\n  selectRowOnContextMenu,\n  onAction,\n  renderRowAs,\n  tableBody,\n  meta,\n  tableRef: propsTableRef,\n  closeOnInteractOutside = false,\n  cellHeight,\n  headerCellHeight,\n  ...domProps\n}) {\n  const isMobile = useIsMobileMediaQuery();\n  const isCollapsedMode = !!isMobile && collapseOnMobile;\n  if (isCollapsedMode) {\n    hideHeaderRow = true;\n    hideBorder = true;\n  }\n  const [selectedRows, onSelectionChange] = useControlledState(propsSelectedRows, propsDefaultSelectedRows || [], propsOnSelectionChange);\n  const [sortDescriptor, onSortChange] = useControlledState(propsSortDescriptor, undefined, propsOnSortChange);\n  const toggleRow = useCallback(item => {\n    const newValues = [...selectedRows];\n    if (!newValues.includes(item.id)) {\n      newValues.push(item.id);\n    } else {\n      const index = newValues.indexOf(item.id);\n      newValues.splice(index, 1);\n    }\n    onSelectionChange(newValues);\n  }, [selectedRows, onSelectionChange]);\n  const selectRow = useCallback(\n  // allow deselecting all rows by passing in null\n  (item, merge) => {\n    let newValues = [];\n    if (item) {\n      newValues = merge ? [...selectedRows?.filter(id => id !== item.id), item.id] : [item.id];\n    }\n    onSelectionChange(newValues);\n  }, [selectedRows, onSelectionChange]);\n\n  // add checkbox columns to config, if selection is enabled\n  const columns = useMemo(() => {\n    const filteredColumns = userColumns.filter(c => {\n      const visibleInMode = c.visibleInMode || 'regular';\n      if (visibleInMode === 'all') {\n        return true;\n      }\n      if (visibleInMode === 'compact' && isCollapsedMode) {\n        return true;\n      }\n      if (visibleInMode === 'regular' && !isCollapsedMode) {\n        return true;\n      }\n    });\n    const showCheckboxCell = enableSelection && selectionStyle !== 'highlight' && !isMobile;\n    if (showCheckboxCell) {\n      filteredColumns.unshift(CheckboxColumnConfig);\n    }\n    return filteredColumns;\n  }, [isMobile, userColumns, enableSelection, selectionStyle, isCollapsedMode]);\n  const contextValue = {\n    isCollapsedMode,\n    cellHeight,\n    headerCellHeight,\n    hideBorder,\n    hideHeaderRow,\n    selectedRows,\n    onSelectionChange,\n    enableSorting,\n    enableSelection,\n    selectionStyle,\n    data,\n    columns,\n    sortDescriptor,\n    onSortChange,\n    toggleRow,\n    selectRow,\n    onAction,\n    selectRowOnContextMenu,\n    meta,\n    collapseOnMobile\n  };\n  const navProps = useGridNavigation({\n    cellCount: enableSelection ? columns.length + 1 : columns.length,\n    rowCount: data.length + 1\n  });\n  const tableBodyProps = {\n    renderRowAs: renderRowAs\n  };\n  if (!tableBody) {\n    tableBody = <BasicTableBody {...tableBodyProps} />;\n  } else {\n    tableBody = cloneElement(tableBody, tableBodyProps);\n  }\n\n  // deselect rows when clicking outside the table\n  const tableRef = useObjectRef(propsTableRef);\n  useInteractOutside({\n    ref: tableRef,\n    onInteractOutside: e => {\n      if (closeOnInteractOutside && enableSelection && selectedRows?.length &&\n      // don't deselect if clicking on a dialog (for example is table row has a context menu)\n      !e.target.closest('[role=\"dialog\"]')) {\n        onSelectionChange([]);\n      }\n    }\n  });\n  return <TableContext.Provider value={contextValue}>\n      <div {...mergeProps(domProps, navProps, {\n      onKeyDown: e => {\n        if (e.key === 'Escape') {\n          e.preventDefault();\n          e.stopPropagation();\n          if (selectedRows?.length) {\n            onSelectionChange([]);\n          }\n        } else if (e.key === 'Delete') {\n          e.preventDefault();\n          e.stopPropagation();\n          if (selectedRows?.length) {\n            onDelete?.(data.filter(item => selectedRows?.includes(item.id)));\n          }\n        } else if (isCtrlKeyPressed(e) && e.key === 'a') {\n          e.preventDefault();\n          e.stopPropagation();\n          if (enableSelection) {\n            onSelectionChange(data.map(item => item.id));\n          }\n        }\n      }\n    })} role=\"grid\" tabIndex={0} aria-rowcount={data.length + 1} aria-colcount={columns.length + 1} ref={tableRef} aria-multiselectable={enableSelection ? true : undefined} aria-labelledby={ariaLabelledBy} className={clsx(className, 'isolate select-none text-sm outline-none focus-visible:ring-2')}>\n        {!hideHeaderRow && <TableHeaderRow />}\n        {tableBody}\n      </div>\n    </TableContext.Provider>;\n}\nfunction BasicTableBody({\n  renderRowAs\n}) {\n  const {\n    data\n  } = useContext(TableContext);\n  return <Fragment>\n      {data.map((item, rowIndex) => <TableRow item={item} index={rowIndex} key={item.id} renderAs={renderRowAs} />)}\n    </Fragment>;\n}","import clsx from 'clsx';\nimport { FileTypeIcon } from './file-type-icon';\nimport { useFileEntryUrls } from '../../file-entry-urls';\nimport { useTrans } from '@ui/i18n/use-trans';\nconst TwoMB = 2 * 1024 * 1024;\nexport function FileThumbnail({\n  file,\n  className,\n  iconClassName,\n  showImage = true\n}) {\n  const {\n    trans\n  } = useTrans();\n  const {\n    previewUrl\n  } = useFileEntryUrls(file, {\n    preferThumbnail: true\n  });\n\n  // don't show images for files larger than 2MB, if thumbnail was not generated to avoid ui lag\n  if (file.file_size && file.file_size > TwoMB && !file.thumbnail) {\n    showImage = false;\n  }\n  if (showImage && file.type === 'image' && previewUrl) {\n    const alt = trans({\n      message: ':fileName thumbnail',\n      values: {\n        fileName: file.name\n      }\n    });\n    return <img className={clsx(className, 'object-cover')} src={previewUrl} alt={alt} draggable={false} />;\n  }\n  return <FileTypeIcon className={iconClassName} type={file.type} />;\n}","function memo(getDeps, fn, opts) {\n  let deps = opts.initialDeps ?? [];\n  let result;\n  function memoizedFunction() {\n    var _a, _b, _c, _d;\n    let depTime;\n    if (opts.key && ((_a = opts.debug) == null ? void 0 : _a.call(opts))) depTime = Date.now();\n    const newDeps = getDeps();\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && ((_b = opts.debug) == null ? void 0 : _b.call(opts))) resultTime = Date.now();\n    result = fn(...newDeps);\n    if (opts.key && ((_c = opts.debug) == null ? void 0 : _c.call(opts))) {\n      const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      const resultFpsPercentage = resultEndTime / 16;\n      const pad = (str, num) => {\n        str = String(str);\n        while (str.length < num) {\n          str = \" \" + str;\n        }\n        return str;\n      };\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n          0,\n          Math.min(120 - 120 * resultFpsPercentage, 120)\n        )}deg 100% 31%);`,\n        opts == null ? void 0 : opts.key\n      );\n    }\n    (_d = opts == null ? void 0 : opts.onChange) == null ? void 0 : _d.call(opts, result);\n    return result;\n  }\n  memoizedFunction.updateDeps = (newDeps) => {\n    deps = newDeps;\n  };\n  return memoizedFunction;\n}\nfunction notUndefined(value, msg) {\n  if (value === void 0) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : \"\"}`);\n  } else {\n    return value;\n  }\n}\nconst approxEqual = (a, b) => Math.abs(a - b) < 1.01;\nconst debounce = (targetWindow, fn, ms) => {\n  let timeoutId;\n  return function(...args) {\n    targetWindow.clearTimeout(timeoutId);\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms);\n  };\n};\nexport {\n  approxEqual,\n  debounce,\n  memo,\n  notUndefined\n};\n//# sourceMappingURL=utils.js.map\n","import { debounce, memo, notUndefined, approxEqual } from \"./utils.js\";\nconst getRect = (element) => {\n  const { offsetWidth, offsetHeight } = element;\n  return { width: offsetWidth, height: offsetHeight };\n};\nconst defaultKeyExtractor = (index) => index;\nconst defaultRangeExtractor = (range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0);\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  const arr = [];\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n  return arr;\n};\nconst observeElementRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  const handler = (rect) => {\n    const { width, height } = rect;\n    cb({ width: Math.round(width), height: Math.round(height) });\n  };\n  handler(getRect(element));\n  if (!targetWindow.ResizeObserver) {\n    return () => {\n    };\n  }\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0];\n      if (entry == null ? void 0 : entry.borderBoxSize) {\n        const box = entry.borderBoxSize[0];\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize });\n          return;\n        }\n      }\n      handler(getRect(element));\n    };\n    instance.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => {\n    observer.unobserve(element);\n  };\n};\nconst addEventListenerOptions = {\n  passive: true\n};\nconst observeWindowRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight });\n  };\n  handler();\n  element.addEventListener(\"resize\", handler, addEventListenerOptions);\n  return () => {\n    element.removeEventListener(\"resize\", handler);\n  };\n};\nconst supportsScrollend = typeof window == \"undefined\" ? true : \"onscrollend\" in window;\nconst observeElementOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    const { horizontal, isRtl } = instance.options;\n    offset = horizontal ? element[\"scrollLeft\"] * (isRtl && -1 || 1) : element[\"scrollTop\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst observeWindowOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    offset = element[instance.options.horizontal ? \"scrollX\" : \"scrollY\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst measureElement = (element, entry, instance) => {\n  if (entry == null ? void 0 : entry.borderBoxSize) {\n    const box = entry.borderBoxSize[0];\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? \"inlineSize\" : \"blockSize\"]\n      );\n      return size;\n    }\n  }\n  return element[instance.options.horizontal ? \"offsetWidth\" : \"offsetHeight\"];\n};\nconst windowScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nconst elementScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nclass Virtualizer {\n  constructor(opts) {\n    this.unsubs = [];\n    this.scrollElement = null;\n    this.targetWindow = null;\n    this.isScrolling = false;\n    this.measurementsCache = [];\n    this.itemSizeCache = /* @__PURE__ */ new Map();\n    this.pendingMeasuredCacheIndexes = [];\n    this.scrollRect = null;\n    this.scrollOffset = null;\n    this.scrollDirection = null;\n    this.scrollAdjustments = 0;\n    this.elementsCache = /* @__PURE__ */ new Map();\n    this.observer = /* @__PURE__ */ (() => {\n      let _ro = null;\n      const get = () => {\n        if (_ro) {\n          return _ro;\n        }\n        if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n          return null;\n        }\n        return _ro = new this.targetWindow.ResizeObserver((entries) => {\n          entries.forEach((entry) => {\n            const run = () => {\n              this._measureElement(entry.target, entry);\n            };\n            this.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n          });\n        });\n      };\n      return {\n        disconnect: () => {\n          var _a;\n          (_a = get()) == null ? void 0 : _a.disconnect();\n          _ro = null;\n        },\n        observe: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.observe(target, { box: \"border-box\" });\n        },\n        unobserve: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.unobserve(target);\n        }\n      };\n    })();\n    this.range = null;\n    this.setOptions = (opts2) => {\n      Object.entries(opts2).forEach(([key, value]) => {\n        if (typeof value === \"undefined\") delete opts2[key];\n      });\n      this.options = {\n        debug: false,\n        initialOffset: 0,\n        overscan: 1,\n        paddingStart: 0,\n        paddingEnd: 0,\n        scrollPaddingStart: 0,\n        scrollPaddingEnd: 0,\n        horizontal: false,\n        getItemKey: defaultKeyExtractor,\n        rangeExtractor: defaultRangeExtractor,\n        onChange: () => {\n        },\n        measureElement,\n        initialRect: { width: 0, height: 0 },\n        scrollMargin: 0,\n        gap: 0,\n        indexAttribute: \"data-index\",\n        initialMeasurementsCache: [],\n        lanes: 1,\n        isScrollingResetDelay: 150,\n        enabled: true,\n        isRtl: false,\n        useScrollendEvent: false,\n        useAnimationFrameWithResizeObserver: false,\n        ...opts2\n      };\n    };\n    this.notify = (sync) => {\n      var _a, _b;\n      (_b = (_a = this.options).onChange) == null ? void 0 : _b.call(_a, this, sync);\n    };\n    this.maybeNotify = memo(\n      () => {\n        this.calculateRange();\n        return [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ];\n      },\n      (isScrolling) => {\n        this.notify(isScrolling);\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"maybeNotify\",\n        debug: () => this.options.debug,\n        initialDeps: [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ]\n      }\n    );\n    this.cleanup = () => {\n      this.unsubs.filter(Boolean).forEach((d) => d());\n      this.unsubs = [];\n      this.observer.disconnect();\n      this.scrollElement = null;\n      this.targetWindow = null;\n    };\n    this._didMount = () => {\n      return () => {\n        this.cleanup();\n      };\n    };\n    this._willUpdate = () => {\n      var _a;\n      const scrollElement = this.options.enabled ? this.options.getScrollElement() : null;\n      if (this.scrollElement !== scrollElement) {\n        this.cleanup();\n        if (!scrollElement) {\n          this.maybeNotify();\n          return;\n        }\n        this.scrollElement = scrollElement;\n        if (this.scrollElement && \"ownerDocument\" in this.scrollElement) {\n          this.targetWindow = this.scrollElement.ownerDocument.defaultView;\n        } else {\n          this.targetWindow = ((_a = this.scrollElement) == null ? void 0 : _a.window) ?? null;\n        }\n        this.elementsCache.forEach((cached) => {\n          this.observer.observe(cached);\n        });\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: void 0,\n          behavior: void 0\n        });\n        this.unsubs.push(\n          this.options.observeElementRect(this, (rect) => {\n            this.scrollRect = rect;\n            this.maybeNotify();\n          })\n        );\n        this.unsubs.push(\n          this.options.observeElementOffset(this, (offset, isScrolling) => {\n            this.scrollAdjustments = 0;\n            this.scrollDirection = isScrolling ? this.getScrollOffset() < offset ? \"forward\" : \"backward\" : null;\n            this.scrollOffset = offset;\n            this.isScrolling = isScrolling;\n            this.maybeNotify();\n          })\n        );\n      }\n    };\n    this.getSize = () => {\n      if (!this.options.enabled) {\n        this.scrollRect = null;\n        return 0;\n      }\n      this.scrollRect = this.scrollRect ?? this.options.initialRect;\n      return this.scrollRect[this.options.horizontal ? \"width\" : \"height\"];\n    };\n    this.getScrollOffset = () => {\n      if (!this.options.enabled) {\n        this.scrollOffset = null;\n        return 0;\n      }\n      this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset === \"function\" ? this.options.initialOffset() : this.options.initialOffset);\n      return this.scrollOffset;\n    };\n    this.getFurthestMeasurement = (measurements, index) => {\n      const furthestMeasurementsFound = /* @__PURE__ */ new Map();\n      const furthestMeasurements = /* @__PURE__ */ new Map();\n      for (let m = index - 1; m >= 0; m--) {\n        const measurement = measurements[m];\n        if (furthestMeasurementsFound.has(measurement.lane)) {\n          continue;\n        }\n        const previousFurthestMeasurement = furthestMeasurements.get(\n          measurement.lane\n        );\n        if (previousFurthestMeasurement == null || measurement.end > previousFurthestMeasurement.end) {\n          furthestMeasurements.set(measurement.lane, measurement);\n        } else if (measurement.end < previousFurthestMeasurement.end) {\n          furthestMeasurementsFound.set(measurement.lane, true);\n        }\n        if (furthestMeasurementsFound.size === this.options.lanes) {\n          break;\n        }\n      }\n      return furthestMeasurements.size === this.options.lanes ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n        if (a.end === b.end) {\n          return a.index - b.index;\n        }\n        return a.end - b.end;\n      })[0] : void 0;\n    };\n    this.getMeasurementOptions = memo(\n      () => [\n        this.options.count,\n        this.options.paddingStart,\n        this.options.scrollMargin,\n        this.options.getItemKey,\n        this.options.enabled\n      ],\n      (count, paddingStart, scrollMargin, getItemKey, enabled) => {\n        this.pendingMeasuredCacheIndexes = [];\n        return {\n          count,\n          paddingStart,\n          scrollMargin,\n          getItemKey,\n          enabled\n        };\n      },\n      {\n        key: false\n      }\n    );\n    this.getMeasurements = memo(\n      () => [this.getMeasurementOptions(), this.itemSizeCache],\n      ({ count, paddingStart, scrollMargin, getItemKey, enabled }, itemSizeCache) => {\n        if (!enabled) {\n          this.measurementsCache = [];\n          this.itemSizeCache.clear();\n          return [];\n        }\n        if (this.measurementsCache.length === 0) {\n          this.measurementsCache = this.options.initialMeasurementsCache;\n          this.measurementsCache.forEach((item) => {\n            this.itemSizeCache.set(item.key, item.size);\n          });\n        }\n        const min = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;\n        this.pendingMeasuredCacheIndexes = [];\n        const measurements = this.measurementsCache.slice(0, min);\n        for (let i = min; i < count; i++) {\n          const key = getItemKey(i);\n          const furthestMeasurement = this.options.lanes === 1 ? measurements[i - 1] : this.getFurthestMeasurement(measurements, i);\n          const start = furthestMeasurement ? furthestMeasurement.end + this.options.gap : paddingStart + scrollMargin;\n          const measuredSize = itemSizeCache.get(key);\n          const size = typeof measuredSize === \"number\" ? measuredSize : this.options.estimateSize(i);\n          const end = start + size;\n          const lane = furthestMeasurement ? furthestMeasurement.lane : i % this.options.lanes;\n          measurements[i] = {\n            index: i,\n            start,\n            size,\n            end,\n            key,\n            lane\n          };\n        }\n        this.measurementsCache = measurements;\n        return measurements;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getMeasurements\",\n        debug: () => this.options.debug\n      }\n    );\n    this.calculateRange = memo(\n      () => [\n        this.getMeasurements(),\n        this.getSize(),\n        this.getScrollOffset(),\n        this.options.lanes\n      ],\n      (measurements, outerSize, scrollOffset, lanes) => {\n        return this.range = measurements.length > 0 && outerSize > 0 ? calculateRange({\n          measurements,\n          outerSize,\n          scrollOffset,\n          lanes\n        }) : null;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"calculateRange\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualIndexes = memo(\n      () => {\n        let startIndex = null;\n        let endIndex = null;\n        const range = this.calculateRange();\n        if (range) {\n          startIndex = range.startIndex;\n          endIndex = range.endIndex;\n        }\n        this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex]);\n        return [\n          this.options.rangeExtractor,\n          this.options.overscan,\n          this.options.count,\n          startIndex,\n          endIndex\n        ];\n      },\n      (rangeExtractor, overscan, count, startIndex, endIndex) => {\n        return startIndex === null || endIndex === null ? [] : rangeExtractor({\n          startIndex,\n          endIndex,\n          overscan,\n          count\n        });\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualIndexes\",\n        debug: () => this.options.debug\n      }\n    );\n    this.indexFromElement = (node) => {\n      const attributeName = this.options.indexAttribute;\n      const indexStr = node.getAttribute(attributeName);\n      if (!indexStr) {\n        console.warn(\n          `Missing attribute name '${attributeName}={index}' on measured element.`\n        );\n        return -1;\n      }\n      return parseInt(indexStr, 10);\n    };\n    this._measureElement = (node, entry) => {\n      const index = this.indexFromElement(node);\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const key = item.key;\n      const prevNode = this.elementsCache.get(key);\n      if (prevNode !== node) {\n        if (prevNode) {\n          this.observer.unobserve(prevNode);\n        }\n        this.observer.observe(node);\n        this.elementsCache.set(key, node);\n      }\n      if (node.isConnected) {\n        this.resizeItem(index, this.options.measureElement(node, entry, this));\n      }\n    };\n    this.resizeItem = (index, size) => {\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const itemSize = this.itemSizeCache.get(item.key) ?? item.size;\n      const delta = size - itemSize;\n      if (delta !== 0) {\n        if (this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this) : item.start < this.getScrollOffset() + this.scrollAdjustments) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"correction\", delta);\n          }\n          this._scrollToOffset(this.getScrollOffset(), {\n            adjustments: this.scrollAdjustments += delta,\n            behavior: void 0\n          });\n        }\n        this.pendingMeasuredCacheIndexes.push(item.index);\n        this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size));\n        this.notify(false);\n      }\n    };\n    this.measureElement = (node) => {\n      if (!node) {\n        this.elementsCache.forEach((cached, key) => {\n          if (!cached.isConnected) {\n            this.observer.unobserve(cached);\n            this.elementsCache.delete(key);\n          }\n        });\n        return;\n      }\n      this._measureElement(node, void 0);\n    };\n    this.getVirtualItems = memo(\n      () => [this.getVirtualIndexes(), this.getMeasurements()],\n      (indexes, measurements) => {\n        const virtualItems = [];\n        for (let k = 0, len = indexes.length; k < len; k++) {\n          const i = indexes[k];\n          const measurement = measurements[i];\n          virtualItems.push(measurement);\n        }\n        return virtualItems;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualItems\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualItemForOffset = (offset) => {\n      const measurements = this.getMeasurements();\n      if (measurements.length === 0) {\n        return void 0;\n      }\n      return notUndefined(\n        measurements[findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index) => notUndefined(measurements[index]).start,\n          offset\n        )]\n      );\n    };\n    this.getOffsetForAlignment = (toOffset, align, itemSize = 0) => {\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        align = toOffset >= scrollOffset + size ? \"end\" : \"start\";\n      }\n      if (align === \"center\") {\n        toOffset += (itemSize - size) / 2;\n      } else if (align === \"end\") {\n        toOffset -= size;\n      }\n      const maxOffset = this.getTotalSize() + this.options.scrollMargin - size;\n      return Math.max(Math.min(maxOffset, toOffset), 0);\n    };\n    this.getOffsetForIndex = (index, align = \"auto\") => {\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return void 0;\n      }\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n          align = \"end\";\n        } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n          align = \"start\";\n        } else {\n          return [scrollOffset, align];\n        }\n      }\n      const toOffset = align === \"end\" ? item.end + this.options.scrollPaddingEnd : item.start - this.options.scrollPaddingStart;\n      return [\n        this.getOffsetForAlignment(toOffset, align, item.size),\n        align\n      ];\n    };\n    this.isDynamicMode = () => this.elementsCache.size > 0;\n    this.scrollToOffset = (toOffset, { align = \"start\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.scrollToIndex = (index, { align: initialAlign = \"auto\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      let attempts = 0;\n      const maxAttempts = 10;\n      const tryScroll = (currentAlign) => {\n        if (!this.targetWindow) return;\n        const offsetInfo = this.getOffsetForIndex(index, currentAlign);\n        if (!offsetInfo) {\n          console.warn(\"Failed to get offset for index:\", index);\n          return;\n        }\n        const [offset, align] = offsetInfo;\n        this._scrollToOffset(offset, { adjustments: void 0, behavior });\n        this.targetWindow.requestAnimationFrame(() => {\n          const currentOffset = this.getScrollOffset();\n          const afterInfo = this.getOffsetForIndex(index, align);\n          if (!afterInfo) {\n            console.warn(\"Failed to get offset for index:\", index);\n            return;\n          }\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align);\n          }\n        });\n      };\n      const scheduleRetry = (align) => {\n        if (!this.targetWindow) return;\n        attempts++;\n        if (attempts < maxAttempts) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"Schedule retry\", attempts, maxAttempts);\n          }\n          this.targetWindow.requestAnimationFrame(() => tryScroll(align));\n        } else {\n          console.warn(\n            `Failed to scroll to index ${index} after ${maxAttempts} attempts.`\n          );\n        }\n      };\n      tryScroll(initialAlign);\n    };\n    this.scrollBy = (delta, { behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getScrollOffset() + delta, {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.getTotalSize = () => {\n      var _a;\n      const measurements = this.getMeasurements();\n      let end;\n      if (measurements.length === 0) {\n        end = this.options.paddingStart;\n      } else if (this.options.lanes === 1) {\n        end = ((_a = measurements[measurements.length - 1]) == null ? void 0 : _a.end) ?? 0;\n      } else {\n        const endByLane = Array(this.options.lanes).fill(null);\n        let endIndex = measurements.length - 1;\n        while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n          const item = measurements[endIndex];\n          if (endByLane[item.lane] === null) {\n            endByLane[item.lane] = item.end;\n          }\n          endIndex--;\n        }\n        end = Math.max(...endByLane.filter((val) => val !== null));\n      }\n      return Math.max(\n        end - this.options.scrollMargin + this.options.paddingEnd,\n        0\n      );\n    };\n    this._scrollToOffset = (offset, {\n      adjustments,\n      behavior\n    }) => {\n      this.options.scrollToFn(offset, { behavior, adjustments }, this);\n    };\n    this.measure = () => {\n      this.itemSizeCache = /* @__PURE__ */ new Map();\n      this.notify(false);\n    };\n    this.setOptions(opts);\n  }\n}\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    const middle = (low + high) / 2 | 0;\n    const currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes\n}) {\n  const lastIndex = measurements.length - 1;\n  const getOffset = (index) => measurements[index].start;\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex\n    };\n  }\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset\n  );\n  let endIndex = startIndex;\n  if (lanes === 1) {\n    while (endIndex < lastIndex && measurements[endIndex].end < scrollOffset + outerSize) {\n      endIndex++;\n    }\n  } else if (lanes > 1) {\n    const endPerLane = Array(lanes).fill(0);\n    while (endIndex < lastIndex && endPerLane.some((pos) => pos < scrollOffset + outerSize)) {\n      const item = measurements[endIndex];\n      endPerLane[item.lane] = item.end;\n      endIndex++;\n    }\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize);\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex];\n      startPerLane[item.lane] = item.start;\n      startIndex--;\n    }\n    startIndex = Math.max(0, startIndex - startIndex % lanes);\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - endIndex % lanes));\n  }\n  return { startIndex, endIndex };\n}\nexport {\n  Virtualizer,\n  approxEqual,\n  debounce,\n  defaultKeyExtractor,\n  defaultRangeExtractor,\n  elementScroll,\n  measureElement,\n  memo,\n  notUndefined,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll\n};\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { Virtualizer, elementScroll, observeElementOffset, observeElementRect, windowScroll, observeWindowOffset, observeWindowRect } from \"@tanstack/virtual-core\";\nexport * from \"@tanstack/virtual-core\";\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction useVirtualizerBase(options) {\n  const rerender = React.useReducer(() => ({}), {})[1];\n  const resolvedOptions = {\n    ...options,\n    onChange: (instance2, sync) => {\n      var _a;\n      if (sync) {\n        flushSync(rerender);\n      } else {\n        rerender();\n      }\n      (_a = options.onChange) == null ? void 0 : _a.call(options, instance2, sync);\n    }\n  };\n  const [instance] = React.useState(\n    () => new Virtualizer(resolvedOptions)\n  );\n  instance.setOptions(resolvedOptions);\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount();\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate();\n  });\n  return instance;\n}\nfunction useVirtualizer(options) {\n  return useVirtualizerBase({\n    observeElementRect,\n    observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options\n  });\n}\nfunction useWindowVirtualizer(options) {\n  return useVirtualizerBase({\n    getScrollElement: () => typeof document !== \"undefined\" ? window : null,\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => typeof document !== \"undefined\" ? window.scrollY : 0,\n    ...options\n  });\n}\nexport {\n  useVirtualizer,\n  useWindowVirtualizer\n};\n//# sourceMappingURL=index.js.map\n","import React from 'react';\nexport const FilePreviewContext = React.createContext(null);","import { useContext } from 'react';\nimport clsx from 'clsx';\nimport { Button } from '@ui/buttons/button';\nimport { downloadFileFromUrl } from '@ui/utils/files/download-file-from-url';\nimport { FilePreviewContext } from '../file-preview-context';\nimport { Trans } from '@ui/i18n/trans';\nimport { useFileEntryUrls } from '../../../file-entry-urls';\nexport function DefaultFilePreview({\n  message,\n  className,\n  allowDownload\n}) {\n  const {\n    entries,\n    activeIndex\n  } = useContext(FilePreviewContext);\n  const activeEntry = entries[activeIndex];\n  const content = message || <Trans message=\"No file preview available\" />;\n  const {\n    downloadUrl\n  } = useFileEntryUrls(activeEntry);\n  return <div className={clsx(className, 'w-[calc(100%-40px)] max-w-400 rounded bg-paper p-40 text-center shadow')}>\n      <div className=\"text-lg\">{content}</div>\n      {allowDownload && <div className=\"mt-20 block text-center\">\n          <Button variant=\"flat\" color=\"primary\" onClick={() => {\n        if (downloadUrl) {\n          downloadFileFromUrl(downloadUrl);\n        }\n      }}>\n            <Trans message=\"Download\" />\n          </Button>\n        </div>}\n    </div>;\n}","import clsx from 'clsx';\nimport { useFileEntryUrls } from '../../../file-entry-urls';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { DefaultFilePreview } from './default-file-preview';\nexport function ImageFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    trans\n  } = useTrans();\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  if (!previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n  return <img className={clsx(className, 'shadow')} src={previewUrl} alt={trans({\n    message: 'Preview for :name',\n    values: {\n      name: entry.name\n    }\n  })} />;\n}","import { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { DefaultFilePreview } from './default-file-preview';\nimport { ProgressCircle } from '@ui/progress/progress-circle';\nimport { useFileEntryUrls } from '@common/uploads/file-entry-urls';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { Trans } from '@ui/i18n/trans';\nimport { apiClient } from '@common/http/query-client';\nconst FIVE_MB = 5242880;\nexport function TextFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    trans\n  } = useTrans();\n  const [tooLarge, setTooLarge] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isFailed, setIsFailed] = useState(false);\n  const [contents, setContents] = useState(null);\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  useEffect(() => {\n    if (!entry) return;\n    if (!previewUrl) {\n      setIsFailed(true);\n    } else if (entry.file_size >= FIVE_MB) {\n      setTooLarge(true);\n      setIsLoading(false);\n    } else {\n      getFileContents(previewUrl).then(response => {\n        setContents(response.data);\n      }).catch(() => {\n        setIsFailed(true);\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }, [entry, previewUrl]);\n  if (isLoading) {\n    return <ProgressCircle isIndeterminate aria-label={trans({\n      message: 'Loading file contents'\n    })} />;\n  }\n  if (tooLarge) {\n    return <DefaultFilePreview {...props} message={<Trans message=\"This file is too large to preview.\" />} />;\n  }\n  if (isFailed) {\n    return <DefaultFilePreview {...props} message={<Trans message=\"There was an issue previewing this file\" />} />;\n  }\n  return <pre className={clsx('h-full w-full overflow-y-auto whitespace-pre-wrap break-words rounded bg-paper p-20 text-sm', className)}>\n      <div className=\"container mx-auto\">{`${contents}`}</div>\n    </pre>;\n}\nfunction getFileContents(src) {\n  return apiClient.get(src, {\n    responseType: 'text',\n    // required for s3 presigned url to work\n    withCredentials: false,\n    headers: {\n      Accept: 'text/plain'\n    }\n  });\n}","import { useEffect, useRef, useState } from 'react';\nimport { DefaultFilePreview } from './default-file-preview';\nimport { useFileEntryUrls } from '../../../file-entry-urls';\nexport function VideoFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  const ref = useRef(null);\n  const [mediaInvalid, setMediaInvalid] = useState(false);\n  useEffect(() => {\n    setMediaInvalid(!ref.current?.canPlayType(entry.mime));\n  }, [entry]);\n  if (mediaInvalid || !previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n  return <video className={className} ref={ref} controls controlsList=\"nodownload noremoteplayback\" playsInline autoPlay>\n      <source src={previewUrl} type={entry.mime} onError={() => {\n      setMediaInvalid(true);\n    }} />\n    </video>;\n}","import { DefaultFilePreview } from './default-file-preview';\nimport { useFileEntryUrls } from '../../../file-entry-urls';\nimport { useEffect, useRef, useState } from 'react';\nexport function AudioFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  const ref = useRef(null);\n  const [mediaInvalid, setMediaInvalid] = useState(false);\n  useEffect(() => {\n    setMediaInvalid(!ref.current?.canPlayType(entry.mime));\n  }, [entry]);\n  if (mediaInvalid || !previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n  return <audio className={className} ref={ref} controls controlsList=\"nodownload noremoteplayback\" autoPlay>\n      <source src={previewUrl} type={entry.mime} onError={() => {\n      setMediaInvalid(true);\n    }} />\n    </audio>;\n}","import clsx from 'clsx';\nimport { useFileEntryUrls } from '@common/uploads/file-entry-urls';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { DefaultFilePreview } from '@common/uploads/components/file-preview/file-preview/default-file-preview';\nexport function PdfFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    trans\n  } = useTrans();\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  if (!previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n  return <iframe title={trans({\n    message: 'Preview for :name',\n    values: {\n      name: entry.name\n    }\n  })} className={clsx(className, 'h-full w-full')} src={`${previewUrl}#toolbar=0`} />;\n}","import clsx from 'clsx';\nimport { useEffect, useRef, useState } from 'react';\nimport { DefaultFilePreview } from './default-file-preview';\nimport { ProgressCircle } from '@ui/progress/progress-circle';\nimport { useFileEntryUrls } from '../../../file-entry-urls';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport { apiClient } from '@common/http/query-client';\nexport function WordDocumentFilePreview(props) {\n  const {\n    entry,\n    className\n  } = props;\n  const {\n    trans\n  } = useTrans();\n  const ref = useRef(null);\n  const [showDefault, setShowDefault] = useState(false);\n  const timeoutId = useRef();\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    previewUrl\n  } = useFileEntryUrls(entry);\n  useEffect(() => {\n    // Google Docs viewer only supports files up to 25MB\n    if (!previewUrl) {\n      setShowDefault(true);\n    } else if (entry.file_size && entry.file_size > 25000000) {\n      setShowDefault(true);\n    } else if (ref.current) {\n      ref.current.onload = () => {\n        clearTimeout(timeoutId.current);\n        setIsLoading(false);\n      };\n      buildPreviewUrl(previewUrl, entry).then(url => {\n        if (ref.current) {\n          ref.current.src = url;\n        }\n      });\n\n      // if preview iframe is not loaded\n      // after 5 seconds, bail and show default preview\n      timeoutId.current = setTimeout(() => {\n        setShowDefault(true);\n      }, 5000);\n    }\n  }, [entry, previewUrl]);\n  if (showDefault) {\n    return <DefaultFilePreview {...props} />;\n  }\n  return <div className={clsx(className, 'h-full w-full')}>\n      {isLoading && <ProgressCircle />}\n      <iframe ref={ref} title={trans({\n      message: 'Preview for :name',\n      values: {\n        name: entry.name\n      }\n    })} className={clsx('h-full w-full', isLoading && 'hidden')} />\n    </div>;\n}\nasync function buildPreviewUrl(urlString, entry) {\n  const url = new URL(urlString);\n  // if we're not trying to preview shareable link we will need to generate\n  // preview token, otherwise it won't be publicly accessible\n  if (!url.searchParams.has('shareable_link')) {\n    const {\n      data\n    } = await apiClient.post(`file-entries/${entry.id}/add-preview-token`);\n    url.searchParams.append('preview_token', data.preview_token);\n  }\n  return buildOfficeLivePreviewUrl(url);\n}\nfunction buildOfficeLivePreviewUrl(url) {\n  // https://docs.google.com/gview?embedded=true&url=\n  return `https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(url.toString())}`;\n}","import { ImageFilePreview } from './file-preview/image-file-preview';\nimport { DefaultFilePreview } from './file-preview/default-file-preview';\nimport { TextFilePreview } from './file-preview/text-file-preview';\nimport { VideoFilePreview } from './file-preview/video-file-preview';\nimport { AudioFilePreview } from './file-preview/audio-file-preview';\nimport { PdfFilePreview } from './file-preview/pdf-file-preview';\nimport { WordDocumentFilePreview } from './file-preview/word-document-file-preview';\nexport const AvailablePreviews = {\n  text: TextFilePreview,\n  video: VideoFilePreview,\n  audio: AudioFilePreview,\n  image: ImageFilePreview,\n  pdf: PdfFilePreview,\n  spreadsheet: WordDocumentFilePreview,\n  powerPoint: WordDocumentFilePreview,\n  word: WordDocumentFilePreview,\n  'text/rtf': DefaultFilePreview\n};\nexport function getPreviewForEntry(entry) {\n  const mime = entry?.mime;\n  const type = entry?.type;\n  return AvailablePreviews[mime] || AvailablePreviews[type] || DefaultFilePreview;\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const ChevronLeftIcon = createSvgIcon(<path d=\"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z\" />, 'ChevronLeftOutlined');","import { AnimatePresence, m } from 'framer-motion';\nimport { Fragment, useContext, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { getPreviewForEntry } from './available-previews';\nimport { FilePreviewContext } from './file-preview-context';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { ChevronLeftIcon } from '@ui/icons/material/ChevronLeft';\nimport { ChevronRightIcon } from '@ui/icons/material/ChevronRight';\nimport { FileDownloadIcon } from '@ui/icons/material/FileDownload';\nimport { downloadFileFromUrl } from '@ui/utils/files/download-file-from-url';\nimport { useFileEntryUrls } from '../../file-entry-urls';\nimport { Trans } from '@ui/i18n/trans';\nimport { Button } from '@ui/buttons/button';\nimport { CloseIcon } from '@ui/icons/material/Close';\nimport { FileThumbnail } from '@common/uploads/components/file-type-icon/file-thumbnail';\nimport { useMediaQuery } from '@ui/utils/hooks/use-media-query';\nimport { KeyboardArrowLeftIcon } from '@ui/icons/material/KeyboardArrowLeft';\nimport { KeyboardArrowRightIcon } from '@ui/icons/material/KeyboardArrowRight';\nimport { useControlledState } from '@react-stately/utils';\nimport { opacityAnimation } from '@ui/animation/opacity-animation';\nexport function FilePreviewContainer({\n  entries,\n  onClose,\n  showHeader = true,\n  className,\n  headerActionsLeft,\n  allowDownload = true,\n  ...props\n}) {\n  const isMobile = useMediaQuery('(max-width: 1024px)');\n  const [activeIndex, setActiveIndex] = useControlledState(props.activeIndex, props.defaultActiveIndex || 0, props.onActiveIndexChange);\n  const activeEntry = entries[activeIndex];\n  const contextValue = useMemo(() => {\n    return {\n      entries,\n      activeIndex\n    };\n  }, [entries, activeIndex]);\n  const Preview = getPreviewForEntry(activeEntry);\n  if (!activeEntry) {\n    onClose?.();\n    return null;\n  }\n  const canOpenNext = entries.length - 1 > activeIndex;\n  const openNext = () => {\n    setActiveIndex(activeIndex + 1);\n  };\n  const canOpenPrevious = activeIndex > 0;\n  const openPrevious = () => {\n    setActiveIndex(activeIndex - 1);\n  };\n  return <FilePreviewContext.Provider value={contextValue}>\n      {showHeader && <Header actionsLeft={headerActionsLeft} isMobile={isMobile} onClose={onClose} onNext={canOpenNext ? openNext : undefined} onPrevious={canOpenPrevious ? openPrevious : undefined} allowDownload={allowDownload} />}\n      <div className={clsx('relative flex-auto overflow-hidden', className)}>\n        {isMobile && <IconButton size=\"lg\" className=\"absolute left-0 top-1/2 z-10 -translate-y-1/2 transform text-muted\" disabled={!canOpenPrevious} onClick={openPrevious}>\n            <KeyboardArrowLeftIcon />\n          </IconButton>}\n        <AnimatePresence initial={false}>\n          <m.div className=\"absolute inset-0 flex items-center justify-center\" key={activeEntry.id} {...opacityAnimation}>\n            <Preview className=\"max-h-[calc(100%-30px)]\" entry={activeEntry} allowDownload={allowDownload} />\n          </m.div>\n        </AnimatePresence>\n        {isMobile && <IconButton size=\"lg\" className=\"absolute right-0 top-1/2 z-10 -translate-y-1/2 transform text-muted\" disabled={!canOpenNext} onClick={openNext}>\n            <KeyboardArrowRightIcon />\n          </IconButton>}\n      </div>\n    </FilePreviewContext.Provider>;\n}\nfunction Header({\n  onNext,\n  onPrevious,\n  onClose,\n  isMobile,\n  actionsLeft,\n  allowDownload\n}) {\n  const {\n    entries,\n    activeIndex\n  } = useContext(FilePreviewContext);\n  const activeEntry = entries[activeIndex];\n  const {\n    downloadUrl\n  } = useFileEntryUrls(activeEntry);\n  const desktopDownloadButton = <Button startIcon={<FileDownloadIcon />} variant=\"text\" onClick={() => {\n    if (downloadUrl) {\n      downloadFileFromUrl(downloadUrl);\n    }\n  }}>\n      <Trans message=\"Download\" />\n    </Button>;\n  const mobileDownloadButton = <IconButton onClick={() => {\n    if (downloadUrl) {\n      downloadFileFromUrl(downloadUrl);\n    }\n  }}>\n      <FileDownloadIcon />\n    </IconButton>;\n  const downloadButton = isMobile ? mobileDownloadButton : desktopDownloadButton;\n  return <div className=\"flex min-h-50 flex-shrink-0 items-center justify-between gap-20 border-b bg-paper px-10 text-sm text-muted\">\n      <div className=\"flex w-1/3 items-center justify-start gap-4\">\n        {actionsLeft}\n        {allowDownload ? downloadButton : undefined}\n      </div>\n      <div className=\"flex w-1/3 flex-nowrap items-center justify-center gap-10 text-main\">\n        <FileThumbnail file={activeEntry} iconClassName=\"w-16 h-16\" showImage={false} />\n        <div className=\"overflow-hidden overflow-ellipsis whitespace-nowrap\">\n          {activeEntry.name}\n        </div>\n      </div>\n      <div className=\"flex w-1/3 items-center justify-end gap-10 whitespace-nowrap\">\n        {!isMobile && <Fragment>\n            <IconButton disabled={!onPrevious} onClick={onPrevious}>\n              <ChevronLeftIcon />\n            </IconButton>\n            <div>{activeIndex + 1}</div>\n            <div>/</div>\n            <div>{entries.length}</div>\n            <IconButton disabled={!onNext} onClick={onNext}>\n              <ChevronRightIcon />\n            </IconButton>\n            <div className=\"mx-20 h-24 w-1 bg-divider\" />\n          </Fragment>}\n        <IconButton radius=\"rounded-none\" onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      </div>\n    </div>;\n}","import { FilePreviewContainer } from './file-preview-container';\nimport { useDialogContext } from '@ui/overlays/dialog/dialog-context';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nexport function FilePreviewDialog(props) {\n  return <Dialog size=\"fullscreenTakeover\" background=\"bg-alt\" className=\"flex flex-col\">\n      <Content {...props} />\n    </Dialog>;\n}\nfunction Content(props) {\n  const {\n    close\n  } = useDialogContext();\n  return <FilePreviewContainer onClose={close} {...props} />;\n}","import { useControlledState } from '@react-stately/utils';\nimport { useCallback, useState } from 'react';\nimport { isSameDay, toCalendarDate } from '@internationalized/date';\nimport { useBaseDatePickerState } from '../use-base-date-picker-state';\nimport { useCurrentDateTime } from '@ui/i18n/use-current-date-time';\nimport { toSafeZoned } from '@ui/i18n/to-safe-zoned';\nexport function useDatePickerState(props) {\n  const now = useCurrentDateTime();\n  const [isPlaceholder, setIsPlaceholder] = useState(!props.value && !props.defaultValue);\n\n  // if user clears the date, we will want to still keep an\n  // instance internally, but return null via \"onChange\" callback\n  const setStateValue = props.onChange;\n  const [internalValue, setInternalValue] = useControlledState(props.value || now, props.defaultValue || now, value => {\n    setIsPlaceholder(false);\n    setStateValue?.(value);\n  });\n  const {\n    min,\n    max,\n    granularity,\n    timezone,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection\n  } = useBaseDatePickerState(internalValue, props);\n  const clear = useCallback(() => {\n    setIsPlaceholder(true);\n    setInternalValue(now);\n    setStateValue?.(null);\n    setCalendarIsOpen(false);\n  }, [now, setInternalValue, setStateValue, setCalendarIsOpen]);\n  const [calendarDates, setCalendarDates] = useState(() => {\n    return [toCalendarDate(internalValue)];\n  });\n  const setSelectedValue = useCallback(newValue => {\n    if (min && newValue.compare(min) < 0) {\n      newValue = min;\n    } else if (max && newValue.compare(max) > 0) {\n      newValue = max;\n    }\n\n    // preserve time\n    const value = internalValue ? internalValue.set(newValue) : toSafeZoned(newValue, timezone);\n    setInternalValue(value);\n    setCalendarDates([toCalendarDate(value)]);\n    setIsPlaceholder(false);\n  }, [setInternalValue, min, max, internalValue, timezone]);\n  const dayIsActive = useCallback(day => !isPlaceholder && isSameDay(internalValue, day), [internalValue, isPlaceholder]);\n  const getCellProps = useCallback(date => {\n    return {\n      onClick: () => {\n        setSelectedValue?.(date);\n        if (closeDialogOnSelection) {\n          setCalendarIsOpen?.(false);\n        }\n      }\n    };\n  }, [setSelectedValue, setCalendarIsOpen, closeDialogOnSelection]);\n  return {\n    selectedValue: internalValue,\n    setSelectedValue: setInternalValue,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    dayIsActive,\n    dayIsHighlighted: () => false,\n    dayIsRangeStart: () => false,\n    dayIsRangeEnd: () => false,\n    getCellProps,\n    calendarDates,\n    setCalendarDates,\n    isPlaceholder,\n    clear,\n    setIsPlaceholder,\n    min,\n    max,\n    granularity,\n    timezone,\n    closeDialogOnSelection\n  };\n}","import React, { Fragment, useRef } from 'react';\nimport { parseAbsoluteToLocal } from '@internationalized/date';\nimport { useController } from 'react-hook-form';\nimport { mergeProps } from '@react-aria/utils';\nimport { useDatePickerState } from './use-date-picker-state';\nimport { DialogTrigger } from '@ui/overlays/dialog/dialog-trigger';\nimport { DateRangeIcon } from '@ui/icons/material/DateRange';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { Calendar } from '../calendar/calendar';\nimport { DatePickerField } from '../date-range-picker/date-picker-field';\nimport { DateSegmentList } from '../segments/date-segment-list';\nimport { useDateFormatter } from '@ui/i18n/use-date-formatter';\nimport { useTrans } from '@ui/i18n/use-trans';\nimport clsx from 'clsx';\nimport { DialogFooter } from '@ui/overlays/dialog/dialog-footer';\nimport { Button } from '@ui/buttons/button';\nimport { Trans } from '@ui/i18n/trans';\nimport { useCurrentDateTime } from '@ui/i18n/use-current-date-time';\nexport function DatePicker({\n  showCalendarFooter,\n  ...props\n}) {\n  const state = useDatePickerState(props);\n  const inputRef = useRef(null);\n  const now = useCurrentDateTime();\n  const footer = showCalendarFooter && <DialogFooter padding=\"px-14 pb-14\" startAction={<Button disabled={state.isPlaceholder} variant=\"text\" color=\"primary\" onClick={() => {\n    state.clear();\n  }}>\n          <Trans message=\"Clear\" />\n        </Button>}>\n      <Button variant=\"text\" color=\"primary\" onClick={() => {\n      state.setSelectedValue(now);\n      state.setCalendarIsOpen(false);\n    }}>\n        <Trans message=\"Today\" />\n      </Button>\n    </DialogFooter>;\n  const dialog = <DialogTrigger offset={8} placement=\"bottom-start\" isOpen={state.calendarIsOpen} onOpenChange={state.setCalendarIsOpen} type=\"popover\" triggerRef={inputRef} returnFocusToTrigger={false} moveFocusToDialog={false}>\n      <Dialog size=\"auto\">\n        <DialogBody className=\"flex items-start gap-40\" padding={showCalendarFooter ? 'px-24 pt-20 pb-10' : null}>\n          <Calendar state={state} visibleMonths={1} />\n        </DialogBody>\n        {footer}\n      </Dialog>\n    </DialogTrigger>;\n  const openOnClick = {\n    onClick: e => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!isHourSegment(e)) {\n        state.setCalendarIsOpen(true);\n      } else {\n        state.setCalendarIsOpen(false);\n      }\n    }\n  };\n  return <Fragment>\n      <DatePickerField ref={inputRef} wrapperProps={openOnClick} endAdornment={<DateRangeIcon className={clsx(props.disabled && 'text-disabled')} />} {...props}>\n        <DateSegmentList segmentProps={openOnClick} state={state} value={state.selectedValue} onChange={state.setSelectedValue} isPlaceholder={state.isPlaceholder} />\n      </DatePickerField>\n      {dialog}\n    </Fragment>;\n}\nexport function FormDatePicker(props) {\n  const {\n    min,\n    max\n  } = props;\n  const {\n    trans\n  } = useTrans();\n  const {\n    format\n  } = useDateFormatter();\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = null,\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name,\n    rules: {\n      validate: v => {\n        if (!v) return;\n        const date = parseAbsoluteToLocal(v);\n        if (min && date.compare(min) < 0) {\n          return trans({\n            message: 'Enter a date after :date',\n            values: {\n              date: format(v)\n            }\n          });\n        }\n        if (max && date.compare(max) > 0) {\n          return trans({\n            message: 'Enter a date before :date',\n            values: {\n              date: format(v)\n            }\n          });\n        }\n      }\n    }\n  });\n  const parsedValue = value ? parseAbsoluteToLocal(value) : null;\n  const formProps = {\n    onChange: e => {\n      onChange(e ? e.toAbsoluteString() : e);\n    },\n    onBlur,\n    value: parsedValue,\n    invalid,\n    errorMessage: error?.message,\n    inputRef: ref\n  };\n  return <DatePicker {...mergeProps(formProps, props)} />;\n}\nfunction isHourSegment(e) {\n  return ['hour', 'minute', 'dayPeriod'].includes(e.currentTarget.ariaLabel || '');\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const InfoIcon = createSvgIcon(<path d=\"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />, 'InfoOutlined');","import clsx from 'clsx';\nimport { m } from 'framer-motion';\nimport { cloneElement, useContext } from 'react';\nimport { DashboardLayoutContext } from './dashboard-layout-context';\nexport function DashboardSidenav({\n  className,\n  position,\n  children,\n  size = 'md',\n  mode,\n  overlayPosition = 'fixed',\n  display = 'flex',\n  overflow = 'overflow-hidden',\n  forceClosed = false\n}) {\n  const {\n    isMobileMode,\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    rightSidenavStatus,\n    setRightSidenavStatus\n  } = useContext(DashboardLayoutContext);\n  const isOverlayMode = isMobileMode || mode === 'overlay';\n  let status = position === 'left' ? leftSidenavStatus : rightSidenavStatus;\n  // on mobile always overlay full size sidebar, instead of compact\n  if (isOverlayMode && status === 'compact') {\n    status = 'open';\n  }\n  const variants = {\n    open: {\n      display,\n      width: getAnimateSize(status === 'compact' ? 'compact' : size)\n    },\n    closed: {\n      width: 0,\n      transitionEnd: {\n        display: 'none'\n      }\n    }\n  };\n  const sizeClassName = getSizeClassName(status === 'compact' ? 'compact' : size);\n  return <m.div variants={variants} initial={false} animate={forceClosed || status === 'closed' ? 'closed' : 'open'} transition={{\n    type: 'tween',\n    duration: 0.15\n  }} onClick={e => {\n    // close sidenav when user clicks a link or button on mobile\n    const target = e.target;\n    if (isMobileMode && (target.closest('button') || target.closest('a'))) {\n      setLeftSidenavStatus('closed');\n      setRightSidenavStatus('closed');\n    }\n  }} className={clsx(className, position === 'left' ? 'dashboard-grid-sidenav-left' : 'dashboard-grid-sidenav-right', overflow, sizeClassName, isOverlayMode && `${overlayPosition} bottom-0 top-0 z-20 shadow-2xl`, isOverlayMode && position === 'left' && 'left-0', isOverlayMode && position === 'right' && 'right-0')}>\n      {cloneElement(children, {\n      className: clsx(children.props.className, 'w-full h-full overflow-y-auto compact-scrollbar', status === 'compact' && 'hidden-scrollbar'),\n      isCompactMode: status === 'compact',\n      isOverlayMode\n    })}\n    </m.div>;\n}\nfunction getSizeClassName(size) {\n  switch (size) {\n    case 'compact':\n      return 'w-60';\n    case 'sm':\n      return 'w-224';\n    case 'md':\n      return 'w-240';\n    case 'lg':\n      return 'w-288';\n    default:\n      return size || '';\n  }\n}\nfunction getAnimateSize(size) {\n  switch (size) {\n    case 'compact':\n      return 60;\n    case 'sm':\n      return 224;\n    case 'md':\n      return 240;\n    case 'lg':\n      return 288;\n    default:\n      return null;\n  }\n}","import { cloneElement } from 'react';\nimport clsx from 'clsx';\nexport function DashboardContent({\n  children,\n  isScrollable = true,\n  stableScrollbar = true\n}) {\n  return cloneElement(children, {\n    className: clsx(children.props.className, isScrollable && 'overflow-y-auto', isScrollable && stableScrollbar && 'stable-scrollbar', 'dashboard-grid-content', 'has-[.dashboard-stable-scrollbar]:stable-scrollbar')\n  });\n}","import { createSvgIcon } from '../create-svg-icon';\nexport const MenuOpenIcon = createSvgIcon(<path d=\"M3 18h13v-2H3v2zm0-5h10v-2H3v2zm0-7v2h13V6H3zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5L21 15.59z\" />, 'MenuOpenOutlined');","import { Navbar } from '../navigation/navbar/navbar';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport React, { useContext } from 'react';\nimport clsx from 'clsx';\nimport { DashboardLayoutContext } from './dashboard-layout-context';\nimport { setInLocalStorage } from '@ui/utils/hooks/local-storage';\nimport { MenuOpenIcon } from '@ui/icons/material/MenuOpen';\nexport function DashboardNavbar({\n  children,\n  className,\n  hideToggleButton,\n  ...props\n}) {\n  const {\n    isMobileMode,\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    name,\n    leftSidenavCanBeCompact\n  } = useContext(DashboardLayoutContext);\n  const shouldToggleCompactMode = leftSidenavCanBeCompact && !isMobileMode;\n  const shouldShowToggle = !hideToggleButton && (isMobileMode || leftSidenavCanBeCompact);\n  const handleToggle = () => {\n    setLeftSidenavStatus(leftSidenavStatus === 'open' ? 'closed' : 'open');\n  };\n  const handleCompactModeToggle = () => {\n    const newStatus = leftSidenavStatus === 'compact' ? 'open' : 'compact';\n    setInLocalStorage(`${name}.sidenav.compact`, newStatus === 'compact');\n    setLeftSidenavStatus(newStatus);\n  };\n  return <Navbar className={clsx('dashboard-grid-navbar', className)} border=\"border-b\" size=\"sm\" toggleButton={shouldShowToggle ? <IconButton size=\"md\" onClick={() => {\n    if (shouldToggleCompactMode) {\n      handleCompactModeToggle();\n    } else {\n      handleToggle();\n    }\n  }}>\n            <MenuOpenIcon />\n          </IconButton> : undefined} {...props}>\n      {children}\n    </Navbar>;\n}","import { useEffect } from 'react';\nexport function useBlockBodyOverflow(disable = false) {\n  useEffect(() => {\n    if (disable) {\n      document.documentElement.classList.remove('no-page-overflow');\n    } else {\n      document.documentElement.classList.add('no-page-overflow');\n    }\n    return () => {\n      document.documentElement.classList.remove('no-page-overflow');\n    };\n  }, [disable]);\n}","import { useEffect, useRef } from 'react';\nexport function usePrevious(value) {\n  const ref = useRef();\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n  return ref.current;\n}","import { useCallback, useEffect, useMemo } from 'react';\nimport { DashboardLayoutContext } from './dashboard-layout-context';\nimport { AnimatePresence } from 'framer-motion';\nimport { useControlledState } from '@react-stately/utils';\nimport { useMediaQuery } from '@ui/utils/hooks/use-media-query';\nimport { getFromLocalStorage, setInLocalStorage } from '@ui/utils/hooks/local-storage';\nimport { useBlockBodyOverflow } from '@ui/utils/hooks/use-block-body-overflow';\nimport clsx from 'clsx';\nimport { Underlay } from '@ui/overlays/underlay';\nimport { usePrevious } from '@ui/utils/hooks/use-previous';\nexport function DashboardLayout({\n  children,\n  leftSidenavStatus: leftSidenav,\n  onLeftSidenavChange,\n  rightSidenavStatus: rightSidenav,\n  compactByDefault,\n  initialRightSidenavStatus,\n  onRightSidenavChange,\n  name,\n  leftSidenavCanBeCompact,\n  height = 'h-screen',\n  className,\n  gridClassName = 'dashboard-grid',\n  blockBodyOverflow = true,\n  ...domProps\n}) {\n  useBlockBodyOverflow(!blockBodyOverflow);\n  const isMobile = useMediaQuery('(max-width: 1024px)');\n  const isCompactModeInitially = useMemo(() => {\n    if (!name) return compactByDefault ?? false;\n    const stored = getFromLocalStorage(`${name}.sidenav.compact`);\n    if (stored != null) {\n      return stored;\n    }\n    return compactByDefault ?? false;\n  }, [name, compactByDefault]);\n  const defaultLeftSidenavStatus = isCompactModeInitially ? 'compact' : 'open';\n  const [leftSidenavStatus, setLeftSidenavStatus] = useControlledState(leftSidenav, isMobile ? 'closed' : defaultLeftSidenavStatus, onLeftSidenavChange);\n  const rightSidenavStatusDefault = useMemo(() => {\n    if (isMobile) {\n      return 'closed';\n    }\n    if (initialRightSidenavStatus != null) {\n      return initialRightSidenavStatus;\n    }\n    const userSelected = getFromLocalStorage(`${name}.sidenav.right.position`, 'open');\n    if (userSelected != null) {\n      return userSelected;\n    }\n    return initialRightSidenavStatus || 'closed';\n  }, [isMobile, name, initialRightSidenavStatus]);\n  const [rightSidenavStatus, _setRightSidenavStatus] = useControlledState(rightSidenav, rightSidenavStatusDefault, onRightSidenavChange);\n  const setRightSidenavStatus = useCallback(status => {\n    _setRightSidenavStatus(status);\n    setInLocalStorage(`${name}.sidenav.right.position`, status);\n  }, [_setRightSidenavStatus, name]);\n  const previousIsMobile = usePrevious(isMobile);\n  useEffect(() => {\n    if (isMobile === previousIsMobile) return;\n    if (!isMobile) {\n      setLeftSidenavStatus(defaultLeftSidenavStatus);\n      setRightSidenavStatus(rightSidenavStatusDefault);\n    } else {\n      setLeftSidenavStatus('closed');\n      setRightSidenavStatus('closed');\n    }\n  }, [isMobile, defaultLeftSidenavStatus, rightSidenavStatusDefault, previousIsMobile, setLeftSidenavStatus, setRightSidenavStatus]);\n  const shouldShowUnderlay = isMobile && (leftSidenavStatus === 'open' || rightSidenavStatus === 'open');\n  return <DashboardLayoutContext.Provider value={{\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    rightSidenavStatus,\n    setRightSidenavStatus,\n    leftSidenavCanBeCompact,\n    name,\n    isMobileMode: isMobile\n  }}>\n      <div {...domProps} className={clsx('relative isolate', gridClassName, className, height)}>\n        {children}\n        <AnimatePresence>\n          {shouldShowUnderlay && <Underlay position=\"fixed\" key=\"dashboard-underlay\" onClick={() => {\n          setLeftSidenavStatus('closed');\n          setRightSidenavStatus('closed');\n        }} />}\n        </AnimatePresence>\n      </div>\n    </DashboardLayoutContext.Provider>;\n}"],"names":["$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","$lPAwt$useRef","addGlobalListener","$lPAwt$useCallback","eventTarget","type","listener","options","fn","args","removeGlobalListener","_globalListeners_current_get","removeAllGlobalListeners","value","key","$lPAwt$useEffect","$cc38e7bd3fc7b213$export$2bb74740c4e19def","node","checkForOverflow","style","isScrollable","$62d8ded9296f3872$export$cfa2225e87938781","scrollableNode","$e0b6e0b68ec7f50f$export$872b660ac5a1ff98","props","ref","onInteractOutside","isDisabled","onInteractOutsideStart","stateRef","$ispOf$useRef","onPointerDown","$ispOf$useEffectEvent","e","$e0b6e0b68ec7f50f$var$isValidEvent","triggerInteractOutside","$ispOf$useEffect","state","element","documentObject","$ispOf$getOwnerDocument","onClick","event","ownerDocument","ChipList","className","children","size","color","radius","selectable","wrap","startButton","jsxs","clsx","Children","chip","isValidElement","cloneElement","stringToChipValue","ChipFieldInner","fieldRef","useRef","inputRef","useObjectRef","displayWith","v","validateWith","suggestions","isLoading","inputValue","onInputValueChange","onItemSelected","placeholder","onOpenChange","chipSize","openMenuOnFocus","showEmptyMessage","propsValue","defaultValue","propsOnChange","valueKey","isAsync","allowCustomValue","showDropdownArrow","onChipClick","alwaysShowAvatar","readOnly","inputFieldProps","fieldClassNames","getInputFieldClassNames","onChange","useChipFieldValueState","listboxIsOpen","setListboxIsOpen","useState","loadingIndicator","ProgressCircle","dropdownArrow","jsx","KeyboardArrowDownIcon","fieldProps","inputProps","useField","Field","Input","_a","ListWrapper","ChipInput","items","setItems","displayChipUsing","manager","useFocusManager","removeItem","useCallback","i","cr","newItems","item","Chip","Avatar","setChips","chips","addItems","invalid","listbox","useListbox","handleItemSelection","activeIndex","setActiveIndex","isOpen","setIsOpen","setInputValue","refs","listboxId","collection","onInputChange","textValue","option","useLayoutEffect","handleTriggerKeyDown","handleListboxKeyboardNavigation","useListboxKeyboardNavigation","handleFocusAndClick","createEventHandler","Listbox","Popover","mergeProps","emails","selection","email","input","useMemo","mixedValueToChipValue","propsDefaultValue","handleChange","newValue","useControlledState","ChipField","React","DeleteIcon","createSvgIcon","draggables","droppables","dragMonitors","dragSession","interactableEvent","rect","deltaX","deltaY","activeInteraction","setActiveInteraction","name","domRectToObj","updateRects","targets","observer","entries","entry","width","height","left","top","id","target","useDraggable","disabled","preview","hidePreview","dragHandleRef","useGlobalListeners","optionsRef","notifyMonitors","callback","monitor","onDragStart","draggable","el","clickedOnHandle","hideNativeGhostImage","ie","_b","m","onDragOver","newRect","emptyImage","readFilesFromDataTransfer","dataTransfer","file","getEntryFile","UploadedFile","getEntriesFromDirectory","reader","resolve","reject","asyncIterableToArray","iterator","DROP_ACTIVATE_TIMEOUT","useDroppable","canDrop","allowEventsOnSelf","fireDragLeave","getDraggable","dropResult","_d","_c","hasNextPage","pagination","FilterControlType","FilterOperator","USER_MODEL","DateRangePicker","granularity","closeDialogOnSelection","useDateRangePickerState","hideCalendarIcon","useIsMobileMediaQuery","dialog","DialogTrigger","DateRangeDialog","openOnClick","isHourSegment","Fragment","DatePickerField","DateRangeIcon","DateSegmentList","ArrowRightAltIcon","FormDateRangePicker","onBlur","error","useController","formProps","dateRangeToAbsoluteRange","absoluteRangeToDateRange","start","end","preset","dateRange","parseAbsoluteToLocal","absoluteRange","timestampFilter","DateRangePresets","createdAtFilter","message","updatedAtFilter","FILE_ENTRY_TYPE_FILTER","FILE_ENTRY_INDEX_FILTERS","BackendFiltersUrlKey","decodeBackendFilters","encodedFilters","filtersFromQuery","filterValue","encodeBackendFilters","filterValues","filters","transformValue","fm","filterConfig","f","useBackendFilterUrlParams","pinnedFilters","searchParams","useSearchParams","navigate","useNavigate","decodedFilters","decoded","config","a","b","getDecodedWithoutKeys","values","newFilters","index","replaceAll","add","remove","FilterListTriggerButton","forwardRef","isInactive","filter","domProps","InactiveFilterButton","ActiveFilterButton","Button","Trans","isBoolean","SelectFilterPanel","trans","useTrans","FormSelect","Item","FilterListItemDialogTrigger","onValueChange","label","FilterListControlDialog","panel","operator","form","useForm","close","formId","useDialogContext","Dialog","DialogHeader","DialogBody","Form","formValue","DialogFooter","useNormalizedModels","endpoint","queryParams","queryOptions","useQuery","fetchModels","keepPreviousData","params","apiClient","r","useNormalizedModel","fetchModel","NormalizedModelField","background","searchPlaceholder","description","errorMessage","autoFocus","required","selectedValue","setSelectedValue","query","AnimatePresence","SelectedModelPreview","Select","model","modelId","onEditClick","data","LoadingSkeleton","opacityAnimation","Tooltip","IconButton","EditIcon","Skeleton","FormNormalizedModelField","clearErrors","useFormContext","NormalizedModelFilterPanel","DateRangeFilterPanel","FilterOperatorNames","InputFilterPanel","control","selectedOperator","useWatch","FormTextField","FormChipField","ChipFieldFilterPanel","o","FilterListControl","DatePickerControl","BooleanToggleControl","SelectControl","ChipFieldControl","InputControl","SelectModelControl","Control","valueLabel","FormattedDateTimeRange","MultipleValues","maxShownCount","notShownCount","names","operatorLabel","formattedValue","FormattedNumber","skeleton","modelPreview","FilterList","field","handleValueChange","payload","CloseIcon","DashboardLayoutContext","createContext","usePointerEvents","onMoveStart","onMove","onMoveEnd","minimumMovement","preventDefault","stopPropagation","onPress","onLongPress","onPointerMove","onPointerUp","longPressTriggered","FileDownloadIcon","FileEntryUrlsContext","useFileEntryUrls","base_url","useSettings","urlSearchParams","useContext","urls","buildPreviewUrl","addParams","preferThumbnail","isAbsoluteUrl","extension","getBootstrapData","urlString","baseUrl","url","downloadFileFromUrl","link","MoreVertIcon","isCtrlKeyPressed","isMac","useGridNavigation","cellCount","rowCount","focusSiblingCell","focusFirstElementAfterGrid","operations","grid","currentCell","row","rowIndex","cellIndex","rowOpCount","cellOpCount","_e","_f","_g","nextCell","nextFocusableElement","getFocusableTreeWalker","walker","next","last","focusWithoutScrolling","TableContext","useTableCellStyle","isHeader","columns","cellHeight","headerCellHeight","column","userPadding","justify","TableCell","rowIsHovered","rowContext","isCtrlOrShiftPressed","useTableRowStyle","isSelected","isDarkMode","useIsDarkMode","isMobile","hideBorder","enableSelection","collapseOnMobile","onAction","interactableElements","TableRow","renderAs","selectedRows","toggleRow","selectRow","selectRowOnContextMenu","selectionStyle","hideHeaderRow","isTouchDevice","isHovered","setIsHovered","clickedOnInteractable","doubleClickHandler","anyRowsSelected","handleRowTap","keyboardHandler","contextMenuHandler","styleClassName","RowElement","CheckboxColumnConfig","SelectAllCheckbox","SelectRowCheckbox","Checkbox","onSelectionChange","allRowsSelected","someRowsSelected","d","ArrowDownwardIcon","HeaderCell","sortDescriptor","onSortChange","enableSorting","sortingKey","allowSorting","orderBy","orderDir","sortActive","ariaSort","toggleSorting","newSort","sortVisible","sortVariants","TableHeaderRow","columnIndex","Table","userColumns","propsSelectedRows","propsDefaultSelectedRows","propsOnSelectionChange","propsSortDescriptor","propsOnSortChange","onDelete","ariaLabelledBy","renderRowAs","tableBody","meta","propsTableRef","closeOnInteractOutside","isCollapsedMode","newValues","merge","filteredColumns","c","visibleInMode","contextValue","navProps","tableBodyProps","BasicTableBody","tableRef","useInteractOutside","TwoMB","FileThumbnail","iconClassName","showImage","previewUrl","alt","FileTypeIcon","memo","getDeps","opts","deps","result","memoizedFunction","depTime","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","str","num","notUndefined","msg","approxEqual","debounce","targetWindow","ms","timeoutId","getRect","offsetWidth","offsetHeight","defaultKeyExtractor","defaultRangeExtractor","range","arr","observeElementRect","instance","cb","handler","run","box","addEventListenerOptions","supportsScrollend","observeElementOffset","offset","fallback","createHandler","isScrolling","horizontal","isRtl","endHandler","registerScrollendEvent","measureElement","elementScroll","adjustments","behavior","toOffset","Virtualizer","_ro","get","opts2","sync","scrollElement","cached","measurements","furthestMeasurementsFound","furthestMeasurements","measurement","previousFurthestMeasurement","count","paddingStart","scrollMargin","getItemKey","enabled","itemSizeCache","min","furthestMeasurement","measuredSize","lane","outerSize","scrollOffset","lanes","calculateRange","startIndex","endIndex","rangeExtractor","overscan","attributeName","indexStr","prevNode","itemSize","delta","indexes","virtualItems","k","len","findNearestBinarySearch","align","maxOffset","initialAlign","attempts","maxAttempts","tryScroll","currentAlign","offsetInfo","currentOffset","afterInfo","scheduleRetry","endByLane","val","low","high","getCurrentValue","middle","currentValue","lastIndex","getOffset","endPerLane","pos","startPerLane","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","useVirtualizerBase","rerender","React.useReducer","resolvedOptions","instance2","flushSync","React.useState","useVirtualizer","FilePreviewContext","DefaultFilePreview","allowDownload","activeEntry","content","downloadUrl","ImageFilePreview","FIVE_MB","TextFilePreview","tooLarge","setTooLarge","setIsLoading","isFailed","setIsFailed","contents","setContents","useEffect","getFileContents","response","src","VideoFilePreview","mediaInvalid","setMediaInvalid","AudioFilePreview","PdfFilePreview","WordDocumentFilePreview","showDefault","setShowDefault","buildOfficeLivePreviewUrl","AvailablePreviews","getPreviewForEntry","mime","ChevronLeftIcon","FilePreviewContainer","onClose","showHeader","headerActionsLeft","useMediaQuery","Preview","canOpenNext","openNext","canOpenPrevious","openPrevious","Header","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","onNext","onPrevious","actionsLeft","downloadButton","ChevronRightIcon","FilePreviewDialog","Content","useDatePickerState","now","useCurrentDateTime","isPlaceholder","setIsPlaceholder","setStateValue","internalValue","setInternalValue","max","timezone","calendarIsOpen","setCalendarIsOpen","useBaseDatePickerState","clear","calendarDates","setCalendarDates","toCalendarDate","toSafeZoned","dayIsActive","day","isSameDay","getCellProps","date","DatePicker","showCalendarFooter","footer","Calendar","FormDatePicker","format","useDateFormatter","parsedValue","InfoIcon","DashboardSidenav","position","mode","overlayPosition","display","overflow","forceClosed","isMobileMode","leftSidenavStatus","setLeftSidenavStatus","rightSidenavStatus","setRightSidenavStatus","isOverlayMode","status","variants","getAnimateSize","sizeClassName","getSizeClassName","DashboardContent","stableScrollbar","MenuOpenIcon","DashboardNavbar","hideToggleButton","leftSidenavCanBeCompact","shouldToggleCompactMode","shouldShowToggle","handleToggle","handleCompactModeToggle","newStatus","setInLocalStorage","Navbar","useBlockBodyOverflow","disable","usePrevious","DashboardLayout","leftSidenav","onLeftSidenavChange","rightSidenav","compactByDefault","initialRightSidenavStatus","onRightSidenavChange","gridClassName","blockBodyOverflow","defaultLeftSidenavStatus","stored","getFromLocalStorage","rightSidenavStatusDefault","userSelected","_setRightSidenavStatus","previousIsMobile","shouldShowUnderlay","Underlay"],"mappings":"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","x_google_ignoreList":[0,1,2,3,62,63,64]}