{"version":3,"file":"lazy-chart-0d3d4c0a.js","sources":["../../../common/foundation/resources/client/charts/lazy-chart.jsx"],"sourcesContent":["import { ArcElement, BarController, BarElement, CategoryScale, Chart, Filler, Legend, LinearScale, LineController, LineElement, PointElement, PolarAreaController, RadialLinearScale, Tooltip } from 'chart.js';\nimport { useEffect, useRef } from 'react';\nimport deepMerge from 'deepmerge';\nChart.register([LineElement, PointElement, BarElement, ArcElement, LineController, BarController, PolarAreaController, RadialLinearScale, CategoryScale, LinearScale, Tooltip, Filler, Legend]);\nexport default function LazyChart({\n  type,\n  data,\n  options,\n  hideLegend\n}) {\n  const ref = useRef(null);\n  const chartRef = useRef();\n  useEffect(() => {\n    if (ref.current) {\n      chartRef.current = new Chart(ref.current, {\n        type,\n        data,\n        options: deepMerge({\n          maintainAspectRatio: false,\n          animation: {\n            duration: 250\n          },\n          plugins: {\n            legend: {\n              position: 'bottom',\n              display: !hideLegend\n            },\n            tooltip: {\n              padding: 16,\n              cornerRadius: 4,\n              callbacks: {\n                title: ([item]) => {\n                  const data = item.raw;\n                  return data.tooltipTitle ?? item.label;\n                },\n                label: item => {\n                  return `  ${item.dataset.label}: ${item.formattedValue}`;\n                }\n              }\n            }\n          }\n        }, options)\n      });\n    }\n    return () => {\n      chartRef.current?.destroy();\n    };\n  }, [data, type, options, hideLegend]);\n  return <canvas ref={ref}></canvas>;\n}"],"names":["Chart","LineElement","PointElement","BarElement","ArcElement","LineController","BarController","PolarAreaController","RadialLinearScale","CategoryScale","LinearScale","Tooltip","Filler","Legend","LazyChart","type","data","options","hideLegend","ref","useRef","chartRef","useEffect","deepMerge","item","_a","jsx"],"mappings":"4TAGAA,EAAM,SAAS,CAACC,EAAaC,EAAcC,EAAYC,EAAYC,EAAgBC,EAAeC,EAAqBC,EAAmBC,EAAeC,EAAaC,EAASC,EAAQC,CAAM,CAAC,EAC9L,SAAwBC,EAAU,CAChC,KAAAC,EACA,KAAAC,EACA,QAAAC,EACA,WAAAC,CACF,EAAG,CACK,MAAAC,EAAMC,SAAO,IAAI,EACjBC,EAAWD,EAAAA,SACjBE,OAAAA,EAAAA,UAAU,KACJH,EAAI,UACNE,EAAS,QAAU,IAAIrB,EAAMmB,EAAI,QAAS,CACxC,KAAAJ,EACA,KAAAC,EACA,QAASO,EAAU,CACjB,oBAAqB,GACrB,UAAW,CACT,SAAU,GACZ,EACA,QAAS,CACP,OAAQ,CACN,SAAU,SACV,QAAS,CAACL,CACZ,EACA,QAAS,CACP,QAAS,GACT,aAAc,EACd,UAAW,CACT,MAAO,CAAC,CAACM,CAAI,IACEA,EAAK,IACN,cAAgBA,EAAK,MAEnC,MAAeA,GACN,KAAKA,EAAK,QAAQ,KAAK,KAAKA,EAAK,cAAc,EAE1D,CACF,CACF,GACCP,CAAO,CAAA,CACX,GAEI,IAAM,QACXQ,EAAAJ,EAAS,UAAT,MAAAI,EAAkB,SAAQ,GAE3B,CAACT,EAAMD,EAAME,EAASC,CAAU,CAAC,EAC7BQ,MAAC,UAAO,IAAAP,CAAU,CAAA,CAC3B"}