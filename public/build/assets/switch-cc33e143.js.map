{"version":3,"file":"switch-cc33e143.js","sources":["../../../common/foundation/resources/client/ui/library/forms/toggle/switch.jsx"],"sourcesContent":["import React, { useId } from 'react';\nimport clsx from 'clsx';\nimport { useController } from 'react-hook-form';\nimport { mergeProps, useObjectRef } from '@react-aria/utils';\nimport { getInputFieldClassNames } from '../input-field/get-input-field-class-names';\nimport { useAutoFocus } from '@ui/focus/use-auto-focus';\nexport const Switch = React.forwardRef((props, ref) => {\n  const {\n    children,\n    size = 'sm',\n    description,\n    className,\n    invalid,\n    autoFocus,\n    errorMessage,\n    iconRight,\n    ...domProps\n  } = props;\n  const inputRef = useObjectRef(ref);\n  useAutoFocus({\n    autoFocus\n  }, inputRef);\n  const style = getSizeClassName(size);\n  const fieldClassNames = getInputFieldClassNames(props);\n  const descriptionId = useId();\n  return <div className={clsx(className, 'isolate')}>\n        <label className=\"flex select-none items-center\">\n          <input {...domProps} type=\"checkbox\" role=\"switch\" aria-invalid={invalid || undefined} aria-describedby={description ? descriptionId : undefined} ref={inputRef} aria-checked={domProps.checked} className={clsx(style, !invalid && 'checked:border-primary checked:bg-primary dark:checked:border-primary-dark dark:checked:bg-primary-dark', invalid && 'checked:border-danger checked:bg-danger', 'relative flex flex-shrink-0 cursor-pointer appearance-none items-center overflow-hidden rounded-3xl border border-chip bg-chip p-0 outline-none transition-colors checked:border-primary checked:bg-primary', 'before:z-10 before:block before:translate-x-2 before:rounded-3xl before:border before:bg-white before:transition-transform', 'checked:before:border-white', 'focus-visible:ring', props.disabled && 'cursor-not-allowed opacity-80')} />\n          {children && <span className={clsx(fieldClassNames.size.font, 'ml-12', invalid && 'text-danger', props.disabled && 'text-disabled')}>\n              {children}\n            </span>}\n          {iconRight}\n        </label>\n        {description && !errorMessage && <div id={descriptionId} className={fieldClassNames.description}>\n            {description}\n          </div>}\n        {errorMessage && <div id={descriptionId} className={fieldClassNames.error}>\n            {errorMessage}\n          </div>}\n      </div>;\n});\nexport function FormSwitch(props) {\n  const {\n    field: {\n      onChange,\n      onBlur,\n      value = false,\n      ref\n    },\n    fieldState: {\n      invalid,\n      error\n    }\n  } = useController({\n    name: props.name\n  });\n  const formProps = {\n    onChange: e => {\n      if (e.target.value && e.target.value !== 'on') {\n        onChange(e.target.checked ? e.target.value : false);\n      } else {\n        onChange(e);\n      }\n    },\n    onBlur,\n    checked: !!value,\n    invalid,\n    errorMessage: error?.message,\n    name: props.name\n  };\n  return <Switch ref={ref} {...mergeProps(props, formProps)} />;\n}\nfunction getSizeClassName(size) {\n  switch (size) {\n    case 'xl':\n      return 'w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36';\n    case 'lg':\n      return 'w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30';\n    case 'md':\n      return 'w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24';\n    case 'xs':\n      return 'w-30 h-18 before:w-12 before:h-12 checked:before:translate-x-14';\n    default:\n      return 'w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20';\n  }\n}"],"names":["Switch","React","props","ref","children","size","description","className","invalid","autoFocus","errorMessage","iconRight","domProps","inputRef","useObjectRef","useAutoFocus","style","getSizeClassName","fieldClassNames","getInputFieldClassNames","descriptionId","useId","clsx","jsxs","jsx","FormSwitch","onChange","onBlur","value","error","useController","formProps","e","mergeProps"],"mappings":"oGAMO,MAAMA,EAASC,EAAM,WAAW,CAACC,EAAOC,IAAQ,CAC/C,KAAA,CACJ,SAAAC,EACA,KAAAC,EAAO,KACP,YAAAC,EACA,UAAAC,EACA,QAAAC,EACA,UAAAC,EACA,aAAAC,EACA,UAAAC,EACA,GAAGC,CACD,EAAAV,EACEW,EAAWC,EAAaX,CAAG,EACpBY,EAAA,CACX,UAAAN,GACCI,CAAQ,EACL,MAAAG,EAAQC,EAAiBZ,CAAI,EAC7Ba,EAAkBC,EAAwBjB,CAAK,EAC/CkB,EAAgBC,EAAAA,QACtB,cAAQ,MAAI,CAAA,UAAWC,EAAKf,EAAW,SAAS,EAC1C,SAAA,CAACgB,EAAAA,KAAA,QAAA,CAAM,UAAU,gCACf,SAAA,CAAAC,EAAA,IAAC,QAAO,CAAA,GAAGZ,EAAU,KAAK,WAAW,KAAK,SAAS,eAAcJ,GAAW,OAAW,mBAAkBF,EAAcc,EAAgB,OAAW,IAAKP,EAAU,eAAcD,EAAS,QAAS,UAAWU,EAAKN,EAAO,CAACR,GAAW,0GAA2GA,GAAW,0CAA2C,8MAA+M,6HAA8H,8BAA+B,qBAAsBN,EAAM,UAAY,+BAA+B,EAAG,EAC1zBE,GAAYoB,EAAA,IAAC,OAAK,CAAA,UAAWF,EAAKJ,EAAgB,KAAK,KAAM,QAASV,GAAW,cAAeN,EAAM,UAAY,eAAe,EAC7H,SAAAE,EACH,EACDO,CAAA,EACH,EACCL,GAAe,CAACI,GAAiBc,MAAA,MAAA,CAAI,GAAIJ,EAAe,UAAWF,EAAgB,YAC/E,SACHZ,CAAA,CAAA,EACDI,SAAiB,MAAI,CAAA,GAAIU,EAAe,UAAWF,EAAgB,MAC/D,SACHR,CAAA,CAAA,CACJ,CAAA,CAAA,CACN,CAAC,EACM,SAASe,EAAWvB,EAAO,CAC1B,KAAA,CACJ,MAAO,CACL,SAAAwB,EACA,OAAAC,EACA,MAAAC,EAAQ,GACR,IAAAzB,CACF,EACA,WAAY,CACV,QAAAK,EACA,MAAAqB,CACF,GACEC,EAAc,CAChB,KAAM5B,EAAM,IAAA,CACb,EACK6B,EAAY,CAChB,SAAeC,GAAA,CACTA,EAAE,OAAO,OAASA,EAAE,OAAO,QAAU,KACvCN,EAASM,EAAE,OAAO,QAAUA,EAAE,OAAO,MAAQ,EAAK,EAElDN,EAASM,CAAC,CAEd,EACA,OAAAL,EACA,QAAS,CAAC,CAACC,EACX,QAAApB,EACA,aAAcqB,GAAA,YAAAA,EAAO,QACrB,KAAM3B,EAAM,IAAA,EAEd,aAAQF,EAAO,CAAA,IAAAG,EAAW,GAAG8B,EAAW/B,EAAO6B,CAAS,CAAG,CAAA,CAC7D,CACA,SAASd,EAAiBZ,EAAM,CAC9B,OAAQA,EAAM,CACZ,IAAK,KACI,MAAA,kEACT,IAAK,KACI,MAAA,kEACT,IAAK,KACI,MAAA,kEACT,IAAK,KACI,MAAA,kEACT,QACS,MAAA,iEACX,CACF"}