{"version":3,"file":"transfer-detail-page-7ab87a0e.js","sources":["../../../resources/client/admin/transfer-files/transfer-detail-page.jsx"],"sourcesContent":["import React from 'react';\nimport { useParams, Link } from 'react-router';\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@common/http/query-client';\nimport { Trans } from '@ui/i18n/trans';\nimport { PageStatus } from '@common/http/page-status';\nimport { Button } from '@ui/buttons/button';\nimport { ArrowBackIcon } from '@ui/icons/material/ArrowBack';\nimport { Chip } from '@ui/forms/input-field/chip-field/chip';\nimport { FormattedDate } from '@ui/i18n/formatted-date';\nimport { FormattedBytes } from '@ui/i18n/formatted-bytes';\n// Using simple div elements instead of Card components\n// Removed Divider import - using simple div instead\nimport { LinkIcon } from '@ui/icons/material/Link';\nimport { DownloadIcon } from '@ui/icons/material/Download';\nimport { EmailIcon } from '@ui/icons/material/Email';\nimport { PersonIcon } from '@ui/icons/material/Person';\nimport { ScheduleIcon } from '@ui/icons/material/Schedule';\nimport { SecurityIcon } from '@ui/icons/material/Security';\nimport { MessageIcon } from '@ui/icons/material/Message';\nimport { FolderIcon } from '@ui/icons/material/Folder';\nimport { IconButton } from '@ui/buttons/icon-button';\nimport { Tooltip } from '@ui/tooltip/tooltip';\n\nfunction useTransferDetail(transferId) {\n  return useQuery({\n    queryKey: ['transfer-files', transferId],\n    queryFn: () => apiClient.get(`admin/transfer-files/${transferId}`).then(response => response.data),\n  });\n}\n\nexport function TransferDetailPage() {\n  const { transferId } = useParams();\n  const { data: transfer, isLoading, error } = useTransferDetail(transferId);\n\n  if (isLoading || error) {\n    return <PageStatus query={{ isLoading, error }} loaderClassName=\"absolute inset-0 m-auto\" />;\n  }\n\n  if (!transfer) {\n    return (\n      <div className=\"p-24 text-center\">\n        <Trans message=\"Transfer not found\" />\n      </div>\n    );\n  }\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'expired':\n        return 'danger';\n      case 'download_limit_reached':\n        return 'warning';\n      default:\n        return 'positive';\n    }\n  };\n\n  const getStatusMessage = (status) => {\n    switch (status) {\n      case 'expired':\n        return 'Expired';\n      case 'download_limit_reached':\n        return 'Limit Reached';\n      default:\n        return 'Active';\n    }\n  };\n\n  return (\n    <div className=\"p-24\">\n      {/* Header */}\n      <div className=\"mb-24 flex items-center justify-between\">\n        <div className=\"flex items-center gap-12\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            elementType={Link}\n            to=\"/admin/transfer-files\"\n            startIcon={<ArrowBackIcon />}\n          >\n            <Trans message=\"Back to transfers\" />\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-semibold\">\n              {transfer.title || transfer.original_filename || 'Untitled Transfer'}\n            </h1>\n            <div className=\"mt-4 flex items-center gap-8\">\n              <Chip color={getStatusColor(transfer.status)} size=\"sm\">\n                {getStatusMessage(transfer.status)}\n              </Chip>\n              {transfer.has_password && (\n                <Chip color=\"primary\" size=\"sm\" startIcon={<SecurityIcon />}>\n                  <Trans message=\"Password Protected\" />\n                </Chip>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {transfer.share_url && (\n          <div className=\"flex items-center gap-8\">\n            <Tooltip label={<Trans message=\"Copy share link\" />}>\n              <IconButton\n                onClick={() => navigator.clipboard.writeText(transfer.share_url)}\n              >\n                <LinkIcon />\n              </IconButton>\n            </Tooltip>\n            <Button\n              variant=\"outline\"\n              onClick={() => window.open(transfer.share_url, '_blank')}\n              startIcon={<LinkIcon />}\n            >\n              <Trans message=\"Open share link\" />\n            </Button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-24 lg:grid-cols-3\">\n        {/* Main Information */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"rounded-panel border bg-paper shadow-sm\">\n            <div className=\"p-4 pb-2\">\n              <h2 className=\"text-lg font-semibold flex items-center gap-8\">\n                <FolderIcon />\n                <Trans message=\"Transfer Information\" />\n              </h2>\n            </div>\n            <div className=\"p-4 pt-0\">\n              <div className=\"space-y-16\">\n                <div className=\"grid grid-cols-1 gap-16 md:grid-cols-2\">\n                  <div>\n                    <label className=\"text-sm font-medium text-muted\">\n                      <Trans message=\"File Name\" />\n                    </label>\n                    <div className=\"mt-4 text-sm\">\n                      {transfer.original_filename || 'Untitled'}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-muted\">\n                      <Trans message=\"File Size\" />\n                    </label>\n                    <div className=\"mt-4 text-sm\">\n                      <FormattedBytes bytes={transfer.file_size} />\n                      {transfer.files_count > 1 && (\n                        <span className=\"text-muted\"> â€¢ {transfer.files_count} files</span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-muted\">\n                      <Trans message=\"Downloads\" />\n                    </label>\n                    <div className=\"mt-4 text-sm flex items-center gap-4\">\n                      <DownloadIcon className=\"text-muted\" />\n                      {transfer.download_count}\n                      {transfer.max_downloads && (\n                        <span className=\"text-muted\"> / {transfer.max_downloads}</span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-muted\">\n                      <Trans message=\"Created\" />\n                    </label>\n                    <div className=\"mt-4 text-sm flex items-center gap-4\">\n                      <ScheduleIcon className=\"text-muted\" />\n                      <FormattedDate date={transfer.created_at} />\n                    </div>\n                  </div>\n                  \n                  {transfer.expires_at && (\n                    <div>\n                      <label className=\"text-sm font-medium text-muted\">\n                        <Trans message=\"Expires\" />\n                      </label>\n                      <div className=\"mt-4 text-sm flex items-center gap-4\">\n                        <ScheduleIcon className=\"text-muted\" />\n                        <FormattedDate date={transfer.expires_at} />\n                      </div>\n                    </div>\n                  )}\n                </div>\n                \n                {transfer.message && (\n                  <>\n                    <div className=\"border-t my-16\" />\n                    <div>\n                      <label className=\"text-sm font-medium text-muted flex items-center gap-4\">\n                        <MessageIcon />\n                        <Trans message=\"Message\" />\n                      </label>\n                      <div className=\"mt-8 rounded-md bg-alt p-12 text-sm\">\n                        {transfer.message}\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Sidebar Information */}\n        <div className=\"space-y-24\">\n          {/* Sender Information */}\n          <div className=\"rounded-panel border bg-paper shadow-sm\">\n            <div className=\"p-4 pb-2\">\n              <h3 className=\"text-base font-semibold flex items-center gap-8\">\n                <PersonIcon />\n                <Trans message=\"Sender\" />\n              </h3>\n            </div>\n            <div className=\"p-4 pt-0\">\n              <div className=\"text-sm\">\n                {transfer.sender_email ? (\n                  <div className=\"flex items-center gap-8\">\n                    <EmailIcon className=\"text-muted\" />\n                    {transfer.sender_email}\n                  </div>\n                ) : (\n                  <span className=\"text-muted\">\n                    <Trans message=\"Anonymous sender\" />\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Recipients */}\n          {transfer.recipient_emails && (\n            <div className=\"rounded-panel border bg-paper shadow-sm\">\n              <div className=\"p-4 pb-2\">\n                <h3 className=\"text-base font-semibold flex items-center gap-8\">\n                  <EmailIcon />\n                  <Trans message=\"Recipients\" />\n                </h3>\n              </div>\n              <div className=\"p-4 pt-0\">\n                <div className=\"space-y-8\">\n                  {transfer.recipient_emails.split(',').map((email, index) => (\n                    <div key={index} className=\"text-sm flex items-center gap-8\">\n                      <EmailIcon className=\"text-muted\" />\n                      {email.trim()}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Security Information */}\n          <div className=\"rounded-panel border bg-paper shadow-sm\">\n            <div className=\"p-4 pb-2\">\n              <h3 className=\"text-base font-semibold flex items-center gap-8\">\n                <SecurityIcon />\n                <Trans message=\"Security\" />\n              </h3>\n            </div>\n            <div className=\"p-4 pt-0\">\n              <div className=\"space-y-8 text-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <span><Trans message=\"Password Protected\" /></span>\n                  <Chip color={transfer.has_password ? 'positive' : 'chip'} size=\"xs\">\n                    {transfer.has_password ? 'Yes' : 'No'}\n                  </Chip>\n                </div>\n                \n                {transfer.max_downloads && (\n                  <div className=\"flex items-center justify-between\">\n                    <span><Trans message=\"Download Limit\" /></span>\n                    <Chip color=\"primary\" size=\"xs\">\n                      {transfer.max_downloads}\n                    </Chip>\n                  </div>\n                )}\n                \n                {transfer.expires_at && (\n                  <div className=\"flex items-center justify-between\">\n                    <span><Trans message=\"Auto Expires\" /></span>\n                    <Chip color=\"warning\" size=\"xs\">\n                      <Trans message=\"Yes\" />\n                    </Chip>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["useTransferDetail","transferId","useQuery","apiClient","response","TransferDetailPage","useParams","transfer","isLoading","error","jsx","PageStatus","Trans","getStatusColor","status","getStatusMessage","jsxs","Button","Link","ArrowBackIcon","Chip","SecurityIcon","Tooltip","IconButton","LinkIcon","FolderIcon","FormattedBytes","DownloadIcon","ScheduleIcon","FormattedDate","Fragment","MessageIcon","PersonIcon","EmailIcon","email","index"],"mappings":"sZAwBA,SAASA,EAAkBC,EAAY,CACrC,OAAOC,EAAS,CACd,SAAU,CAAC,iBAAkBD,CAAU,EACvC,QAAS,IAAME,EAAU,IAAI,wBAAwBF,CAAU,EAAE,EAAE,KAAiBG,GAAAA,EAAS,IAAI,CAAA,CAClG,CACH,CAEO,SAASC,GAAqB,CAC7B,KAAA,CAAE,WAAAJ,GAAeK,IACjB,CAAE,KAAMC,EAAU,UAAAC,EAAW,MAAAC,GAAUT,EAAkBC,CAAU,EAEzE,GAAIO,GAAaC,EACR,OAAAC,EAAA,IAACC,GAAW,MAAO,CAAE,UAAAH,EAAW,MAAAC,GAAS,gBAAgB,yBAA0B,CAAA,EAG5F,GAAI,CAACF,EAED,OAAAG,EAAA,IAAC,OAAI,UAAU,mBACb,eAACE,EAAM,CAAA,QAAQ,oBAAqB,CAAA,CACtC,CAAA,EAIE,MAAAC,EAAkBC,GAAW,CACjC,OAAQA,EAAQ,CACd,IAAK,UACI,MAAA,SACT,IAAK,yBACI,MAAA,UACT,QACS,MAAA,UACX,CAAA,EAGIC,EAAoBD,GAAW,CACnC,OAAQA,EAAQ,CACd,IAAK,UACI,MAAA,UACT,IAAK,yBACI,MAAA,gBACT,QACS,MAAA,QACX,CAAA,EAIA,OAAAE,EAAA,KAAC,MAAI,CAAA,UAAU,OAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAN,EAAA,IAACO,EAAA,CACC,QAAQ,UACR,KAAK,KACL,YAAaC,EACb,GAAG,wBACH,gBAAYC,EAAc,EAAA,EAE1B,SAAAT,EAAAA,IAACE,EAAM,CAAA,QAAQ,mBAAoB,CAAA,CAAA,CACrC,SACC,MACC,CAAA,SAAA,CAAAF,EAAAA,IAAC,MAAG,UAAU,yBACX,WAAS,OAASH,EAAS,mBAAqB,mBACnD,CAAA,EACAS,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAACN,EAAAA,IAAAU,EAAA,CAAK,MAAOP,EAAeN,EAAS,MAAM,EAAG,KAAK,KAChD,SAAAQ,EAAiBR,EAAS,MAAM,CACnC,CAAA,EACCA,EAAS,cACRG,EAAAA,IAACU,EAAK,CAAA,MAAM,UAAU,KAAK,KAAK,UAAWV,EAAA,IAACW,IAAa,EACvD,SAAAX,EAAA,IAACE,EAAM,CAAA,QAAQ,oBAAqB,CAAA,EACtC,CAAA,EAEJ,CAAA,EACF,CAAA,EACF,EAECL,EAAS,WACPS,OAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAN,EAAAA,IAACY,GAAQ,MAAOZ,MAACE,EAAM,CAAA,QAAQ,kBAAkB,EAC/C,SAAAF,EAAA,IAACa,EAAA,CACC,QAAS,IAAM,UAAU,UAAU,UAAUhB,EAAS,SAAS,EAE/D,eAACiB,EAAS,EAAA,CAAA,CAAA,EAEd,EACAd,EAAA,IAACO,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,OAAO,KAAKV,EAAS,UAAW,QAAQ,EACvD,gBAAYiB,EAAS,EAAA,EAErB,SAAAd,EAAAA,IAACE,EAAM,CAAA,QAAQ,iBAAkB,CAAA,CAAA,CACnC,CAAA,EACF,CAAA,EAEJ,EAEAI,EAAAA,KAAC,MAAI,CAAA,UAAU,yCAEb,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,gBACb,SAACM,EAAA,KAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,WACb,SAACM,EAAA,KAAA,KAAA,CAAG,UAAU,gDACZ,SAAA,CAAAN,EAAA,IAACe,EAAW,EAAA,EACZf,EAAAA,IAACE,EAAM,CAAA,QAAQ,sBAAuB,CAAA,CAAA,CAAA,CACxC,CACF,CAAA,QACC,MAAI,CAAA,UAAU,WACb,SAACI,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAAN,EAAAA,IAAC,SAAM,UAAU,iCACf,eAACE,EAAM,CAAA,QAAQ,YAAY,CAC7B,CAAA,QACC,MAAI,CAAA,UAAU,eACZ,SAAAL,EAAS,mBAAqB,WACjC,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAAAG,EAAAA,IAAC,SAAM,UAAU,iCACf,eAACE,EAAM,CAAA,QAAQ,YAAY,CAC7B,CAAA,EACAI,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACN,EAAAA,IAAAgB,EAAA,CAAe,MAAOnB,EAAS,SAAW,CAAA,EAC1CA,EAAS,YAAc,GACrBS,EAAA,KAAA,OAAA,CAAK,UAAU,aAAa,SAAA,CAAA,MAAIT,EAAS,YAAY,QAAA,EAAM,CAAA,EAEhE,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAAAG,EAAAA,IAAC,SAAM,UAAU,iCACf,eAACE,EAAM,CAAA,QAAQ,YAAY,CAC7B,CAAA,EACAI,EAAAA,KAAC,MAAI,CAAA,UAAU,uCACb,SAAA,CAACN,EAAAA,IAAAiB,EAAA,CAAa,UAAU,YAAa,CAAA,EACpCpB,EAAS,eACTA,EAAS,eACPS,OAAA,OAAA,CAAK,UAAU,aAAa,SAAA,CAAA,MAAIT,EAAS,aAAA,EAAc,CAAA,EAE5D,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAAAG,EAAAA,IAAC,SAAM,UAAU,iCACf,eAACE,EAAM,CAAA,QAAQ,UAAU,CAC3B,CAAA,EACAI,EAAAA,KAAC,MAAI,CAAA,UAAU,uCACb,SAAA,CAACN,EAAAA,IAAAkB,EAAA,CAAa,UAAU,YAAa,CAAA,EACpClB,EAAAA,IAAAmB,EAAA,CAAc,KAAMtB,EAAS,UAAY,CAAA,CAAA,EAC5C,CAAA,EACF,EAECA,EAAS,YACRS,EAAAA,KAAC,MACC,CAAA,SAAA,CAAAN,EAAAA,IAAC,SAAM,UAAU,iCACf,eAACE,EAAM,CAAA,QAAQ,UAAU,CAC3B,CAAA,EACAI,EAAAA,KAAC,MAAI,CAAA,UAAU,uCACb,SAAA,CAACN,EAAAA,IAAAkB,EAAA,CAAa,UAAU,YAAa,CAAA,EACpClB,EAAAA,IAAAmB,EAAA,CAAc,KAAMtB,EAAS,UAAY,CAAA,CAAA,EAC5C,CAAA,EACF,CAAA,EAEJ,EAECA,EAAS,SAENS,EAAAA,KAAAc,EAAA,SAAA,CAAA,SAAA,CAACpB,EAAAA,IAAA,MAAA,CAAI,UAAU,gBAAiB,CAAA,SAC/B,MACC,CAAA,SAAA,CAACM,EAAAA,KAAA,QAAA,CAAM,UAAU,yDACf,SAAA,CAAAN,EAAA,IAACqB,EAAY,EAAA,EACbrB,EAAAA,IAACE,EAAM,CAAA,QAAQ,SAAU,CAAA,CAAA,EAC3B,EACCF,EAAA,IAAA,MAAA,CAAI,UAAU,sCACZ,WAAS,QACZ,CAAA,EACF,CAAA,EACF,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAGAM,EAAAA,KAAC,MAAI,CAAA,UAAU,aAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,WACb,SAACM,EAAA,KAAA,KAAA,CAAG,UAAU,kDACZ,SAAA,CAAAN,EAAA,IAACsB,EAAW,EAAA,EACZtB,EAAAA,IAACE,EAAM,CAAA,QAAQ,QAAS,CAAA,CAAA,CAAA,CAC1B,CACF,CAAA,EACCF,MAAA,MAAA,CAAI,UAAU,WACb,SAACA,EAAA,IAAA,MAAA,CAAI,UAAU,UACZ,SAASH,EAAA,aACPS,EAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACN,EAAAA,IAAAuB,EAAA,CAAU,UAAU,YAAa,CAAA,EACjC1B,EAAS,YAAA,CACZ,CAAA,EAECG,EAAAA,IAAA,OAAA,CAAK,UAAU,aACd,SAACA,EAAA,IAAAE,EAAA,CAAM,QAAQ,kBAAmB,CAAA,CACpC,CAAA,CAEJ,CAAA,EACF,CAAA,EACF,EAGCL,EAAS,kBACPS,OAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,WACb,SAACM,EAAA,KAAA,KAAA,CAAG,UAAU,kDACZ,SAAA,CAAAN,EAAA,IAACuB,EAAU,EAAA,EACXvB,EAAAA,IAACE,EAAM,CAAA,QAAQ,YAAa,CAAA,CAAA,CAAA,CAC9B,CACF,CAAA,EACAF,EAAAA,IAAC,OAAI,UAAU,WACb,eAAC,MAAI,CAAA,UAAU,YACZ,SAASH,EAAA,iBAAiB,MAAM,GAAG,EAAE,IAAI,CAAC2B,EAAOC,IAC/CnB,EAAA,KAAA,MAAA,CAAgB,UAAU,kCACzB,SAAA,CAACN,EAAAA,IAAAuB,EAAA,CAAU,UAAU,YAAa,CAAA,EACjCC,EAAM,KAAK,CAFJ,CAAA,EAAAC,CAGV,CACD,CACH,CAAA,EACF,CAAA,EACF,EAIFnB,EAAAA,KAAC,MAAI,CAAA,UAAU,0CACb,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,WACb,SAACM,EAAA,KAAA,KAAA,CAAG,UAAU,kDACZ,SAAA,CAAAN,EAAA,IAACW,EAAa,EAAA,EACdX,EAAAA,IAACE,EAAM,CAAA,QAAQ,UAAW,CAAA,CAAA,CAAA,CAC5B,CACF,CAAA,QACC,MAAI,CAAA,UAAU,WACb,SAACI,EAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAN,MAAC,OAAK,CAAA,SAAAA,EAAA,IAACE,EAAM,CAAA,QAAQ,oBAAqB,CAAA,EAAE,EAC3CF,EAAA,IAAAU,EAAA,CAAK,MAAOb,EAAS,aAAe,WAAa,OAAQ,KAAK,KAC5D,SAAAA,EAAS,aAAe,MAAQ,KACnC,CAAA,EACF,EAECA,EAAS,eACPS,OAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAN,MAAC,OAAK,CAAA,SAAAA,EAAA,IAACE,EAAM,CAAA,QAAQ,gBAAiB,CAAA,EAAE,QACvCQ,EAAK,CAAA,MAAM,UAAU,KAAK,KACxB,WAAS,cACZ,CAAA,EACF,EAGDb,EAAS,YACPS,OAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAN,MAAC,OAAK,CAAA,SAAAA,EAAA,IAACE,EAAM,CAAA,QAAQ,cAAe,CAAA,EAAE,EACtCF,EAAAA,IAACU,EAAK,CAAA,MAAM,UAAU,KAAK,KACzB,SAACV,EAAAA,IAAAE,EAAA,CAAM,QAAQ,KAAA,CAAM,CACvB,CAAA,CAAA,EACF,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,EACF,CAAA,EACF,CAAA,EACF,CACF,CAAA,CAAA,CAEJ"}