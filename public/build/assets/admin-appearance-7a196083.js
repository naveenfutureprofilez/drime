var fa=Object.defineProperty;var pa=(e,t,a)=>t in e?fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Z=(e,t,a)=>(pa(e,typeof t!="symbol"?t+"":t,a),a);import{r as f,j as s,n as Xe,v as be,w as je,x as Ut,y as ha,F as ga,L as ie,z as xa,A as wt,l as kt,$ as we,t as Ct,R as ze,g as ds,m as ba,i as Nt,B as Ze,h as va,N as ya,O as Je,C as ja,D as et,E as ve,G as wa,H as se,I as q,J as tt,K as ka,M as Ca,P as Na,Q as ms,S as Ia,q as fs,Z as Ea,T as Ta,U as Aa}from"./vendor-react-fefbac25.js";import{c as W,B as Ve,T as ps,_ as hs,a as L,b as m,K as gs,D as ke,d as $e,e as _e,m as C,t as xs,l as Sa,i as Fa,u as Da,f as Pa,g as za,P as st,h as Q,p as Ra,j as bs,k as It,n as vs,o as Oe,q as Re,r as La,F as ys,I as xe,s as js,v as ye,w as at,x as Ma,y as Va,z as $a,L as _a,A as Oa,C as Ua,E as Qe,S as Ha,G as Et,H as Tt,J as Y,M as Ba,N as Ka,O as re,Q as le,R as qa,U as Wa,V as ws,W as ht,X as ks,Y as Cs,Z as Ga,$ as Qa,a0 as Ya,a1 as Xa,a2 as Za,a3 as Ns,a4 as Ht}from"./admin-analytics-cad99b47.js";import{c as nt,E as At,F as Ce,a as rt,G as Is,H as Ja,U as en,I as tn,J as sn,K as an,D as nn,L as rn}from"./vendor-e6c98b2f.js";import{c as k,A as Es,m as St}from"./vendor-utils-f24f35c9.js";import{l as Ae,M as Ge}from"./admin-core-a6fad5ad.js";import{p as on}from"./admin-settings-9cf13e73.js";const Ts=f.memo(({src:e,className:t,height:a="h-full"})=>{const n=ln(e);return s.jsx("div",{className:k("svg-image-container inline-block bg-no-repeat",a,t),dangerouslySetInnerHTML:n?{__html:n}:void 0})}),gt=new Map;function ln(e){const[t,a]=f.useState(null);return f.useEffect(()=>{const n=gt.get(e);if(n)typeof n=="string"?a(n):n.then(a);else{const r=cn(e);gt.set(e,r),r.then(i=>{gt.set(e,i),a(i)})}},[e]),t}function cn(e){return fetch(e).then(t=>t.text())}class un{constructor(t,a){Z(this,"createdAt",0);this.callback=t,this.remaining=a,this.resume()}pause(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.createdAt}resume(){this.createdAt=Date.now(),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}clear(){clearTimeout(this.timerId)}}const dn=1;function mn(e){switch(e){case"danger":return 8e3;case"loading":return 0;default:return 3e3}}const fn=nt()(At((e,t)=>({toasts:[],add:(a,n)=>{const r=t().toasts.length+1-dn;r>0&&e(u=>{u.toasts.splice(0,r)});const i=(n==null?void 0:n.id)||Ce(6),o=(n==null?void 0:n.type)||"positive",l=(n==null?void 0:n.duration)??mn(o),c={timer:l>0?new un(()=>t().remove(i),l):null,message:a,...n,id:i,type:o,position:(n==null?void 0:n.position)||"bottom-center",duration:l,disableExitAnimation:n==null?void 0:n.disableExitAnimation,disableEnterAnimation:n==null?void 0:n.disableEnterAnimation},d=t().toasts.findIndex(u=>u.id===c.id);d>-1?e(u=>{u.toasts[d]=c}):e(u=>{u.toasts.push(c)})},remove:a=>{const n=t().toasts.filter(r=>{var i;return a===r.id?((i=r.timer)==null||i.clear(),!1):!0});e(r=>{r.toasts=n})}})));function it(){return fn.getState()}function oe(e,t){it().add(e,t)}oe.danger=(e,t)=>{it().add(e,{...t,type:"danger"})};oe.positive=(e,t)=>{it().add(e,{...t,type:"positive"})};oe.loading=(e,t)=>{it().add(e,{...t,type:"loading"})};function ge(e,t){var a;if(rt.isAxiosError(e)&&e.response){const n=e.response.data;if(t!=null){const r=(a=n.errors)==null?void 0:a[t];return Array.isArray(r)?r[0]:r}return n==null?void 0:n.message}}const pn=W(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})),hn=W(s.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningOutlined");function As(e){const{onRemove:t,disabled:a,invalid:n,errorMessage:r,children:i,className:o,selectable:l=!1,radius:c="rounded-full",elementType:d="div",to:u,onClick:h}=e,p=f.useRef(null),g=f.useRef(null),b=Xe(),v=T=>{switch(T.key){case"ArrowRight":case"ArrowDown":b==null||b.focusNext({tabbable:!0});break;case"ArrowLeft":case"ArrowUp":b==null||b.focusPrevious({tabbable:!0});break;case"Backspace":case"Delete":p.current===document.activeElement&&(t==null||t());break}},w=T=>{T.stopPropagation(),h?h(T):p.current.focus()},x=gn(e);let y=n||r!=null?s.jsx(hn,{className:"text-danger",size:"sm"}):e.adornment&&f.cloneElement(e.adornment,{size:x.adornment.size,circle:!0,className:k(e.adornment.props.className,x.adornment.margin)});r&&y&&(y=s.jsx(ps,{label:r,variant:"danger",children:y}));const j=d;return s.jsxs(j,{tabIndex:l?0:void 0,ref:p,to:u,onKeyDown:l?v:void 0,onClick:l?w:void 0,className:k("relative flex flex-shrink-0 items-center justify-center gap-10 overflow-hidden whitespace-nowrap outline-none transition-opacity","min-w-0 max-w-full after:pointer-events-none after:absolute after:inset-0",h&&"cursor-pointer",c,xn(e),x.chip,!a&&l&&"hover:after:bg-black/5 focus:after:bg-black/10",o,a&&"pointer-events-none opacity-70"),children:[y,s.jsx("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:i}),t&&s.jsx(Ve,{ref:g,className:k("text-black/30 dark:text-white/50",x.closeButton),onClick:T=>{T.stopPropagation(),t()},tabIndex:-1,children:s.jsx(pn,{className:"block",width:"100%",height:"100%"})})]})}function gn({size:e,onRemove:t}){switch(e){case"xs":return{adornment:{size:"xs",margin:"-ml-3"},chip:k("pl-4 h-8 text-xs font-medium text-center w-max",!t&&"pr-4"),closeButton:"mr-4 w-14 h-14"};case"sm":return{adornment:{size:"xs",margin:"-ml-3"},chip:k("pl-8 h-26 text-xs",!t&&"pr-8"),closeButton:"mr-4 w-18 h-18"};case"lg":return{adornment:{size:"md",margin:"-ml-12"},chip:k("pl-18 h-38 text-base",!t&&"pr-18"),closeButton:"mr-6 w-24 h-24"};default:return{adornment:{size:"sm",margin:"-ml-6"},chip:k("pl-12 h-32 text-sm",!t&&"pr-12"),closeButton:"mr-6 w-22 h-22"}}}function xn({color:e}){switch(e){case"primary":return"bg-primary text-on-primary";case"positive":return"bg-positive-lighter text-positive-darker";case"danger":return"bg-danger-lighter text-danger-darker";default:return"bg-chip text-main"}}const bn=W(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"ErrorOutlined");function bo(e,t="dark"){e.querySelectorAll("pre code").forEach(a=>{Ss(a,t)})}async function Ss(e,t="dark"){const{hljs:a}=await hs(()=>import("./highlight-e78ea4b6.js"),["assets/highlight-e78ea4b6.js","assets/vendor-e6c98b2f.js","assets/vendor-react-fefbac25.js","assets/vendor-utils-f24f35c9.js","assets/admin-analytics-cad99b47.js","assets/vendor-editor-a92125c6.js","assets/vendor-react-34ffaf07.css","assets/highlight-b5e2c008.css"]);e.dataset.highlighted||(e.classList.add(t==="dark"?"hljs-dark":"hljs-light"),a.highlightElement(e))}const vn=W(s.jsx("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"}),"UnfoldMoreOutlined"),yn=W(s.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"}),"UnfoldLessOutlined");function jn({trace:e,onSelectedIndexChange:t,selectedIndex:a,totalVendorGroups:n}){const[r,i]=f.useState([]),o=r.length===n;return s.jsxs("div",{className:"max-w-440 border-r text-sm",children:[s.jsx("div",{className:"border-b px-30 py-16",children:s.jsx(L,{variant:"outline",size:"2xs",startIcon:o?s.jsx(yn,{}):s.jsx(vn,{}),onClick:()=>{i(o?[]:e.map((l,c)=>"vendorGroup"in l?c:-1).filter(l=>l!==-1))},children:o?s.jsx(m,{message:"Collapse vendor frames"}):s.jsx(m,{message:"Expand vendor frames"})})}),e.map((l,c)=>"vendorGroup"in l?r.includes(c)?s.jsx(f.Fragment,{children:l.items.map((d,u)=>s.jsx(Bt,{frame:d,onClick:()=>t(d.flatIndex),isSelected:a===d.flatIndex},`vendor-${u}`))},c):s.jsxs("div",{className:"flex cursor-pointer items-center gap-4 border-b px-30 py-16 hover:bg-hover",onClick:()=>i(d=>[...d,c]),children:[s.jsx(m,{message:":count vendor [one frame|other frames]",values:{count:l.items.length}}),s.jsx(gs,{className:"text-muted"})]},c):s.jsx(Bt,{frame:l,onClick:()=>t(l.flatIndex),isSelected:a===l.flatIndex},c))]})}function Bt({frame:e,onClick:t,isSelected:a}){return s.jsxs("div",{onClick:t,className:k("cursor-pointer border-b px-30 py-16",a?"bg-danger text-on-primary":"hover:bg-danger/10"),children:[s.jsx(Fs,{frame:e}),s.jsx("div",{className:"font-semibold",children:e.method})]})}function Fs({frame:e}){return s.jsxs("div",{className:"inline-flex flex-wrap items-baseline",children:[e.path.map((t,a)=>e.path.length-1===a?s.jsx("div",{className:"font-semibold",children:t},a):s.jsxs("div",{children:[t,"/"]},a)),s.jsxs("div",{children:[":",e.lineNumber]})]})}function wn({error:e}){const[t,a]=f.useState(()=>{for(const r of e.trace)if(!("vendorGroup"in r))return r.flatIndex;return 0}),n=f.useMemo(()=>{for(const r of e.trace)if("vendorGroup"in r){for(const i of r.items)if(i.flatIndex===t)return i}else if(r.flatIndex===t)return r},[e,t]);return s.jsxs(ke,{size:"fullscreen",children:[s.jsx($e,{showDivider:!0,leftAdornment:s.jsx(bn,{}),color:"text-danger",actions:s.jsx(Nn,{}),children:s.jsx(m,{message:"An error occured"})}),s.jsxs(_e,{padding:"p-0 stack",children:[s.jsxs("div",{className:"sticky top-0 z-10 border-b bg p-24",children:[s.jsx(As,{className:"w-max",radius:"rounded-panel",children:e.exception}),s.jsx("div",{className:"mt-16 line-clamp-2 text-lg font-semibold leading-snug",children:e.message})]}),s.jsxs("div",{className:"flex items-stretch gap-10",children:[s.jsx(jn,{trace:e.trace,onSelectedIndexChange:a,selectedIndex:t,totalVendorGroups:e.totalVendorGroups}),n&&s.jsx(kn,{frame:n})]})]})]})}function kn({frame:e}){const t=f.useRef(null),a=Object.keys(e.codeSnippet).map(Number),n=a.indexOf(e.lineNumber),r=Object.values(e.codeSnippet);return s.jsxs("div",{className:"sticky top-120 flex-auto",children:[s.jsx("div",{className:"px-30 py-16 text-right text-muted",children:s.jsx(Fs,{frame:e})}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-8 select-none text-right",children:a.map((i,o)=>s.jsx("div",{className:k("px-8 font-mono leading-loose text-muted",o==n&&"bg-danger/30"),children:i},o))}),s.jsx("div",{className:"compact-scrollbar flex-grow overflow-x-auto",children:s.jsx("pre",{children:s.jsx("code",{className:"language-php",ref:t,children:r.map((i,o)=>s.jsx(Cn,{isHighlighted:n===o,line:i},`${e.path}.${o}`))})})})]})]})}const Cn=f.memo(({line:e,isHighlighted:t})=>{const a=f.useRef(null);return f.useEffect(()=>{const n=a.current;return Ss(n,"light"),()=>{delete n.dataset.highlighted}},[]),s.jsx("span",{className:k("block leading-loose",t&&"bg-danger/20"),children:s.jsx("span",{className:"language-php",ref:a,children:e+`
`})})});function Nn(){return s.jsx(L,{variant:"outline",className:"text-main",elementType:"a",download:!0,href:"api/v1/logs/error/download-latest",size:"2xs",children:s.jsx(m,{message:"Download log"})})}const Ds=nt()(At((e,t)=>({dialog:null,data:void 0,resolveClosePromise:null,openDialog:(a,n)=>new Promise(r=>{e(i=>{i.dialog=a,i.data=n,i.resolveClosePromise=r})}),closeActiveDialog:a=>{var n,r;(r=(n=t()).resolveClosePromise)==null||r.call(n,a),e(i=>{i.dialog=null,i.data=void 0,i.resolveClosePromise=null})}}))),In=Ds.getState().openDialog,vo=e=>{Ds.getState().closeActiveDialog(e)},En=C("There was an issue. Please try again.");function Ft(e,t=En,a,n){var r,i,o,l;rt.isAxiosError(e)&&((i=(r=e.response)==null?void 0:r.data)!=null&&i.ignitionTrace)?In(wn,{error:e.response.data}):oe.danger(ge(e,a)||t,{action:(l=(o=e.response)==null?void 0:o.data)==null?void 0:l.action,...n})}function Dt(){const e=be(),t=je();return f.useCallback((a,n)=>{const r=Ut(t)===Ut(ha(a,t.pathname));e(a,{...n,replace:(n==null?void 0:n.replace)!==!1&&r})},[e,t])}function Kt(e,t){var a;(a=xs)==null||a.style.setProperty(e,t)}function Tn(e){var t;(t=xs)==null||t.style.removeProperty(e)}function An(e){return`be-fonts-${e}`}function Ps(e,t){const a=t.document||document,n=[],r=[];let i=[];if(e.forEach(o=>{"google"in o&&o.google?n.push(o):"src"in o&&r.push(o)}),n!=null&&n.length){const o=t.weights||[400],l=e.map(d=>`${d.family}:${o.join(",")}`).join("|"),c=Sa.loadAsset(`https://fonts.googleapis.com/css?family=${l}&display=swap`,{type:"css",id:An(t.id),force:t.forceAssetLoad,document:a});i.push(c)}if(r!=null&&r.length){const o=r.map(async l=>{const c=Array.from(a.fonts.values()).find(u=>u.family===l.family);if(c)return c.loaded;const d=new FontFace(l.family,`url(${t!=null&&t.prefixSrc?t.prefixSrc(l.src):l.src})`,l.descriptors);return a.fonts.add(d),d.load()});i=i.concat(o)}return Promise.all(i)}function zs(){const e=window.frameElement||void 0;if(!(e!=null&&e.src)||Fa())return{isAppearanceEditorActive:!1,appearanceEditorParams:{}};const t=new URL(e.src).searchParams;return{isAppearanceEditorActive:t.get("appearanceEditor")==="true",appearanceEditorParams:Object.fromEntries(t)}}function yo(){const{isAppearanceEditorActive:e}=zs(),t=f.useRef(!1),a=Da(i=>i.data),{selectThemeTemporarily:n}=Pa(),r=f.useCallback(i=>{var o;switch(i.type){case"setValues":const l={};return(o=i.values.appearance)!=null&&o.themes&&(l.themes=i.values.appearance.themes),i.values.settings&&(l.settings=Is(a.settings,i.values.settings,{arrayMerge:(c,d)=>d})),za(l);case"setThemeFont":i.value?(Kt("--be-font-family",i.value.family),Ps([i.value],{id:"be-primary-font",forceAssetLoad:!0})):Tn("--be-font-family");return;case"setThemeValue":return Kt(i.name,i.value);case"setActiveTheme":n(i.themeId);return;case"setCustomCode":return Dn(i.mode,i.value)}},[a,n]);return f.useEffect(()=>{const i=o=>{Sn(o)&&Fn(o)&&r(o.data)};return window.addEventListener("message",i),e&&!t.current&&(window.postMessage({source:"be-appearance-preview",type:"appLoaded"},"*"),t.current=!0),()=>{window.removeEventListener("message",i)}},[r,e]),null}function Sn(e){var t;return((t=e.data)==null?void 0:t.source)==="be-appearance-editor"}function Fn(e){return new URL(e.origin).hostname===window.location.hostname}function Dn(e,t){const a=e==="html"?document.body:document.head,n=e==="html"?"div":"style";let r=a.querySelector("#be-custom-code");t?(r||(r=document.createElement(n),r.id="be-custom-code",a.appendChild(r)),r.innerHTML=t):r&&r.remove()}function jo(e,t=null){const[a,n]=f.useState(()=>Rs(e,t)),r=i=>{const o=i instanceof Function?i(a):i;n(o),Ls(e,o)};return f.useEffect(()=>{const i=o=>{var l;((l=o.detail)==null?void 0:l.key)===e&&n(o.detail.newValue)};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[e]),[a,r]}function Rs(e,t=null){if(typeof window>"u")return t;try{const a=window.localStorage.getItem(e);return a!=null?JSON.parse(a):t}catch{return t}}function Ls(e,t){try{typeof window<"u"&&(window.localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("storage",{detail:{key:e,newValue:t}})))}catch{}}function xt(e){try{typeof window<"u"&&window.localStorage.removeItem(e)}catch{}}const Pn=W(s.jsx("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutlineOutlined");function Pt({children:e,onBeforeSubmit:t,onSubmit:a,form:n,className:r,id:i,onBlur:o}){return s.jsx(ga,{...n,children:s.jsx("form",{id:i,onBlur:o,className:r,onSubmit:l=>{l.stopPropagation(),t==null||t(),n.handleSubmit(a)(l)},children:e})})}function zn({className:e,screen:t}){return s.jsx("div",{className:k("flex flex-auto items-center justify-center",t?"h-screen w-screen":"h-full w-full",e),children:s.jsx(st,{isIndeterminate:!0,"aria-label":"Loading page...",size:"md"})})}function Ms({image:e,title:t,description:a,action:n,className:r,size:i="md",imageHeight:o,imageMargin:l="mb-24"}){const c=Rn(i,o);return s.jsxs("div",{className:k("text-center",r),children:[e&&s.jsx("div",{className:k(c.image,l),children:e}),t&&s.jsx("div",{className:k(c.title,"mb-2 text-main"),children:t}),a&&s.jsx("div",{className:k(c.description,"text-muted"),children:a}),n&&s.jsx("div",{className:"mt-20",children:n})]})}function Rn(e,t){switch(e){case"xs":return{image:t||"h-60",title:"text-sm",description:"text-xs"};case"sm":return{image:t||"h-80",title:"text-base",description:"text-sm"};default:return{image:t||"h-128",title:"text-lg",description:"text-base"}}}const Ln=W(s.jsx("path",{d:"m7 10 5 5 5-5H7z"}),"ArrowDropDownOutlined"),Vs=W(s.jsx("path",{d:"M24,12 C28.418278,12 32,15.581722 32,20 L32,22 C32,26.418278 28.418278,30 24,30 C19.581722,30 16,26.418278 16,22 L16,20 C16,15.581722 19.581722,12 24,12 Z M24,32 C33.8734019,32 42.1092023,38.8710577 44,48 L4,48 C5.89079771,38.8710577 14.1265981,32 24,32 Z"})),qt=["#3b82f6","#6366f1","#0284c7","#9333ea","#059669","#ea580c","#dc2626","#06b6d4","#e11d48"],Mn=f.forwardRef(({size:e,label:t,labelForBackground:a,color:n},r)=>{const{initial:i,bgColor:o}=f.useMemo(()=>{const l=a||t||"",c=l.split("").reduce((d,u)=>u.charCodeAt(0)+d,l.length);return{initial:t.slice(0,1).toUpperCase(),bgColor:qt[c%qt.length]}},[t,a]);return s.jsx("div",{ref:r,style:n?void 0:{backgroundColor:o},className:k("flex h-full w-full items-center justify-center font-semibold leading-normal text-on-primary",n,Vn(e)),children:i})});function Vn(e){switch(e){case"xs":return"text-xs";case"sm":return"text-xs";case"xl":return"text-xl";case"md":return"text-base";default:return""}}const $n=f.forwardRef(function({className:e,circle:t,size:a="md",src:n,link:r,label:i,labelForBackground:o,fallback:l="initials",fallbackColor:c,lazy:d=!0,...u},h){let p=n?s.jsx("img",{ref:h,src:n,alt:i,loading:d?"lazy":void 0,className:"block h-full w-full object-cover"}):l==="initials"&&i?s.jsx(Mn,{size:a,label:i,labelForBackground:o,color:c}):s.jsx("div",{className:"h-full w-full bg-alt dark:bg-chip",children:s.jsx(Vs,{viewBox:"0 0 48 48",className:"h-full w-full text-muted"})});i&&(p=s.jsx(ps,{label:i,children:p}));const g={...u,className:k(e,"relative block overflow-hidden select-none flex-shrink-0",_n(a),t?"rounded-full":"rounded")};return r?s.jsx(ie,{...g,to:r,children:p}):s.jsx("div",{...g,children:p})});function _n(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-24 h-24";case"md":return"w-32 h-32";case"lg":return"w-40 h-40";case"xl":return"w-60 h-60";default:return e}}function $s(e){var a;return((a=/(?:\.([^.]+))?$/.exec(e))==null?void 0:a[1])||""}function On(e){const t={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml",log:"text/plain"},a=e.name?$s(e.name):null;return e.type?e.type:a&&a in t?t[a]:"application/octet-stream"}class Le{constructor(t,a){Z(this,"relativePath","");Z(this,"mime","");Z(this,"extension","");this.id=Ce(),this.name=t.name,this.size=t.size,this.mime=On(t),this.lastModified=t.lastModified,this.extension=$s(t.name)||"bin",this.native=t,a=a||t.webkitRelativePath||"",a=a.replace(/^\/+/g,""),a&&a.split("/").length>1&&(this.relativePath=a),this.fingerprint=_s({name:this.name,size:this.size,mime:this.mime,lastModified:this.lastModified})}get data(){return new Promise(t=>{this.cachedData&&t(this.cachedData);const a=new FileReader;a.addEventListener("load",()=>{this.cachedData=a.result,t(this.cachedData)}),this.extension==="json"?a.readAsText(this.native):a.readAsDataURL(this.native)})}}class Un{constructor(t){Z(this,"relativePath","");Z(this,"mime","");Z(this,"extension","");Z(this,"native",null);this.id=Ce(),this.name=t.name,this.size=t.file_size??0,this.mime=t.mime,this.lastModified=t.updated_at||"",this.extension=t.extension||"bin",this.relativePath=t.path,this.fingerprint=_s({name:this.name,size:this.size,mime:this.mime,lastModified:this.lastModified})}get data(){return new Promise((t,a)=>{a("UploadedFileFromEntry does not have file data")})}}function _s({name:e,mime:t,size:a,relativePath:n,lastModified:r}){let i="be";return typeof e=="string"&&(i+=`-${Wt(e.toLowerCase())}`),t&&(i+=`-${t}`),typeof n=="string"&&(i+=`-${Wt(n.toLowerCase())}`),a!==void 0&&(i+=`-${a}`),r!==void 0&&(i+=`-${r}`),i}function Hn(e){return e.charCodeAt(0).toString(32)}function Wt(e){let t="";return e.replace(/[^A-Z0-9]/gi,a=>(t+=`-${Hn(a)}`,"/"))+t}const Os=1024*1024,Bn=20*Os,Kn=10,qn=5;class ot{constructor(t,a){Z(this,"chunks",[]);Z(this,"abortedByUser",!1);this.file=t,this.config=a,this.abortController=new AbortController,this.chunkAxios=rt.create(),Ja(this.chunkAxios,{retries:3})}get storageKey(){return`s3-multipart::${this.file.fingerprint}`}async start(){var n,r,i,o,l;const t=Rs(this.storageKey);if(t&&await this.getUploadedParts(t),!((n=this.uploadedParts)!=null&&n.length)&&(await this.createMultipartUpload(),!this.uploadId))return;if(this.prepareChunks(),await this.uploadParts()==="done"){if(!await this.completeMultipartUpload())return;try{const d=await this.createFileEntry();if(d!=null&&d.fileEntry){(i=(r=this.config).onSuccess)==null||i.call(r,d==null?void 0:d.fileEntry,this.file),xt(this.storageKey);return}}catch{}}this.abortController.signal.aborted||this.abortController.abort(),this.abortedByUser||(l=(o=this.config).onError)==null||l.call(o,null,this.file)}async abort(){this.abortedByUser=!0,this.abortController.abort(),await this.abortUploadOnS3()}async uploadParts(){const t=this.chunks.filter(n=>!n.done);if(!t.length)return Promise.resolve("done");const a=await this.batchSignUrls(t.slice(0,Kn));if(a){for(;a.length;){const n=a.splice(0,qn),r=n.map(l=>this.uploadPartToS3(l)),i=await Promise.all(r),o=[];if(i.forEach((l,c)=>{if(!l){const d=n[c],u=this.chunks.find(h=>h.partNumber===d.partNumber);if(u&&!u.retryCount&&(u.retryCount=0),u&&u.retryCount<3)u.retryCount++,o.push(d);else{console.error(`Part ${d.partNumber} failed after 3 retries`);return}}}),o.length>0){console.log(`Retrying ${o.length} failed parts...`);const l=o.map(c=>this.uploadPartToS3(c));await Promise.all(l)}}return await this.uploadParts()}}async batchSignUrls(t){const a=await this.chunkAxios.post("api/v1/s3/multipart/batch-sign-part-urls",{partNumbers:t.map(n=>n.partNumber),uploadId:this.uploadId,key:this.fileKey},{signal:this.abortController.signal}).then(n=>n.data).catch(n=>{this.abortController.signal.aborted||this.abortController.abort()});return a==null?void 0:a.urls}async uploadPartToS3({url:t,partNumber:a}){const n=this.chunks.find(r=>r.partNumber===a);if(!n)return!1;try{const i=(await this.chunkAxios.put(t,n.blob,{withCredentials:!1,signal:this.abortController.signal,onUploadProgress:o=>{var c,d;if(!o.event.lengthComputable)return;n.bytesUploaded=o.loaded;const l=this.chunks.reduce((u,h)=>u+h.bytesUploaded,0);(d=(c=this.config).onProgress)==null||d.call(c,{bytesUploaded:l,bytesTotal:this.file.size})}})).headers.etag;return i?(n.done=!0,n.etag=i,!0):!1}catch(r){return this.abortController.signal.aborted||(console.warn(`Part ${a} upload failed:`,r.message||r),n.bytesUploaded=0),!1}}async createMultipartUpload(){const t=await Q.post("s3/multipart/create",{filename:this.file.name,mime:this.file.mime,size:this.file.size,extension:this.file.extension,...this.config.metadata}).then(a=>a.data).catch(a=>{var n,r;a.code!=="ERR_CANCELED"&&((r=(n=this.config).onError)==null||r.call(n,ge(a),a))});t&&(this.uploadId=t.uploadId,this.fileKey=t.key,Ls(this.storageKey,{createdAt:new Date().toISOString(),fileKey:this.fileKey,uploadId:this.uploadId}))}async getUploadedParts({fileKey:t,uploadId:a}){var r;const n=await Q.post("s3/multipart/get-uploaded-parts",{key:t,uploadId:a}).then(i=>i.data).catch(()=>(xt(this.storageKey),null));(r=n==null?void 0:n.parts)!=null&&r.length&&(this.uploadedParts=n.parts,this.uploadId=a,this.fileKey=t)}async completeMultipartUpload(){return Q.post("s3/multipart/complete",{key:this.fileKey,uploadId:this.uploadId,parts:this.chunks.map(t=>({ETag:t.etag,PartNumber:t.partNumber}))}).then(t=>t.data).catch(()=>{var t,a;(a=(t=this.config).onError)==null||a.call(t,null,this.file),this.abortUploadOnS3()}).finally(()=>{xt(this.storageKey)})}async createFileEntry(){return await Q.post("s3/entries",{...this.config.metadata,clientMime:this.file.mime,clientName:this.file.name,filename:this.fileKey.split("/").pop(),size:this.file.size,clientExtension:this.file.extension}).then(t=>t.data).catch()}prepareChunks(){var n;this.chunks=[];const t=Math.max(5*Os,Math.ceil(this.file.size/1e4)),a=Math.max(Bn,t);if(this.file.size===0)this.chunks.push({blob:this.file.native,done:!1,partNumber:1,bytesUploaded:0});else{let r=1;for(let i=0;i<this.file.size;i+=a){const o=Math.min(this.file.size,i+a),l=(n=this.uploadedParts)==null?void 0:n.find(c=>c.PartNumber===r);this.chunks.push({blob:this.file.native.slice(i,o),done:!!l,partNumber:r,etag:l?l.ETag:void 0,bytesUploaded:l!=null&&l.Size?parseInt(l==null?void 0:l.Size):0}),r++}}}abortUploadOnS3(){return Q.post("s3/multipart/abort",{key:this.fileKey,uploadId:this.uploadId})}static async create(t,a){return new ot(t,a)}}class lt{constructor(t,a){this.upload=t,this.uploadGroupHash=a}start(){this.upload.start()}abort(){return this.upload.abort(!0)}static async create(t,{onProgress:a,onSuccess:n,onError:r,metadata:i,chunkSize:o,baseUrl:l}){const c=["tus",t.fingerprint,"drive"].join("-"),d=new en(t.native,{fingerprint:()=>Promise.resolve(c),removeFingerprintOnSuccess:!0,endpoint:`${l}/api/v1/tus/upload`,chunkSize:o,retryDelays:[0,3e3,5e3,1e4,2e4],overridePatchMethod:!0,metadata:{name:window.btoa(t.id),clientName:t.name,clientExtension:t.extension,clientMime:t.mime||"",clientSize:`${t.size}`,...i},headers:{"X-XSRF-TOKEN":xa.getCookie("XSRF-TOKEN")},onError:h=>{let p={code:"TUS_ERROR"};if("originalResponse"in h&&h.originalResponse)try{const g=h.originalResponse.getBody(),b=JSON.parse(g),v=b==null?void 0:b.message;p={code:"TUS_SERVER_ERROR",response:{status:h.originalResponse.getStatus(),data:b}},r==null||r(v,p)}catch{r==null||r(null,p)}else p.code="TUS_NETWORK_ERROR",r==null||r(null,p)},onProgress(h,p){a==null||a({bytesUploaded:h,bytesTotal:p})},onSuccess:async()=>{var p;const h=(p=d.url)==null?void 0:p.split("/").pop();try{if(h){const g=await Wn(h,{upload_group_hash:i.upload_group_hash,password:i.password,expires_in_hours:i.expires_in_hours,max_downloads:i.max_downloads,sender_email:i.sender_email,sender_name:i.sender_name,message:i.message});g.upload_group_hash&&!i.upload_group_hash&&(window.currentUploadGroupHash=g.upload_group_hash),n==null||n(g.fileEntry,t)}}catch(g){localStorage.removeItem(c),r==null||r(ge(g),g)}}}),u=await d.findPreviousUploads();return u.length&&d.resumeFromPreviousUpload(u[0]),new lt(d,i.upload_group_hash)}}function Wn(e,t={}){return Q.post("tus/entries",{uploadKey:e,upload_group_hash:t.upload_group_hash||null,password:t.password||null,expires_in_hours:t.expires_in_hours||null,max_downloads:t.max_downloads||null,sender_email:t.sender_email||null,sender_name:t.sender_name||null,message:t.message||null}).then(a=>a.data)}let Ye=function(e){return e.public="public",e.uploads="uploads",e}({});class zt{constructor(t,a){this.file=t,this.config=a,this.abortController=new AbortController}async start(){var n,r,i,o;if(this.presignedRequest=await this.presignPostUrl(),!this.presignedRequest||await this.uploadFileToS3()!=="uploaded")return;const a=await this.createFileEntry();a!=null&&a.fileEntry?(r=(n=this.config).onSuccess)==null||r.call(n,a.fileEntry,this.file):this.abortController.signal||(o=(i=this.config).onError)==null||o.call(i,null,this.file)}abort(){return this.abortController.abort(),Promise.resolve()}presignPostUrl(){var t;return Q.post("s3/simple/presign",{filename:this.file.name,mime:this.file.mime,disk:(t=this.config.metadata)==null?void 0:t.disk,size:this.file.size,extension:this.file.extension,...this.config.metadata},{signal:this.abortController.signal}).then(a=>a.data).catch(a=>{var n,r;a.code!=="ERR_CANCELED"&&((r=(n=this.config).onError)==null||r.call(n,ge(a),a))})}uploadFileToS3(){const{url:t,acl:a}=this.presignedRequest;return rt.put(t,this.file.native,{signal:this.abortController.signal,withCredentials:!1,headers:{"Content-Type":this.file.mime,"x-amz-acl":a},onUploadProgress:n=>{var r,i;n.event.lengthComputable&&((i=(r=this.config).onProgress)==null||i.call(r,{bytesUploaded:n.loaded,bytesTotal:n.total||0}))}}).then(()=>"uploaded").catch(n=>{var r,i;n.code!=="ERR_CANCELED"&&((i=(r=this.config).onError)==null||i.call(r,ge(n),n))})}async createFileEntry(){return await Q.post("s3/entries",{...this.config.metadata,clientMime:this.file.mime,clientName:this.file.name,filename:this.presignedRequest.key.split("/").pop(),size:this.file.size,clientExtension:this.file.extension}).then(t=>t.data).catch(t=>{var a,n;t.code!=="ERR_CANCELED"&&((n=(a=this.config).onError)==null||n.call(a,ge(t),t))})}static async create(t,a){return new zt(t,a)}}class Rt{constructor(t,a){this.file=t,this.config=a,this.abortController=new AbortController}async start(){const t=new FormData,{onSuccess:a,onError:n,onProgress:r,metadata:i}=this.config;t.set("file",this.file.native),t.set("clientMime",this.file.mime),t.set("clientExtension",this.file.extension),i&&Object.entries(i).forEach(([l,c])=>{t.set(l,`${c}`)});const o=await Q.post("file-entries",t,{onUploadProgress:l=>{l.event.lengthComputable&&(r==null||r({bytesUploaded:l.loaded,bytesTotal:l.total||0}))},signal:this.abortController.signal,headers:{"Content-Type":"multipart/form-data"}}).catch(l=>{l.code!=="ERR_CANCELED"&&(n==null||n(ge(l),l))});this.abortController.signal.aborted||o&&o.data.fileEntry&&(a==null||a(o.data.fileEntry,this.file))}abort(){return this.abortController.abort(),Promise.resolve()}static async create(t,a){return new Rt(t,a)}}function Gn(e,t){if(!t)return;const{maxFileSize:a,allowedFileTypes:n,blockedFileTypes:r}=t;if(a&&e.size!=null&&e.size>a)return C("`:file` exceeds maximum allowed size of :size",{values:{file:e.name,size:Ra(a)}});if(n!=null&&n.length&&!Gt(e,n))return C("This file type is not allowed");if(r!=null&&r.length&&Gt(e,r))return C("This file type is not allowed")}function Gt(e,t){return t.map(a=>a.split(",")).flat().some(a=>{if(a.includes("/"))return e.mime?tn(e.mime.replace(/;.*?$/,""),a):!1;const n=a.replace(".","").toLowerCase();return n&&e.extension?e.extension.toLowerCase()===n:!1})}class Qn{constructor(){Z(this,"isDone",!1);Z(this,"timeout",3e4);Z(this,"timeoutHandler",null)}progress(){this.isDone||!this.timeoutHandler||this.timeout>0&&(clearTimeout(this.aliveTimer),this.aliveTimer=setTimeout(this.timeoutHandler,this.timeout))}done(){this.isDone||(clearTimeout(this.aliveTimer),this.aliveTimer=null,this.isDone=!0)}}async function Yn(e,t){var d,u;const a=bs().settings,n=e.options,r=e.file;if(n!=null&&n.restrictions){const h=Gn(r,n.restrictions);if(h)return t.updateFileUpload(r.id,{errorMessage:h,status:"failed",request:void 0,timer:void 0}),n.showToastOnRestrictionFail&&oe.danger(h),t.runQueue(),null}const i=new Qn,o={metadata:{...n==null?void 0:n.metadata,relativePath:r.relativePath,disk:((d=n==null?void 0:n.metadata)==null?void 0:d.disk)||Ye.uploads,parentId:((u=n==null?void 0:n.metadata)==null?void 0:u.parentId)||""},chunkSize:a.uploads.chunk_size,baseUrl:a.base_url,onError:(h,p)=>{var w,x;let g="unknown",b;if(p){if(p.code==="ERR_NETWORK"||p.code==="NETWORK_ERROR")g="network";else if((w=p.response)!=null&&w.status){const y=p.response.status;b=y,y>=500?g="server":y>=400&&y<500&&(g=y===422?"validation":"server")}}const v=g==="network"||g==="server";t.updateFileUpload(r.id,{errorMessage:h,status:"failed",errorType:g,errorCode:b,maxRetries:v?3:0,retryCount:0,retryDelay:1e3}),t.runQueue(),i.done(),(x=n==null?void 0:n.onError)==null||x.call(n,h,r),n.showToastOnBackendError&&h&&oe.danger(h)},onSuccess:h=>{var p;t.updateFileUpload(r.id,{status:"completed",entry:h}),t.runQueue(),i.done(),(p=n==null?void 0:n.onSuccess)==null||p.call(n,h,r)},onProgress:({bytesUploaded:h,bytesTotal:p})=>{var I;const g=Date.now(),b=h/p*100,v=t.getUpload(r.id),w=(v==null?void 0:v.previousTimestamp)||g,x=(v==null?void 0:v.previousBytes)||0;let y=0,j=0;const T=g-w;if(T>0&&h>x){y=(h-x)/T*1e3;const A=p-h;y>0&&(j=A/y)}t.updateFileUpload(r.id,{percentage:b,bytesUploaded:h,speed:y,eta:j,previousTimestamp:g,previousBytes:h}),i.progress(),(I=n==null?void 0:n.onProgress)==null||I.call(n,{bytesUploaded:h,bytesTotal:p})}},c=await Jn(r,o).create(r,o);return i.timeoutHandler=()=>{c.abort(),t.updateFileUpload(r.id,{status:"failed",errorMessage:C("Upload timed out")}),t.runQueue()},t.updateFileUpload(r.id,{status:"inProgress",request:c}),c.start(),c}const Us=1024*1024,Xn=4*Us,Zn=100*Us,Jn=(e,t)=>{var i;const a=bs().settings,r=(((i=t.metadata)==null?void 0:i.disk)||Ye.uploads)===Ye.uploads?a.uploads.uploads_driver:a.uploads.public_driver;return r!=null&&r.endsWith("s3")&&a.uploads.s3_direct_upload?e.size>=Zn?ot:zt:e.size>=Xn&&!a.uploads.disable_tus?lt:Rt};function Qt(e,t,a){let n=e instanceof Le?e:new Le(e);return a!=null&&a.modifyUploadedFile&&(n=a.modifyUploadedFile(n)),{file:n,percentage:0,bytesUploaded:0,status:"pending",options:t||{},retryCount:0,maxRetries:3,retryDelay:1e3,isRetrying:!1}}sn();const Yt={concurrency:3,fileUploads:new Map,activeUploadsCount:0,completedUploadsCount:0},er=({settings:e,options:t})=>nt()(At((a,n)=>({...Yt,reset:()=>{a(Yt)},getUpload:r=>n().fileUploads.get(r),getCompletedFileEntries:()=>[...n().fileUploads.values()].filter(r=>!!r.entry).map(r=>r.entry),clearInactive:()=>{a(r=>{r.fileUploads.forEach((i,o)=>{i.status!=="inProgress"&&r.fileUploads.delete(o)})}),n().runQueue()},abortUpload:r=>{var o;const i=n().fileUploads.get(r);i&&((o=i.request)==null||o.abort(),n().updateFileUpload(r,{status:"aborted",percentage:0}),n().runQueue())},retryUpload:r=>{const i=n().fileUploads.get(r);if(i&&i.status==="failed"){const o=i.retryCount||0,l=i.maxRetries||3;if(o<l){const d=(i.retryDelay||1e3)*Math.pow(2,o);n().updateFileUpload(r,{status:"pending",isRetrying:!0,retryCount:o+1,percentage:0,bytesUploaded:0,speed:0,eta:0,previousTimestamp:void 0,previousBytes:void 0,errorMessage:void 0,request:void 0,timer:void 0}),setTimeout(()=>{n().updateFileUpload(r,{isRetrying:!1}),n().runQueue()},d)}}},updateFileUpload:(r,i)=>{a(o=>{const l=o.fileUploads.get(r);l&&(o.fileUploads.set(r,{...l,...i}),"status"in i&&Se(o))})},addCompletedFileUpload:r=>{a(i=>{i.fileUploads.set(`${r.id}`,{file:new Un(r),status:"completed",entry:r,percentage:100,bytesUploaded:r.file_size||0,options:{}}),Se(i)})},uploadSingle:(r,i)=>{const o=Qt(r,i,t),l=new Map(n().fileUploads);return l.set(o.file.id,o),a(c=>{Se(c),c.fileUploads=l}),n().runQueue(),o.file.id},removeUpload:r=>{a(i=>{i.fileUploads.delete(r),Se(i)})},uploadMultiple:(r,i)=>{const o=new Map(n().fileUploads);return[...r].forEach(l=>{const c=Qt(l,i,t);o.set(c.file.id,c)}),a(l=>{Se(l),l.fileUploads=o}),n().runQueue(),[...o.keys()]},runQueue:async()=>{const r=[...n().fileUploads.values()],i=r.filter(l=>l.status==="inProgress");let o=n().concurrency;if(i.filter(l=>l.file.relativePath||l.request instanceof ot||l.request instanceof lt&&e.uploads.chunk_size&&l.file.size>e.uploads.chunk_size).length&&(o=1),i.length<o){const l=r.find(c=>c.status==="pending");l&&await Yn(l,n())}}}))),Se=e=>{e.completedUploadsCount=[...e.fileUploads.values()].filter(t=>t.status==="completed").length,e.activeUploadsCount=[...e.fileUploads.values()].filter(t=>t.status==="inProgress"||t.status==="pending").length},Hs=f.createContext(null);function qe(e,t){const a=f.useContext(Hs);return an(a,e,t)}function tr({children:e,options:t}){const a=It(),[n]=f.useState(()=>er({settings:a,options:t}));return s.jsx(Hs.Provider,{value:n,children:e})}function sr(e={}){const t=document.querySelector("#hidden-file-upload-input");t&&t.remove();const a=document.createElement("input");return a.type="file",a.multiple=e.multiple??!1,a.classList.add("hidden"),a.style.display="none",a.style.visibility="hidden",a.id="hidden-file-upload-input",a.accept=ar(e),e.directory&&(a.webkitdirectory=!0),document.body.appendChild(a),a}function ar({extensions:e=[],types:t=[]}){const a=[];return e!=null&&e.length&&(e=e.map(n=>n.startsWith(".")?n:`.${n}`),a.push(e.join(","))),t!=null&&t.length&&a.push(t.join(",")),a.join(",")}function nr(e={}){return new Promise(t=>{const a=sr(e);a.onchange=n=>{const r=n.target.files;if(!r)return t([]);const i=Array.from(r).filter(o=>o.name!==".DS_Store").map(o=>new Le(o));t(i),a.remove()},document.body.appendChild(a),a.click()})}function rr(e){return Q.post("file-entries/delete",e).then(t=>t.data)}function ir(){return wt({mutationFn:e=>rr(e),onError:e=>Ft(e)})}function or(){const e=ir(),t=f.useRef(),a=qe(u=>u.uploadSingle),n=qe(u=>u.abortUpload),r=qe(u=>u.updateFileUpload),i=qe(u=>t.current?u.fileUploads.get(t.current):null),o=f.useCallback((u,h)=>{t.current=a(u,h)},[a]),l=f.useCallback(async u=>{var p;const h=await nr({types:(p=u==null?void 0:u.restrictions)==null?void 0:p.allowedFileTypes});return o(h[0],u),h[0]},[o]),c=f.useCallback(({onSuccess:u,entryPath:h})=>{var g,b,v;const p=()=>{i&&r(i.file.id,{...i,entry:void 0}),u()};if(!h&&!((g=i==null?void 0:i.entry)!=null&&g.id)){p();return}e.mutate({paths:h?[h]:void 0,entryIds:(b=i==null?void 0:i.entry)!=null&&b.id?[(v=i==null?void 0:i.entry)==null?void 0:v.id]:void 0,deleteForever:!0},{onSuccess:p})},[e,i,r]),d=f.useCallback(()=>{i&&n(i.file.id)},[i,n]);return{uploadFile:o,selectAndUploadFile:l,percentage:(i==null?void 0:i.percentage)||0,uploadStatus:i==null?void 0:i.status,entry:i==null?void 0:i.entry,deleteEntry:c,isDeletingEntry:e.isPending,activeUpload:i,abortUpload:d}}function lr(e){let{value:t=0,minValue:a=0,maxValue:n=100,size:r="md",label:i,showValueLabel:o=!!i,isIndeterminate:l=!1,labelPosition:c="top",className:d,role:u,formatOptions:h={style:"percent"},radius:p="rounded",trackColor:g="bg-primary-light",progressColor:b="bg-primary",trackHeight:v=cr(r)}=e;const w=f.useId();t=Re(t,a,n);const x=(t-a)/(n-a),y=vs(h);let j="";if(!l&&o){const A=h.style==="percent"?x:t;j=y.format(A)}const T={};l||(T.width=`${Math.round(x*100)}%`);const I=Oe({size:r}),F=(i||j)&&s.jsxs("div",{className:k("my-4 flex justify-between gap-10",I.label),children:[i&&s.jsx("span",{id:w,children:i}),j&&s.jsx("div",{children:j})]});return s.jsxs("div",{"aria-valuenow":l?void 0:t,"aria-valuemin":a,"aria-valuemax":n,"aria-valuetext":l?void 0:j,"aria-labelledby":i?w:void 0,role:u||"progressbar",className:k(d,"min-w-42"),children:[c==="top"&&F,s.jsx("div",{className:`${v} ${p} ${g} overflow-hidden`,children:s.jsx("div",{className:k(b,"fill h-full rounded-l transition-width duration-200",l&&"progress-bar-indeterminate-animate"),style:T})}),c==="bottom"&&F]})}function cr(e){switch(e){case"sm":return"h-6";case"xs":return"h-4";default:return"h-8"}}function ur(e){return s.jsx(lr,{...e})}const dr=W(s.jsx("path",{d:"M21 6h-3.17L16 4h-6v2h5.12l1.83 2H21v12H5v-9H3v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 14c0 2.76 2.24 5 5 5s5-2.24 5-5-2.24-5-5-5-5 2.24-5 5zm5-3c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zM5 6h3V4H5V1H3v3H0v2h3v3h2z"}),"AddAPhotoOutlined");let Xt=function(e){return e.image="image/*",e.audio="audio/*",e.text="text/*",e.json="application/json",e.video="video/mp4,video/mpeg,video/x-m4v,video/*",e}({});const mr=2*1024*1024;function fr({className:e,label:t,description:a,value:n,onChange:r,defaultValue:i,diskPrefix:o,showRemoveButton:l,showEditButtonOnHover:c=!1,invalid:d,errorMessage:u,required:h,autoFocus:p,variant:g="input",previewSize:b="h-80",placeholderIcon:v,stretchPreview:w=!1,previewRadius:x,disabled:y,onFileSelected:j}){const{uploadFile:T,entry:I,uploadStatus:F,deleteEntry:A,isDeletingEntry:P,percentage:D}=or(),V=f.useRef(null);La({autoFocus:p},V);const G=f.useId(),B=t?`${G}-label`:void 0,K=a?`${G}-description`:void 0,O=n||(I==null?void 0:I.url),U={showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[Xt.image],maxFileSize:mr},metadata:{diskPrefix:o,disk:Ye.public},onSuccess:_=>{r==null||r(_.url)},onError:_=>{_&&oe.danger(_)}},H=Oe({description:a,descriptionPosition:"top",invalid:d});let E;g==="avatar"?E=gr:g==="square"?E=hr:E=pr;const R=l?s.jsx(L,{variant:"link",color:"danger",size:"xs",disabled:P||!O||y,onClick:()=>{A({onSuccess:()=>r==null?void 0:r("")})},children:s.jsx(m,{message:"Remove image"})}):null,X=i!=null&&n!==i?s.jsx(L,{variant:"outline",color:"primary",size:"xs",disabled:y,onClick:()=>{r==null||r(i)},children:s.jsx(m,{message:"Use default"})}):null,$=f.useCallback(()=>{var _;(_=V.current)==null||_.click()},[]);return s.jsxs("div",{className:k("text-sm",e),children:[t&&s.jsx("div",{id:B,className:H.label,children:t}),a&&s.jsx("div",{className:H.description,children:a}),s.jsx("div",{"aria-labelledby":B,"aria-describedby":K,children:s.jsxs(ys,{fieldClassNames:H,errorMessage:u,invalid:d,children:[s.jsx(E,{inputFieldClassNames:H,placeholderIcon:v,previewSize:b,isLoading:F==="inProgress",imageUrl:O,removeButton:R,useDefaultButton:X,showEditButtonOnHover:c,stretchPreview:w,previewRadius:x,handleUpload:$,disabled:y,children:s.jsx("input",{ref:V,"aria-labelledby":B,"aria-describedby":K,required:O?!1:h,accept:Xt.image,type:"file",disabled:F==="inProgress",className:"sr-only",onChange:_=>{var Ee;(Ee=_.target.files)!=null&&Ee.length&&(T(_.target.files[0],U),j==null||j(_.target.files[0]))}})}),F==="inProgress"&&s.jsx(ur,{className:"absolute left-0 right-0 top-0",size:"xs",value:D})]})})]})}function pr({children:e,inputFieldClassNames:t,imageUrl:a,previewSize:n,stretchPreview:r,isLoading:i,handleUpload:o,removeButton:l,useDefaultButton:c,disabled:d}){return a?s.jsxs(f.Fragment,{children:[s.jsxs("div",{className:`${n} relative mb-10 overflow-hidden rounded border bg-fg-base/8 p-6`,children:[s.jsx("img",{className:k("mx-auto h-full rounded",r?"object-cover":"object-contain"),onClick:()=>o(),src:a,alt:""}),e]}),s.jsx(L,{onClick:()=>o(),disabled:i||d,className:"mr-10",variant:"outline",color:"primary",size:"xs",children:s.jsx(m,{message:"Replace"})}),l&&f.cloneElement(l,{variant:"outline"}),c&&f.cloneElement(c,{variant:"outline"})]}):f.cloneElement(e,{className:k(t.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})}function hr({children:e,placeholderIcon:t,previewSize:a,imageUrl:n,stretchPreview:r,handleUpload:i,removeButton:o,useDefaultButton:l,previewRadius:c="rounded",showEditButtonOnHover:d=!1,disabled:u}){return s.jsxs("div",{children:[s.jsxs("div",{className:k(a,c,!n&&"border","group z-20 flex flex-col items-center justify-center gap-14 bg-fg-base/8 bg-center bg-no-repeat",r?"bg-cover":"bg-contain p-6"),style:n?{backgroundImage:`url(${n})`}:void 0,onClick:()=>i(),children:[t&&!n&&f.cloneElement(t,{size:"lg"}),s.jsx(L,{variant:"raised",color:"white",size:"xs",className:k(d&&"invisible group-hover:visible"),disabled:u,children:n?s.jsx(m,{message:"Replace image"}):s.jsx(m,{message:"Upload image"})})]}),e,(o||l)&&s.jsxs("div",{className:"mt-8",children:[o&&f.cloneElement(o,{variant:"link"}),l&&f.cloneElement(l,{variant:"link"})]})]})}function gr({children:e,placeholderIcon:t,previewSize:a,isLoading:n,imageUrl:r,removeButton:i,useDefaultButton:o,handleUpload:l,previewRadius:c="rounded-full",disabled:d}){return t||(t=s.jsx(Vs,{viewBox:"0 0 48 48",className:k("h-full w-full bg-primary-light/40 text-primary/40",c)})),s.jsxs("div",{children:[s.jsxs("div",{className:k("relative",a),onClick:()=>l(),children:[r?s.jsx("img",{src:r,className:k("h-full w-full object-cover",c),alt:""}):t,s.jsx("div",{className:"absolute -bottom-6 -right-6 rounded-full bg-paper shadow-xl",children:s.jsx(xe,{disabled:n||d,type:"button",variant:"outline",size:"sm",color:"primary",radius:"rounded-full",children:s.jsx(dr,{})})})]}),e,(i||o)&&s.jsxs("div",{className:"mt-14",children:[i&&f.cloneElement(i,{variant:"link"}),o&&f.cloneElement(o,{variant:"link"})]})]})}function Ue(e){const{field:{onChange:t,value:a=null},fieldState:{error:n}}=kt({name:e.name}),r={onChange:t,value:a,invalid:n!=null,errorMessage:n?s.jsx(m,{message:"Please select an image."}):null};return s.jsx(fr,{...we(r,e)})}function Bs(e,t,a={}){return Ct({queryKey:["value-lists",e,t],queryFn:()=>xr(e,t),staleTime:t?void 0:1/0,placeholderData:nn,enabled:!a.disabled,initialData:()=>{const n=js.getQueriesData({queryKey:["ValueLists"]}).find(([,r])=>r&&e.every(i=>r[i])?r:null);if(n)return n[1]}})}function xr(e,t){return Q.get(`value-lists/${e}`,{params:t}).then(a=>a.data)}function ct({className:e,title:t,body:a,close:n,confirm:r,isDanger:i,isLoading:o,onConfirm:l}){const{close:c}=ye();return s.jsxs(ke,{className:e,size:"sm",role:"alertdialog",children:[s.jsx($e,{color:i?"text-danger":null,leftAdornment:s.jsx(Pn,{className:"icon-sm"}),children:t}),s.jsx(_e,{children:a}),s.jsxs(at,{children:[s.jsx(L,{variant:"text",onClick:()=>{c(!1)},children:n||s.jsx(m,{message:"Cancel"})}),s.jsx(L,{disabled:o,variant:"flat",color:i?"danger":"primary",onClick:()=>{l==null||l(),l||c(!0)},children:r})]})]})}const br={preview:{defaultRoute:"drive",navigationRoutes:["s","drive"]},sections:{"landing-page":{label:C("Landing Page"),position:1,previewRoute:"/",routes:[{path:"landing-page",lazy:()=>Ae("LandingPageAppearanceForm"),children:[{index:!0,lazy:()=>Ae("LandingPageSectionGeneral")},{path:"action-buttons",lazy:()=>Ae("LandingPageSectionActionButtons")},{path:"primary-features",lazy:()=>Ae("LandingPageSectionPrimaryFeatures")},{path:"secondary-features",lazy:()=>Ae("LandingPageSecondaryFeatures")}]}]},menus:{config:{positions:["drive-navbar","drive-sidebar","homepage-navbar","shareable-link-page","footer","footer-secondary"],availableRoutes:["/drive","/drive/shares","/drive/recent","/drive/starred","/drive/trash"]}},"seo-settings":{config:{pages:[{key:"landing-page",label:C("Landing page")},{key:"shareable-link-page",label:C("Shareable link page")}]}}}},Ne=W(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");function vr({className:e,children:t,size:a,color:n,radius:r,selectable:i,wrap:o=!0,startButton:l}){return s.jsxs("div",{className:k("flex items-center gap-8",o&&"flex-wrap",e),children:[l,f.Children.map(t,c=>{if(f.isValidElement(c))return f.cloneElement(c,{size:a,color:n,selectable:i,radius:r})})]})}function jt(e){return{id:e,name:`${e}`,description:`${e}`}}function yr(e,t){const a=f.useRef(null),n=ds(t),{displayWith:r=_=>_.name,validateWith:i,children:o,suggestions:l,isLoading:c,inputValue:d,onInputValueChange:u,onItemSelected:h,placeholder:p,onOpenChange:g,chipSize:b="sm",openMenuOnFocus:v=!0,showEmptyMessage:w,value:x,defaultValue:y,onChange:j,valueKey:T,isAsync:I,allowCustomValue:F=!0,showDropdownArrow:A,onChipClick:P,alwaysShowAvatar:D=!1,readOnly:V,...G}=e,B=Oe({...e,flexibleHeight:!0}),[K,O]=kr(e),[U,H]=f.useState(!1),E=s.jsx(st,{isIndeterminate:!0,size:"w-24 h-24","aria-label":"loading..."}),R=A?s.jsx(gs,{}):null,{fieldProps:X,inputProps:$}=Ma({...G,focusRef:n,endAdornment:c&&U?E:R});return s.jsx(ys,{fieldClassNames:B,...X,children:s.jsxs(Va,{ref:a,className:k("flex flex-wrap items-center",B.input),onClick:()=>{var _;(_=n.current)==null||_.focus()},children:[s.jsx(jr,{displayChipUsing:r,onChipClick:P,items:K,setItems:O,chipSize:b,alwaysShowAvatar:D,readOnly:V}),s.jsx(wr,{size:e.size,showEmptyMessage:w,inputProps:$,inputValue:d,onInputValueChange:u,fieldRef:a,inputRef:n,chips:K,setChips:O,validateWith:i,isLoading:c,suggestions:l,placeholder:p,openMenuOnFocus:v,listboxIsOpen:U,setListboxIsOpen:H,allowCustomValue:F,readOnly:V,children:o})]})})}function jr({items:e,setItems:t,displayChipUsing:a,chipSize:n,onChipClick:r,alwaysShowAvatar:i,readOnly:o}){const l=Xe(),c=f.useCallback(d=>{const u=e.findIndex(p=>p.id===d),h=[...e];return u>-1&&(h.splice(u,1),t(h)),h},[e,t]);return s.jsx(vr,{className:k("max-w-full flex-shrink-0 flex-wrap",n==="xs"?"my-6":"my-8"),size:n,selectable:!0,children:e.map(d=>s.jsx(As,{errorMessage:d.errorMessage,adornment:d.image||i?s.jsx($n,{circle:!0,src:d.image,fallback:"initials",label:d.name}):null,onClick:()=>r==null?void 0:r(d),onRemove:o?void 0:()=>{c(d.id).length?l==null||l.focusPrevious({tabbable:!0}):l==null||l.focusLast()},children:a(d)},d.id))})}function wr(e){const{inputRef:t,fieldRef:a,validateWith:n,setChips:r,chips:i,suggestions:o,inputProps:l,placeholder:c,openMenuOnFocus:d,listboxIsOpen:u,setListboxIsOpen:h,allowCustomValue:p,isLoading:g,size:b,readOnly:v}=e,w=Xe(),x=f.useCallback(E=>{E=(E||[]).filter(R=>{const X=!R||!R.id||!R.name;return!(i.findIndex(_=>_.id===(R==null?void 0:R.id))>-1)&&!X}),E.length&&(n&&(E=E.map(R=>n(R))),r([...i,...E]))},[i,r,n]),y=$a({...e,clearInputOnItemSelection:!0,isOpen:u,onOpenChange:h,items:o,selectionMode:"none",role:"listbox",virtualFocus:!0,onItemSelected:E=>{K(E)}}),{state:{activeIndex:j,setActiveIndex:T,isOpen:I,setIsOpen:F,inputValue:A,setInputValue:P},refs:D,listboxId:V,collection:G,onInputChange:B}=y,K=E=>{const R=G.size&&j!=null?[...G.values()][j]:null;R!=null&&R.item?x([R.item]):p&&x([jt(R?R.value:E)]),P(""),T(null),F(!1)};ba(()=>{a.current&&D.reference.current!==a.current&&y.reference(a.current)},[a,y,D]);const{handleTriggerKeyDown:O,handleListboxKeyboardNavigation:U}=Ua(y),H=Qe(()=>{d&&!I&&F(!0)});return s.jsx(_a,{listbox:y,mobileOverlay:Oa,isLoading:g,onPointerDown:E=>{E.preventDefault()},children:s.jsx("input",{readOnly:v,type:"text",className:k("mx-8 my-4 min-w-30 flex-[1_1_60px] bg-transparent text-sm outline-none",b==="xs"?"h-20":"h-30"),placeholder:c,...we(l,{ref:t,value:A,onChange:B,onPaste:E=>{const X=E.clipboardData.getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(X){E.preventDefault();const $=window.getSelection();$!=null&&$.rangeCount&&($.deleteFromDocument(),x(X.map(_=>jt(_))))}},"aria-autocomplete":"list","aria-controls":I?V:void 0,autoComplete:"off",autoCorrect:"off",spellCheck:"false",onKeyDown:E=>{if(v)return;const R=E.target;if(E.key==="Enter"){E.preventDefault(),K(R.value);return}if(E.key==="Escape"&&I&&(F(!1),P("")),E.key==="ArrowUp"&&I&&(j===0||j==null)){T(null);return}if(j!=null&&(E.key==="ArrowLeft"||E.key==="ArrowRight")){E.preventDefault();return}if((E.key==="ArrowLeft"||E.key==="Backspace"||E.key==="Delete")&&R.selectionStart===0&&j==null&&i.length){w==null||w.focusPrevious({tabbable:!0});return}O(E)||U(E)},onFocus:v?void 0:H,onClick:v?void 0:H})})})}function kr({onChange:e,value:t,defaultValue:a,valueKey:n}){const r=f.useMemo(()=>Zt(t),[t]),i=f.useMemo(()=>Zt(a),[a]),o=f.useCallback(l=>{const c=n?l.map(d=>d[n]):l;e==null||e(c)},[e,n]);return Nt(r||void 0,i||[],o)}function Zt(e){if(e!=null)return e.map(t=>typeof t!="object"?jt(t):t)}const Cr=ze.forwardRef(yr),Lt=W(s.jsx("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined"),ue=new Map,te=new Map,Nr=new Map,ae={status:"inactive"};function bt({e,rect:t,deltaX:a,deltaY:n}){return{rect:t,x:e.clientX,y:e.clientY,deltaX:a??0,deltaY:n??0,nativeEvent:e}}let Ks=null;function Jt(e){Ks=e}function Ir(e){return{left:e.left,top:e.top,width:e.width,height:e.height}}function qs(e){const t=new IntersectionObserver(a=>{a.forEach(n=>{const{width:r,height:i,left:o,top:l}=n.boundingClientRect,[c,d]=[...e].find(([,h])=>h.ref.current===n.target)||[];if(c==null||d==null)return;const u={width:r,height:i,left:o,top:l};e.set(c,{...d,rect:u})}),t.disconnect()});[...e.values()].forEach(a=>{a.ref.current&&t.observe(a.ref.current)})}function Er({id:e,disabled:t,ref:a,preview:n,hidePreview:r,...i}){const o=f.useRef(null),{addGlobalListener:l,removeAllGlobalListeners:c}=Ze(),d=f.useRef({lastPosition:{x:0,y:0}}).current,u=f.useRef(i);u.current=i,f.useLayoutEffect(()=>(t?ue.delete(e):ue.set(e,{...ue.get(e),id:e,ref:a,type:u.current.type,getData:u.current.getData}),()=>{ue.delete(e)}),[e,t,u,a]);const h=w=>{Nr.forEach(x=>{var y;x.type===((y=ue.get(e))==null?void 0:y.type)&&w(x)})},p=w=>{var I,F;const x=ue.get(e),y=a.current,j=!o.current||!d.clickedEl||o.current.contains(d.clickedEl);if(Ks||!y||!x||!j){w.preventDefault(),w.stopPropagation();return}qs(te),Jt("drag"),r&&Tr(w),w.dataTransfer.effectAllowed="move",d.lastPosition={x:w.clientX,y:w.clientY},d.currentRect=Ir(y.getBoundingClientRect());const T=bt({rect:d.currentRect,e:w});n!=null&&n.current&&n.current(x,A=>{w.dataTransfer.setDragImage(A,0,0)}),ae.status="dragging",ae.dragTargetId=e,a.current&&(a.current.dataset.dragging="true"),(F=(I=u.current).onDragStart)==null||F.call(I,T,x),requestAnimationFrame(()=>{h(A=>{var P;return(P=A.onDragStart)==null?void 0:P.call(A,T,x)})}),l(window,"dragover",g,!0)},g=w=>{var F,A;if(w.preventDefault(),!d.currentRect)return;const x=w.clientX-d.lastPosition.x,y=w.clientY-d.lastPosition.y,j={...d.currentRect,left:d.currentRect.left+x,top:d.currentRect.top+y},T=bt({rect:j,e:w,deltaX:x,deltaY:y}),I=ue.get(e);I&&((A=(F=u.current).onDragMove)==null||A.call(F,T,I),h(P=>{var D;return(D=P.onDragMove)==null?void 0:D.call(P,T,I)})),d.lastPosition={x:w.clientX,y:w.clientY},d.currentRect=j};return{draggableProps:{draggable:!t,onDragStart:p,onDragEnd:w=>{var j,T;if(c(),!d.currentRect)return;Jt(null),he&&he.remove();const x=bt({rect:d.currentRect,e:w}),y=ue.get(e);y&&((T=(j=u.current).onDragEnd)==null||T.call(j,x,y),h(I=>{var F;return(F=I.onDragEnd)==null?void 0:F.call(I,x,y,ae.status)})),requestAnimationFrame(()=>{ae.dragTargetId=void 0,ae.status="inactive",a.current&&delete a.current.dataset.dragging})},onPointerDown:w=>{d.clickedEl=w.target}},dragHandleRef:o}}let he;function Tr(e){he||(he=new Image,document.body.append(he),he.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),e.dataTransfer.setDragImage(he,0,0)}async function*Ar(e){const t=[];for(const a of e.items)if(a.kind==="file"){const n=a.webkitGetAsEntry();n&&t.push(n)}for(const a of t)if(a.isFile){if(a.name===".DS_Store")continue;const n=await Gs(a);yield new Le(n,a.fullPath)}else a.isDirectory&&(yield*Ws(a))}async function*Ws(e){const t=e.createReader();let a;do{a=await new Promise((n,r)=>{t.readEntries(n,r)});for(const n of a)if(n.isFile){if(n.name===".DS_Store")continue;const r=await Gs(n);yield new Le(r,n.fullPath)}else n.isDirectory&&(yield*Ws(n))}while(a.length>0)}function Gs(e){return new Promise((t,a)=>e.file(t,a))}async function Sr(e){const t=[];for await(const a of e)t.push(a);return t}const Fr=400;function Dr({id:e,disabled:t,ref:a,...n}){const r=f.useRef({dragOverElements:new Set,dropActivateTimer:void 0}).current,i=f.useRef(n);i.current=n,f.useLayoutEffect(()=>(te.set(e,{...te.get(e),disabled:t,id:e,ref:a}),()=>{te.delete(e)}),[e,i,t,a]);const o=p=>{var v;const g=i.current,b=g.allowDragEventsFromItself||a.current!==((v=p.ref)==null?void 0:v.current);return!!(p!=null&&p.type&&b&&g.types.includes(p.type)&&(!g.acceptsDrop||g.acceptsDrop(p)))},l=p=>{var b,v;const g=Fe(p);g&&((v=(b=i.current).onDragLeave)==null||v.call(b,g))};return{droppableProps:t?{}:{onDragOver:p=>{var b,v;p.preventDefault(),p.stopPropagation();const g=Fe(p);g&&o(g)&&((v=(b=i.current).onDragOver)==null||v.call(b,g,p))},onDragEnter:p=>{var b,v;if(p.stopPropagation(),r.dragOverElements.add(p.target),r.dragOverElements.size>1)return;const g=Fe(p);g&&o(g)&&((v=(b=i.current).onDragEnter)==null||v.call(b,g),clearTimeout(r.dropActivateTimer),typeof i.current.onDropActivate=="function"&&(r.dropActivateTimer=setTimeout(()=>{var w,x;g&&((x=(w=i.current).onDropActivate)==null||x.call(w,g))},Fr)))},onDragLeave:p=>{p.stopPropagation(),r.dragOverElements.delete(p.target);for(const b of r.dragOverElements)p.currentTarget.contains(b)||r.dragOverElements.delete(b);if(r.dragOverElements.size>0)return;const g=Fe(p);g&&o(g)&&(l(p),clearTimeout(r.dropActivateTimer))},onDrop:async p=>{var b,v,w,x;p.preventDefault(),p.stopPropagation(),r.dragOverElements.clear(),l(p),clearTimeout(r.dropActivateTimer);const g=Fe(p);if(g)if((v=(b=i.current).onDragLeave)==null||v.call(b,g),!o(g))ae.status!=="inactive"&&(ae.status="dropFail");else{const y=(x=(w=i.current).onDrop)==null?void 0:x.call(w,g);ae.status!=="inactive"&&(ae.status=y===!1?"dropFail":"dropSuccess")}}}}}function Fe(e){if(ae.dragTargetId!=null)return ue.get(ae.dragTargetId);if(e.dataTransfer.types.includes("Files"))return{type:"nativeFile",el:null,ref:null,getData:()=>Sr(Ar(e.dataTransfer))}}function Pr({children:e,...t}){const{field:{onChange:a,onBlur:n,value:r=[],ref:i},fieldState:{invalid:o,error:l}}=kt({name:t.name}),c={onChange:a,onBlur:n,value:r,invalid:o,errorMessage:l==null?void 0:l.message};return s.jsx(Cr,{ref:i,...we(c,t),children:e})}function zr({onMoveStart:e,onMove:t,onMoveEnd:a,minimumMovement:n=0,preventDefault:r,stopPropagation:i=!0,onPress:o,onLongPress:l,...c}){const u=f.useRef({lastPosition:{x:0,y:0},started:!1,longPressTriggered:!1}).current,{addGlobalListener:h,removeGlobalListener:p}=Ze(),g=x=>{!u.el||(e==null?void 0:e(x,u.el))===!1||(u.originalTouchAction=u.el.style.touchAction,u.el.style.touchAction="none",u.originalUserSelect=document.documentElement.style.userSelect,document.documentElement.style.userSelect="none",u.started=!0)},b=x=>{var y;if(x.button===0&&u.id==null){if(u.started=!1,((y=c.onPointerDown)==null?void 0:y.call(c,x))===!1)return;i&&x.stopPropagation(),r&&x.preventDefault(),u.id=x.pointerId,u.el=x.currentTarget,u.lastPosition={x:x.clientX,y:x.clientY},l&&(u.longPressTimer=setTimeout(()=>{l(x,u.el),u.longPressTriggered=!0},400)),(e||t)&&h(window,"pointermove",v,!1),h(window,"pointerup",w,!1),h(window,"pointercancel",w,!1)}},v=x=>{if(x.pointerId===u.id){const y=x.clientX-u.lastPosition.x,j=x.clientY-u.lastPosition.y;(Math.abs(y)>=n||Math.abs(j)>=n)&&!u.started&&g(x),u.started&&(t==null||t(x,y,j),u.lastPosition={x:x.clientX,y:x.clientY})}},w=x=>{var y;if(x.pointerId===u.id){u.longPressTimer&&clearTimeout(u.longPressTimer);const j=u.longPressTriggered;u.longPressTriggered=!1,u.started&&(a==null||a(x)),u.el&&(x.type!=="pointercancel"&&((y=c.onPointerUp)==null||y.call(c,x,u.el),x.target&&u.el.contains(x.target)&&(j?l==null||l(x,u.el):o==null||o(x,u.el))),document.documentElement.style.userSelect=u.originalUserSelect||"",u.el.style.touchAction=u.originalTouchAction||""),u.id=void 0,u.started=!1,p(window,"pointermove",v,!1),p(window,"pointerup",w,!1),p(window,"pointercancel",w,!1)}};return{domProps:{onPointerDown:Qe(b)}}}const Rr=W(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined"),es={variants:{open:{height:"auto",visibility:"visible",transitionEnd:{overflow:"auto"}},closed:{height:0,overflow:"hidden",transitionEnd:{visibility:"hidden"}}},transition:{type:"tween",duration:.2}},ut=ze.forwardRef(({variant:e="default",mode:t="single",children:a,className:n,isLazy:r,...i},o)=>{const[l,c]=Nt(i.expandedValues,i.defaultExpandedValues||[],i.onExpandedChange),d=ze.Children.count(a);return s.jsx("div",{className:k(e==="outline"&&"space-y-10",n),ref:o,role:"presentation",children:s.jsx(Es,{children:s.jsx(va,{children:ze.Children.map(a,(u,h)=>f.isValidElement(u)?f.cloneElement(u,{key:u.key||h,value:u.props.value||h,isFirst:h===0,isLast:h===d-1,mode:t,variant:e,expandedValues:l,setExpandedValues:c,isLazy:r}):null)})})})});function me(e){const{children:t,label:a,disabled:n,bodyClassName:r,bodyPadding:i="p-16",labelClassName:o,buttonPadding:l="py-10 pl-14 pr-10",startIcon:c,description:d,endAppend:u,chevronPosition:h="right",isFirst:p,mode:g,isLazy:b,variant:v,footerContent:w,onHeaderMouseEnter:x,onHeaderMouseLeave:y}=e,j=e.expandedValues||[],T=e.value||0,I=e.setExpandedValues||(()=>{}),F=f.useRef(null),A=!n&&j.includes(T),P=f.useRef(!1);A&&(P.current=!0);const D=Xe(),V=f.useId(),G=`${V}-button`,B=`${V}-panel`,K=H=>{switch(H.key){case"ArrowDown":D==null||D.focusNext();break;case"ArrowUp":D==null||D.focusPrevious();break;case"Home":D==null||D.focusFirst();break;case"End":D==null||D.focusLast();break}},O=()=>{const H=j.indexOf(T);if(H>-1){const E=[...j];E.splice(H,1),I(E)}else I(g==="single"?[T]:[...j,T])},U=s.jsx("div",{className:k(v==="minimal"&&""),children:s.jsx(Ln,{"aria-hidden":"true",size:"md",className:k(n?"text-disabled":"text-muted",A&&"rotate-180 transition-transform")})});return s.jsxs("div",{className:k(v==="default"&&"border-b",v==="outline"&&"rounded-panel border",n&&"text-disabled"),children:[s.jsxs("h3",{className:k("flex w-full items-center justify-between text-sm",n&&"pointer-events-none",p&&v==="default"&&"border-t",A&&v!=="minimal"?"border-b":"border-b border-b-transparent",v==="outline"?A?"rounded-panel-t":"rounded-panel":void 0),onMouseEnter:x,onMouseLeave:y,children:[s.jsxs("button",{disabled:n,"aria-expanded":A,id:G,"aria-controls":B,type:"button",ref:F,onKeyDown:K,onClick:()=>{n||O()},className:k("flex flex-auto items-center gap-10 text-left outline-none hover:bg-hover focus-visible:bg-primary/focus",l),children:[h==="left"&&U,c&&f.cloneElement(c,{size:"md",className:k(c.props.className,n?"text-disabled":"text-muted")}),s.jsxs("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:[s.jsx("div",{className:o,"data-testid":"accordion-label",children:a}),d&&s.jsx("div",{className:"text-xs text-muted",children:d})]}),h==="right"&&U]}),u&&s.jsx("div",{className:"flex-shrink-0 px-4 text-sm text-muted",children:u})]}),s.jsxs(St.div,{"aria-labelledby":V,role:"region",variants:es.variants,transition:es.transition,initial:!1,animate:A?"open":"closed",children:[s.jsx("div",{className:k(i,r),children:!b||P?t:null}),w]})]})}const Lr={preview:{defaultRoute:"/",navigationRoutes:[]},sections:{general:{label:C("General"),position:1},themes:{label:C("Themes"),position:2},menus:{label:C("Menus"),position:3,config:{availableRoutes:["/","/login","/register","/contact","/pricing","/account-settings","/admin","/admin/appearance","/admin/settings","/admin/plans","/admin/subscriptions","/admin/users","/admin/roles","/admin/pages","/admin/tags","/admin/files","/admin/localizations","/admin/ads","/admin/logs","/admin/settings/authentication","/admin/settings/branding","/admin/settings/cache","/admin/settings/providers","/api-docs"],positions:["admin-navbar","admin-sidebar","custom-page-navbar","auth-page-footer","auth-dropdown","account-settings-page","billing-page","checkout-page-navbar","checkout-page-footer","pricing-table-page","contact-us-page","notifications-page","footer","footer-secondary"]}},"custom-code":{label:C("Custom Code"),position:4},"seo-settings":{label:C("SEO Settings"),position:5}}},Me=Is.all([Lr,br]);let Qs=()=>{};const Mr=new Promise(e=>Qs=e),fe=nt()(rn((e,t)=>({defaults:null,iframeWindow:null,isDirty:!1,setIsDirty:a=>{e(()=>({isDirty:a}))},config:Me,setDefaults:a=>{e({defaults:{...a}})},setIframeWindow:a=>{e({iframeWindow:a}),a.addEventListener("message",n=>{n.data.source==="be-appearance-preview"&&n.data.type==="appLoaded"&&Qs()})},preview:{setValues:a=>{const n=t().iframeWindow;De(n,{type:"setValues",values:a})},setThemeFont:a=>{const n=t().iframeWindow;De(n,{type:"setThemeFont",value:a})},setThemeValue:(a,n)=>{const r=t().iframeWindow;De(r,{type:"setThemeValue",name:a,value:n})},setActiveTheme:a=>{const n=t().iframeWindow;De(n,{type:"setActiveTheme",themeId:a})},setCustomCode:(a,n)=>{const r=t().iframeWindow;De(r,{type:"setCustomCode",mode:a,value:n})},setHighlight:a=>{var i;let n=null;const r=(i=t().iframeWindow)==null?void 0:i.document;r&&a&&(n=r.querySelector(a)),n&&requestAnimationFrame(()=>{n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})}}})));function De(e,t){e&&e.postMessage({source:"be-appearance-editor",...t},"*")}function S(){return fe.getState()}function Ys(){return Ct({queryKey:["admin/appearance/values"],queryFn:()=>Vr(),staleTime:1/0,select:on})}function He(){const{data:e}=Ys();return e.values}function Vr(){return Q.get("admin/appearance/values").then(e=>e.data)}function $r(){var o,l;const{pathname:e}=je(),a=(l=(o=ja().at(-1))==null?void 0:o.handle)==null?void 0:l.previewRoute,n=e.split("/")[3],r=Me.sections[n],i=(r==null?void 0:r.previewRoute)||Me.preview.defaultRoute||"/";return a?`${i}/${a}`:i}function wo(){const{isAppearanceEditorActive:e}=zs(),{data:t}=Ys(),{base_url:a}=It(),n=f.useRef(null),r=$r();if(f.useEffect(()=>{t!=null&&t.defaults&&!S().defaults&&S().setDefaults(t.defaults)},[t]),f.useEffect(()=>{n.current&&S().setIframeWindow(n.current.contentWindow)},[]),e)return s.jsx(ya,{to:"/admin"});const i=new URL(r&&r!=="/"?`${a}/${r}`:`${a}`);return i.searchParams.append("appearanceEditor","true"),s.jsxs("div",{className:"h-screen items-center md:flex",children:[s.jsx(Ha,{children:s.jsx(m,{message:"Appearance"})}),s.jsx(_r,{values:t==null?void 0:t.values}),s.jsx("div",{className:"relative h-full flex-auto",children:s.jsx("iframe",{ref:n,className:"h-full w-full max-md:hidden",src:i.toString()},r)})]})}function _r({values:e}){const t=s.jsx("div",{className:"flex h-full flex-auto items-center justify-center",children:s.jsx(st,{isIndeterminate:!0,"aria-label":"Loading editor"})});return s.jsx("div",{className:"relative z-10 h-full w-full border-r bg shadow-lg @container md:w-320",children:e?s.jsx(Je,{}):t})}const J=f.forwardRef(({startIcon:e,children:t,className:a,description:n,endIcon:r,...i},o)=>s.jsxs(Ve,{ref:o,display:"flex",className:k("relative mb-10 h-54 w-full items-center gap-10 rounded-input border bg px-14 text-sm hover:bg-hover",a,i.disabled&&"pointer-events-none opacity-50"),variant:null,...i,children:[e,s.jsxs("span",{className:"block min-w-0",children:[s.jsx("span",{className:"block",children:t}),n&&s.jsx("span",{className:"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted",children:n})]}),s.jsx("div",{className:"ml-auto",children:r??s.jsx(Et,{"aria-hidden":!0,className:"text-muted icon-sm"})})]}));function ko(){const e=be(),{trans:t}=Tt(),{fields:a,append:n}=et({name:"settings.menus",keyName:"key"});return s.jsxs(f.Fragment,{children:[s.jsx("div",{children:a.map((r,i)=>s.jsx(J,{to:`${i}`,elementType:ie,children:r.name},r.key))}),s.jsx("div",{className:"text-right",children:s.jsx(L,{variant:"outline",color:"primary",startIcon:s.jsx(Ne,{}),size:"xs",onClick:()=>{const r=Ce(10);n({name:t(C("New menu :number",{values:{number:a.length+1}})),id:r,positions:[],items:[]}),e(`${a.length}`)},children:s.jsx(m,{message:"Create menu"})})})]})}function Or(){const e=Me.sections.menus.config;return e?e.availableRoutes.map(t=>({id:t,label:t,action:t,type:"route",target:"_self"})):[]}function Ur(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function Hr({title:e=s.jsx(m,{message:"Add menu item"})}){const{data:t}=Bs(["menuItemCategories"]),a=(t==null?void 0:t.menuItemCategories)||[],n=Or();return s.jsxs(ke,{size:"sm",children:[s.jsx($e,{children:e}),s.jsx(_e,{children:s.jsxs(ut,{variant:"outline",children:[s.jsx(me,{label:s.jsx(m,{message:"Link"}),bodyClassName:"max-h-240 overflow-y-auto",children:s.jsx(Br,{})}),s.jsx(me,{label:s.jsx(m,{message:"Route"}),bodyClassName:"max-h-240 overflow-y-auto",children:s.jsx(ts,{items:n})}),a.map(r=>s.jsx(me,{label:s.jsx(m,{message:r.name}),children:s.jsx(ts,{items:r.items})},r.name))]})})]})}function Br(){const e=ve({defaultValues:{id:Ce(6),type:"link",target:"_blank"}}),{close:t}=ye();return s.jsxs(Pt,{form:e,onSubmit:a=>{t(a)},children:[s.jsx(Y,{required:!0,name:"label",label:s.jsx(m,{message:"Label"}),className:"mb-20"}),s.jsx(Y,{required:!0,type:"url",name:"action",placeholder:"https://",label:s.jsx(m,{message:"Url"}),className:"mb-20"}),s.jsx("div",{className:"text-right",children:s.jsx(L,{type:"submit",variant:"flat",color:"primary",size:"xs",children:s.jsx(m,{message:"Add to menu"})})})]})}function ts({items:e}){const{close:t}=ye();return s.jsx(Ba,{children:e.map(a=>s.jsx(Ka,{startIcon:s.jsx(Ne,{size:"sm"}),onSelected:()=>{if(a.label){const n=a.label.split("/").pop();a.label=n?Ur(n):a.label,a.id=Ce(6)}a.target||(a.target="_self"),t(a)},children:a.label},a.id))})}const Kr=W(s.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorOutlined"),qr="/build/assets/dropdown-menu-c9b3bd6a.svg",Wr={onDragStart:()=>{},onDragEnter:()=>{},onDragOver:({e,ref:t,item:a,sortSession:n,onDropPositionChange:r})=>{var c;const i=n.dropPosition;let o=null;const l=(c=te.get(a))==null?void 0:c.rect;if(l){const d=l.top+l.height/2;e.clientY<=d?o="before":e.clientY>=d&&(o="after")}if(o!==i){const d=n.sortables.indexOf(a);if(n.dropPosition=o,r==null||r(n.dropPosition),ss(n),t.current)if(n.dropPosition==="after")vt(t.current,"bottom",n);else if(d===0)vt(t.current,"top",n);else{const p=n.sortables[d-1],g=te.get(p);g!=null&&g.ref.current&&vt(g.ref.current,"bottom",n)}const u=n.sortables.indexOf(a);if(n.activeIndex===u){n.finalIndex=n.activeIndex;return}(d>n.activeIndex?"after":"before")==="after"?n.finalIndex=n.dropPosition==="before"?u-1:u:n.finalIndex=n.dropPosition==="after"?u+1:u}},onDragEnd:e=>{ss(e)}};function ss(e){e!=null&&e.linePreviewEl&&(e.linePreviewEl.style.borderBottomColor="",e.linePreviewEl.style.borderTopColor="",e.linePreviewEl=void 0)}function vt(e,t,a){const n="rgb(var(--be-primary))";t==="top"?e.style.borderTopColor=n:e.style.borderBottomColor=n,a&&(a.linePreviewEl=e)}function Xs(e,t,a){const n=Re(t,0,e.length-1),r=Re(a,0,e.length-1);if(n===r)return e;const i=e[n],o=r<n?-1:1;for(let l=n;l!==r;l+=o)e[l]=e[l+o];return e[r]=i,e}function Zs(e,t,a){const n=e.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}const Gr="transform 0.2s cubic-bezier(0.2, 0, 0, 1)",Qr={onDragStart:e=>{e.sortables.forEach((t,a)=>{const n=te.get(t);n!=null&&n.ref.current&&(n.ref.current.style.transition=Gr,(e==null?void 0:e.activeIndex)===a&&(n.ref.current.style.opacity="0.4"))})},onDragEnter:(e,t,a)=>{Xs(e.sortables,a,t);const n=e.sortables.map(r=>{var i;return(i=te.get(r))==null?void 0:i.rect});e.sortables.forEach((r,i)=>{if(!e)return;const o=Zs(n,t,e.activeIndex),l=n[i],c=o[i],d=te.get(r);if(d!=null&&d.ref.current&&c&&l){const u=c.left-l.left,h=c.top-l.top;d.ref.current.style.transform=`translate3d(${u}px, ${h}px, 0)`}}),e.finalIndex=t},onDragOver:()=>{},onDragEnd:e=>{e.sortables.forEach(t=>{const a=te.get(t);a!=null&&a.ref.current&&(a.ref.current.style.transform="",a.ref.current.style.transition="",a.ref.current.style.opacity="",a.ref.current.style.zIndex="")})}},Yr={onDragStart:()=>{},onDragOver:()=>{},onDragEnter:(e,t,a)=>{var r;const n=(r=te.get(e.sortables[a]))==null?void 0:r.ref.current;n&&(Xr(n,a,t),Xs(e.sortables,a,t),e.finalIndex=t)},onDragEnd:()=>{}};function Xr(e,t,a){const n=e.parentElement;if(a<0)n.prepend(e);else{t>-1&&t<=a&&a++;const r=n.children.item(a);r?r.before(e):n.append(e)}}let z=null;const We={line:Wr,liveSort:Qr,moveNode:Yr};function Zr({item:e,items:t,type:a,ref:n,onSortEnd:r,onSortStart:i,onDragEnd:o,preview:l,disabled:c,onDropPositionChange:d,strategy:u="liveSort"}){f.useEffect(()=>{z&&z.sortables.length!==t.length&&(z.sortables=[...t],z.activeIndex=t.indexOf(e))},[t,e]);const{draggableProps:h,dragHandleRef:p}=Er({id:e,ref:n,type:a,preview:l,disabled:c,onDragStart:()=>{var b;z={sortables:[...t],activeSortable:e,activeIndex:t.indexOf(e),finalIndex:t.indexOf(e),dropPosition:null,ref:n,scrollParent:n.current?wa(n.current):void 0,scrollListener:()=>{qs(te)}},We[u].onDragStart(z),i==null||i(),(b=z.scrollParent)==null||b.addEventListener("scroll",z.scrollListener)},onDragEnd:()=>{var b;z&&(z.dropPosition=null,d==null||d(z.dropPosition),z.activeIndex!==z.finalIndex&&(r==null||r(z.activeIndex,z.finalIndex)),(b=z.scrollParent)==null||b.removeEventListener("scroll",z.scrollListener),We[u].onDragEnd(z),o==null||o(),z=null)},getData:()=>{}}),{droppableProps:g}=Dr({id:e,ref:n,types:[a],disabled:c,allowDragEventsFromItself:!0,onDragOver:(b,v)=>{z&&We[u].onDragOver({e:v,ref:n,item:e,sortSession:z,onDropPositionChange:d})},onDragEnter:()=>{if(!z)return;const b=z.sortables.indexOf(e),v=z.sortables.indexOf(z.activeSortable);We[u].onDragEnter(z,b,v)},onDragLeave:()=>{z&&(z.dropPosition=null,d==null||d(z.dropPosition))}});return{sortableProps:{...we(h,g)},dragHandleRef:p}}function Co(){const{menuIndex:e}=se(),t=be(),{getValues:a}=q(),n=`settings.menus.${e}`,r=a(n);return f.useEffect(()=>{r?S().preview.setHighlight(`[data-menu-id="${r.id}"]`):t("/admin/appearance/menus")},[t,r]),r?s.jsx(Jr,{menuFormPath:n}):null}function Jr({menuFormPath:e}){const{site:{has_mobile_app:t}}=It(),a=fe(r=>{var i;return(i=r.config)==null?void 0:i.sections.menus.config}),n=f.useMemo(()=>{const r=[...a==null?void 0:a.positions];return t&&r.push("mobile-app-about"),r.map(i=>({key:i,name:i.replaceAll("-"," ")}))},[a,t]);return s.jsxs(f.Fragment,{children:[s.jsxs("div",{className:"mb-30 border-b pb-30",children:[s.jsx(Y,{name:`${e}.name`,label:s.jsx(m,{message:"Menu name"}),className:"mb-20",autoFocus:!0}),s.jsx(Pr,{chipSize:"sm",name:`${e}.positions`,valueKey:"id",label:s.jsx(m,{message:"Menu positions"}),description:s.jsx(m,{message:"Where should this menu appear on the site"}),children:n.map(r=>s.jsx(re,{value:r.key,capitalizeFirst:!0,children:r.name},r.key))})]}),s.jsx(ei,{formPath:`${e}.items`}),s.jsx("div",{className:"text-right",children:s.jsx(ti,{})})]})}function ei({formPath:e}){const t=be(),a=q(),n=tt({control:a.control,name:e});return s.jsxs(f.Fragment,{children:[s.jsxs("div",{className:"flex flex-shrink-0 items-center justify-between gap-16",children:[s.jsx(m,{message:"Menu items"}),s.jsxs(le,{type:"popover",placement:"right",offset:20,onClose:r=>{r&&(a.setValue(e,[...n,r],{shouldDirty:!0}),t(`${n.length}`))},children:[s.jsx(L,{variant:"outline",color:"primary",size:"xs",startIcon:s.jsx(Ne,{}),children:s.jsx(m,{message:"Add"})}),s.jsx(Hr,{})]})]}),s.jsxs("div",{className:"mt-20 flex-shrink-0",children:[n.map((r,i)=>s.jsx(si,{item:r,items:n,index:i,onSortEnd:(o,l)=>{a.setValue(e,Zs(n,o,l),{shouldDirty:!0})}},r.id)),n.length?null:s.jsx(Ms,{size:"xs",className:"my-40",image:s.jsx(Ts,{src:qr}),title:s.jsx(m,{message:"No menu items yet"}),description:s.jsx(m,{message:"Click “add“ button to start adding links, pages, routes and other items to this menu. "})})]})]})}function ti(){const e=be(),t=se(),a=parseInt(t.menuIndex),n=q(),r="settings.menus",i=tt({control:n.control,name:r}),o=i[a];return o?s.jsxs(le,{type:"modal",onClose:l=>{l&&(n.setValue(r,i.filter((c,d)=>d!=a),{shouldDirty:!0}),e("/admin/appearance/menus"))},children:[s.jsx(L,{variant:"outline",color:"danger",size:"xs",startIcon:s.jsx(Lt,{}),children:s.jsx(m,{message:"Delete menu"})}),s.jsx(ct,{isDanger:!0,title:s.jsx(m,{message:"Delete menu"}),body:s.jsx(m,{message:"Are you sure you want to delete “:name“?",values:{name:o.name}}),confirm:s.jsx(m,{message:"Delete"})})]}):null}function si({item:e,items:t,index:a,onSortEnd:n}){const r=f.useRef(null),{sortableProps:i,dragHandleRef:o}=Zr({item:e,items:t,type:"menuEditorSortable",ref:r,onSortEnd:n,strategy:"liveSort"}),l=e.icon&&qa(e.icon),c=s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted",children:[l&&s.jsx(l,{size:"sm"}),"(",s.jsx(m,{message:"No label..."}),")"]});return s.jsx(f.Fragment,{children:s.jsx(J,{elementType:ie,to:`${a}`,ref:r,...i,children:s.jsxs("div",{className:"flex items-center gap-10",children:[s.jsx(xe,{ref:o,size:"sm",children:s.jsx(Kr,{className:"text-muted hover:cursor-move"})}),s.jsx("div",{children:e.label||c})]})})})}function No(){const{menuIndex:e,menuItemIndex:t}=se();return s.jsx(ai,{itemsPath:`settings.menus.${e}.items`,itemIndex:t})}function ai({itemsPath:e,itemIndex:t}){const a=Dt(),{getValues:n}=q(),r=n(`${e}.${t}`);return f.useEffect(()=>{r?S().preview.setHighlight(`[data-menu-item-id="${r.id}"]`):a("..",{relative:"path",replace:!0})},[a,r]),r?s.jsx(ni,{itemsPath:e,itemIndex:t}):null}function ni({itemsPath:e,itemIndex:t}){return s.jsxs(f.Fragment,{children:[s.jsx(Ge,{formPathPrefix:`${e}.${t}`}),s.jsx("div",{className:"mt-40 text-right",children:s.jsx(ri,{itemsPath:e,itemIndex:t})})]})}function ri({itemsPath:e,itemIndex:t}){const a=Dt(),{fields:n}=et({name:e}),{setValue:r,getValues:i}=q(),o=n[+t];return s.jsxs(le,{type:"modal",onClose:l=>{if(l&&t){const c=i(e);r(e,c.filter((d,u)=>u!==+t),{shouldDirty:!0}),a("..",{relative:"path",replace:!0})}},children:[s.jsx(L,{variant:"outline",color:"danger",size:"xs",startIcon:s.jsx(Lt,{}),children:s.jsx(m,{message:"Delete this item"})}),s.jsx(ct,{isDanger:!0,title:s.jsx(m,{message:"Delete item"}),body:s.jsx(m,{message:"Are you sure you want to delete “:name“?",values:{name:o.label}}),confirm:s.jsx(m,{message:"Delete"})})]})}const Js=["appearance-editor-save"];function ii(){return wt({mutationKey:Js,mutationFn:e=>oi(e),onSuccess:async e=>{js.setQueryData(["admin/appearance/values"],e),oe(C("Changes saved"))},onError:e=>Ft(e)})}function oi(e){return Q.post("admin/appearance",{changes:e}).then(t=>t.data)}function li({isBlocked:e,allowedPath:t}){const{state:a,reset:n,proceed:r}=ka(({nextLocation:i})=>e&&(!t||!i.pathname.includes(t)));return f.useEffect(()=>{const i=o=>{e&&(o.preventDefault(),o.returnValue=!0)};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[e]),s.jsx(le,{type:"modal",isOpen:a==="blocked",onClose:i=>{a==="blocked"&&(i?r():n())},children:s.jsx(ct,{isDanger:!0,title:s.jsx(m,{message:"You have unsaved changes"}),body:s.jsx(m,{message:"Your changes will be lost if you continue. Are you sure you want to discard them?"}),close:s.jsx(m,{message:"Stay here"}),confirm:s.jsx(m,{message:"Discard changes"})})})}function Be({children:e,breadcrumb:t,form:a,blockerAllowedPath:n}){const{isDirty:r}=Ca({control:a.control});f.useEffect(()=>(S().setIsDirty(r),()=>S().setIsDirty(!1)),[r]),f.useEffect(()=>{const o=a.watch(l=>{S().preview.setValues(l)});return()=>o.unsubscribe()},[a]);const i=ii();return s.jsxs(f.Fragment,{children:[s.jsx(Mt,{breadcrumb:t,children:s.jsx(tr,{children:s.jsx(Pt,{className:"h-full flex-auto",id:"appearance-editor",form:a,onSubmit:o=>{i.mutate(o,{onSuccess:()=>a.reset(o)})},children:e})})}),s.jsx(li,{isBlocked:r,allowedPath:n})]})}function Mt({breadcrumb:e,children:t}){return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(ci,{}),e,s.jsx("div",{className:"flex-auto overflow-y-auto",children:s.jsx("div",{className:"flex h-full flex-col px-14 py-20",children:t})})]})}function ci(){const{state:e}=je(),t=Na({mutationKey:Js})>0,a=fe(n=>n.isDirty);return s.jsxs("div",{className:"flex h-50 flex-shrink-0 items-center border-b pr-10",children:[s.jsx(xe,{border:"border-r",className:"text-muted",elementType:ie,to:(e==null?void 0:e.prevPath)||"/admin",replace:!0,children:s.jsx(Wa,{})}),s.jsx("div",{className:"pl-10",children:s.jsx(m,{message:"Appearance editor"})}),s.jsx(L,{variant:"flat",color:"primary",className:"ml-auto block",disabled:!a||t,type:"submit",form:"appearance-editor",children:a?s.jsx(m,{message:"Save"}):s.jsx(m,{message:"Saved"})})]})}function ui(){const e=je();return new URL(".",window.origin+e.pathname).pathname.replace(/\/$/,"")}function Ie({children:e,backLink:t}){const a=f.Children.toArray(e),n=ui(),r=[s.jsx(m,{message:"Customizing"},"mainLabel")];a.length>1&&r.push(a[0]);const i=a.length>1?a.slice(1):a;return s.jsxs("div",{className:"flex h-60 flex-shrink-0 items-center border-b",children:[s.jsx(xe,{iconSize:"md",radius:"rounded-none",className:"h-full w-50 flex-shrink-0 text-muted",elementType:ie,to:t??n,children:s.jsx(ws,{})}),s.jsxs("div",{className:"min-w-0 border-l p-10",children:[s.jsx(as,{items:r,className:"text-xs text-muted"}),s.jsx(as,{items:i,isEmphasized:!0,className:"mt-2 text-sm"})]})]})}function as({items:e,className:t,isEmphasized:a}){return s.jsx("div",{className:k("flex items-center gap-4",t),children:e.map((n,r)=>{const i=e.length-1===r;return s.jsxs(f.Fragment,{children:[s.jsx("div",{className:k("min-w-0 overflow-hidden overflow-ellipsis whitespace-nowrap",i&&a&&"text-primary"),children:n}),!i&&(a?s.jsx(Et,{className:"flex-shrink-0 text-muted",size:"font-inherit"}):s.jsx("div",{children:"•"}))]},r)})})}function Io(){const e=He(),t=ve({defaultValues:{settings:{branding:{favicon:e.settings.branding.favicon,logo_light:e.settings.branding.logo_light,logo_dark:e.settings.branding.logo_dark,logo_light_mobile:e.settings.branding.logo_light_mobile,logo_dark_mobile:e.settings.branding.logo_dark_mobile,site_description:e.settings.branding.site_description}},appearance:{env:{app_name:e.appearance.env.app_name}}}});return s.jsxs(Be,{form:t,breadcrumb:s.jsx(Ie,{children:s.jsx(m,{message:"General"})}),children:[s.jsx(Pe,{label:s.jsx(m,{message:"Favicon"}),description:s.jsx(m,{message:"This will generate different size favicons. Image should be at least 512x512 in size."}),type:"favicon"}),s.jsx(Pe,{label:s.jsx(m,{message:"Light logo"}),description:s.jsx(m,{message:"Will be used on dark backgrounds."}),type:"logo_light"}),s.jsx(Pe,{label:s.jsx(m,{message:"Dark logo"}),description:s.jsx(m,{message:"Will be used on light backgrounds. Will default to light logo if left empty."}),type:"logo_dark"}),s.jsx(Pe,{label:s.jsx(m,{message:"Mobile light logo"}),description:s.jsx(m,{message:"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty."}),type:"logo_light_mobile"}),s.jsx(Pe,{label:s.jsx(m,{message:"Mobile dark logo"}),description:s.jsx(m,{message:"Will be used on dark backgrounds on mobile. Will default to desktop if left empty."}),type:"logo_dark_mobile"}),s.jsx(di,{}),s.jsx(mi,{})]})}function Pe({label:e,description:t,type:a}){const n=fe(r=>{var i;return(i=r.defaults)==null?void 0:i.settings.branding[a]});return s.jsx(Ue,{name:`settings.branding.${a}`,className:"mb-30 border-b pb-30",label:e,description:t,diskPrefix:"branding_media",defaultValue:n,onChange:()=>{S().preview.setHighlight('[data-logo="navbar"]')}})}function di(){return s.jsx(Y,{name:"appearance.env.app_name",required:!0,className:"mt-20",label:s.jsx(m,{message:"Site name"})})}function mi(){return s.jsx(Y,{name:"settings.branding.site_description",className:"mt-20",inputElementType:"textarea",rows:4,label:s.jsx(m,{message:"Site description"})})}function fi(e=1,t=1e4){const a=new Uint32Array(1);window.crypto.getRandomValues(a);const n=a[0]/(4294967295+1);return e=Math.ceil(e),t=Math.floor(t),Math.floor(n*(t-e+1))+e}function Eo({type:e,children:t,disabled:a}){const{trans:n}=Tt(),r=be(),{watch:i,getValues:o,setValue:l}=q();return s.jsxs(f.Fragment,{children:[t,s.jsx("div",{className:"mb-20",children:s.jsx(L,{size:"xs",variant:"outline",color:"primary",startIcon:s.jsx(Ne,{}),disabled:a,onClick:()=>{var u;const c=(u=S().defaults)==null?void 0:u.appearance.themes.light,d=o("appearance.themes");l("appearance.themes",[...d,{id:fi(),name:n(C("New theme")),values:c,type:e}],{shouldDirty:!0}),r(`${d.length}`)},children:s.jsx(m,{message:"New theme"})})}),i("appearance.themes").map((c,d)=>s.jsx(J,{to:`${d}`,elementType:ms,disabled:a,children:c.name},c.id))]})}const pi=ze.lazy(()=>hs(()=>import("./ace-editor-c61910c3.js"),["assets/ace-editor-c61910c3.js","assets/vendor-react-fefbac25.js","assets/vendor-e6c98b2f.js","assets/vendor-utils-f24f35c9.js","assets/admin-analytics-cad99b47.js","assets/vendor-editor-a92125c6.js","assets/vendor-react-34ffaf07.css","assets/admin-core-a6fad5ad.js","assets/admin-settings-9cf13e73.js"]));function ea({defaultValue:e,mode:t="html",title:a,onSave:n,isSaving:r,footerStartAction:i,beautify:o,editorRef:l}){const[c,d]=f.useState(e),[u,h]=f.useState(!0);return s.jsxs(ke,{size:"fullscreen",className:"h-full w-full",children:[s.jsx($e,{children:a}),s.jsx(_e,{className:"relative flex-auto",padding:"p-0",children:s.jsx(f.Suspense,{fallback:s.jsx("div",{className:"flex h-400 w-full items-center justify-center",children:s.jsx(st,{"aria-label":"Loading editor...",isIndeterminate:!0,size:"md"})}),children:s.jsx(pi,{beautify:o,mode:t,onChange:p=>d(p),defaultValue:c||"",onIsValidChange:h,editorRef:l})})}),s.jsx(hi,{disabled:!u||r,value:c,onSave:n,startAction:i})]})}function hi({disabled:e,value:t,onSave:a,startAction:n}){const{close:r}=ye();return s.jsxs(at,{dividerTop:!0,startAction:n,children:[s.jsx(L,{onClick:()=>r(),children:s.jsx(m,{message:"Cancel"})}),s.jsx(L,{disabled:e,variant:"flat",color:"primary",onClick:()=>{a?a(t):r(t)},children:s.jsx(m,{message:"Save"})})]})}function ta(e){return Ct({queryKey:["admin","seo-tags",e],queryFn:()=>gi(e)})}function gi(e){return Q.get(`admin/appearance/seo-tags/${e}`).then(t=>t.data)}function xi(e){const t=Ia();return wt({mutationFn:a=>bi(e,a.tags),onSuccess:async()=>{await t.invalidateQueries({queryKey:["admin","seo-tags",e]}),oe(C("Updated SEO tags"))},onError:a=>Ft(a)})}function bi(e,t){return Q.put(`admin/appearance/seo-tags/${e}`,{tags:t}).then(a=>a.data)}var us;const sa=((us=Me.sections["seo-settings"].config)==null?void 0:us.pages)||[],aa=sa.map(e=>e.key);function To(){const{isLoading:e}=ta(aa);return s.jsx(Mt,{breadcrumb:s.jsx(Ie,{children:s.jsx(m,{message:"SEO"})}),children:e?s.jsx(zn,{}):s.jsx(f.Fragment,{children:sa.map(t=>s.jsx(vi,{label:t.label,name:t.key},t.key))})})}function vi({label:e,name:t}){const{data:a,isLoading:n}=ta(aa);return s.jsxs(le,{type:"modal",children:[s.jsx(J,{disabled:n,children:s.jsx(m,{...e})}),a?s.jsx(yi,{name:t,value:a[t]}):null]})}function yi({name:e,value:t}){const{close:a}=ye(),n=xi(e),r=f.useRef(null),i=s.jsx(L,{variant:"outline",color:"primary",onClick:()=>{r.current&&r.current.editor.setValue(t.original)},children:s.jsx(m,{message:"Reset to original"})});return s.jsx(ea,{mode:"php_laravel_blade",title:s.jsx(m,{message:"Edit SEO meta tags"}),footerStartAction:i,editorRef:r,defaultValue:t.custom||t.original,isSaving:n.isPending,beautify:!1,onSave:o=>{o!=null&&n.mutate({tags:o},{onSuccess:()=>a()})}})}function Ao(){const e=He(),t=ve({defaultValues:{appearance:{custom_code:{css:e.appearance.custom_code.css,html:e.appearance.custom_code.html}}}});return s.jsxs(Be,{form:t,breadcrumb:s.jsx(Ie,{children:s.jsx(m,{message:"Custom code"})}),children:[s.jsx(ns,{mode:"css"}),s.jsx(ns,{mode:"html"})]})}function ns({mode:e}){const{getValues:t}=q(),{setValue:a}=q(),n=e==="html"?s.jsx(m,{message:"Custom HTML & JavaScript"}):s.jsx(m,{message:"Custom CSS"});return s.jsxs(le,{type:"modal",onClose:r=>{r!=null&&(a(`appearance.custom_code.${e}`,r,{shouldDirty:!0}),S().preview.setCustomCode(e,r))},children:[s.jsx(J,{children:n}),s.jsx(ea,{title:n,defaultValue:t(`appearance.custom_code.${e}`)||"",mode:e})]})}const Vt=W(s.jsx("path",{stroke:"#E0E0E0",d:"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z"}));function rs(e){return fs(e).toString("rgb").replace("rgb(","").replace(")","").replace(/, ?/g," ")}const ji=W(s.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined");function wi(){const{getValues:e,setValue:t}=q(),{themeIndex:a}=se(),n=e(`appearance.themes.${+a}`);return s.jsxs(le,{type:"modal",onClose:r=>{r&&e("appearance.themes").forEach((i,o)=>{if(i.id===r.id){t(`appearance.themes.${o}`,r,{shouldDirty:!0});return}if(r.default_light){t(`appearance.themes.${o}`,{...i,default_light:!1},{shouldDirty:!0});return}if(r.default_dark){t(`appearance.themes.${o}`,{...i,default_dark:!1},{shouldDirty:!0});return}})},children:[s.jsx(L,{size:"xs",variant:"outline",color:"primary",startIcon:s.jsx(ji,{}),children:s.jsx(m,{message:"Settings"})}),s.jsx(ki,{theme:n})]})}function ki({theme:e}){const t=ve({defaultValues:e}),{close:a,formId:n}=ye();return f.useEffect(()=>{const r=t.watch((i,{name:o})=>{o==="default_light"&&i.default_light&&t.setValue("default_dark",!1),o==="default_dark"&&i.default_dark&&t.setValue("default_light",!1)});return()=>r.unsubscribe()},[t]),s.jsxs(ke,{children:[s.jsx($e,{children:s.jsx(m,{message:"Update settings"})}),s.jsx(_e,{children:s.jsxs(Pt,{form:t,id:n,onSubmit:r=>{a(r)},children:[s.jsx(Y,{name:"name",label:s.jsx(m,{message:"Name"}),className:"mb-30",autoFocus:!0}),s.jsx(ht,{name:"is_dark",className:"mb-20 border-b pb-20",description:s.jsx(m,{message:"Whether this theme has light text on dark background."}),children:s.jsx(m,{message:"Dark theme"})}),s.jsx(ht,{name:"default_light",className:"mb-30",description:s.jsx(m,{message:"When light mode is selected, this theme will be used."}),children:s.jsx(m,{message:"Default for light mode"})}),s.jsx(ht,{name:"default_dark",description:s.jsx(m,{message:"When dark mode is selected, this theme will be used."}),children:s.jsx(m,{message:"Default for dark mode"})})]})}),s.jsxs(at,{children:[s.jsx(L,{onClick:()=>{a()},children:s.jsx(m,{message:"Cancel"})}),s.jsx(L,{variant:"flat",color:"primary",type:"submit",form:n,disabled:!t.formState.isDirty,children:s.jsx(m,{message:"Save"})})]})]})}const Ci=W(s.jsx("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");function Ni(){const e=Dt(),{themeIndex:t}=se(),[a,n]=f.useState(!1),{setValue:r,getValues:i}=q(),o=()=>{if(i("appearance.themes").length<=1){oe.danger(C("At least one theme is required"));return}t&&(e("..",{relative:"path",replace:!0}),r("appearance.themes",i("appearance.themes").filter((l,c)=>c!==+t),{shouldDirty:!0}))};return s.jsxs(f.Fragment,{children:[s.jsxs(ks,{onItemSelected:l=>{if(l==="delete")n(!0);else if(l==="reset"){const c=`appearance.themes.${+t}`,d=i(`${c}.is_dark`)?S().defaults.appearance.themes.dark:S().defaults.appearance.themes.light;Object.entries(d).forEach(([u,h])=>{S().preview.setThemeValue(u,h)}),S().preview.setThemeFont(null),r(`${c}.values`,d,{shouldDirty:!0}),r(`${c}.font`,void 0,{shouldDirty:!0})}},children:[s.jsx(xe,{size:"md",className:"text-muted",children:s.jsx(Rr,{})}),s.jsxs(Cs,{children:[s.jsx(re,{value:"reset",startIcon:s.jsx(Ci,{}),children:s.jsx(m,{message:"Reset colors"})}),s.jsx(re,{value:"delete",startIcon:s.jsx(Lt,{}),children:s.jsx(m,{message:"Delete"})})]})]}),s.jsx(le,{type:"modal",isOpen:a,onClose:l=>{l&&o(),n(!1)},children:s.jsx(ct,{isDanger:!0,title:s.jsx(m,{message:"Delete theme"}),body:s.jsx(m,{message:"Are you sure you want to delete this theme?"}),confirm:s.jsx(m,{message:"Delete"})})})]})}const Ii=[{color:"rgb(255, 255, 255)",name:C("White")},{color:"rgb(239,245,245)",name:C("Solitude")},{color:"rgb(245,213,174)",name:C("Wheat")},{color:"rgb(253,227,167)",name:C("Cape Honey")},{color:"rgb(242,222,186)",name:C("Milk punch")},{color:"rgb(97,118,75)",name:C("Dingy"),foreground:"rgb(255, 255, 255)"},{color:"rgb(4, 147, 114)",name:C("Aquamarine"),foreground:"rgb(255, 255, 255)"},{color:"rgb(222,245,229)",name:C("Cosmic Latte")},{color:"rgb(233,119,119)",name:C("Geraldine"),foreground:"rgb(90,14,14)"},{color:"rgb(247,164,164)",name:C("Sundown")},{color:"rgb(30,139,195)",name:C("Pelorous"),foreground:"rgb(255, 255, 255)"},{color:"rgb(142,68,173)",name:C("Deep Lilac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(108,74,182)",name:C("Blue marguerite"),foreground:"rgb(255, 255, 255)"},{color:"rgb(139,126,116)",name:C("Americano"),foreground:"rgb(255, 255, 255)"},{color:"rgb(0,0,0)",name:C("Black"),foreground:"rgb(255, 255, 255)"},{color:"rgb(64,66,88)",name:C("Blue zodiac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(101,100,124)",name:C("Comet"),foreground:"rgb(255, 255, 255)"}];function Ei({onChange:e,value:t,colors:a}){const n=a.map(r=>{const i=t===r;return s.jsx(Ve,{onClick:()=>{e==null||e(r)},className:k("relative block flex-shrink-0 w-26 h-26 border rounded",i&&"shadow-md"),style:{backgroundColor:r},children:i&&s.jsx("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},r)});return s.jsx("div",{className:"flex flex-wrap gap-6",children:n})}const Ti=Ii.map(({color:e})=>e).slice(0,14);function Ai({defaultValue:e,onChange:t,colorPresets:a,showInput:n}){const[r,i]=f.useState(e),o=a||Ti,l=Oe({size:"sm"});return s.jsxs("div",{children:[s.jsx(Ea,{className:"!w-auto",color:r,onChange:c=>{t==null||t(c),i(c)}}),s.jsxs("div",{className:"px-12 py-20",children:[o&&s.jsx(Ei,{colors:o,onChange:c=>{if(c){const d=fs(c).toString("hex");t==null||t(d),i(d)}},value:r}),n&&s.jsx("div",{className:"pt-20",children:s.jsx(Ta,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:l.input,color:r,onChange:c=>{t==null||t(c),i(c)}})})]})]})}function na({hideFooter:e=!1,showInput:t=!0}){const{close:a,value:n,setValue:r,initialValue:i}=ye();return s.jsxs(ke,{size:"2xs",children:[s.jsx(Ai,{showInput:t,defaultValue:i||"",onChange:o=>r(o)}),!e&&s.jsxs(at,{dividerTop:!0,children:[s.jsx(L,{variant:"text",size:"xs",onClick:()=>a(),children:s.jsx(m,{message:"Cancel"})}),s.jsx(L,{variant:"flat",color:"primary",size:"xs",onClick:()=>a(n),children:s.jsx(m,{message:"Apply"})})]})]})}const is=[{label:C("Accent"),value:"primary",bgColor:"bg-primary",previewBgColor:"text-primary"},{label:C("Background"),value:"bg",bgColor:"bg-background",previewBgColor:"text-background"},{label:C("Background alt"),value:"bg-alt",bgColor:"bg-alt",previewBgColor:"text-background-alt"},{label:C("Transparent"),value:"transparent",bgColor:"bg-transparent",previewBgColor:"text-transparent"}];function Si(){var o;const{themeIndex:e}=se(),{watch:t,setValue:a}=q(),n=`appearance.themes.${e}.values.--be-navbar-color`,r=t(n),i=(o=is.find(({value:l})=>l===r))==null?void 0:o.previewBgColor;return s.jsxs(ks,{placement:"right",selectionMode:"single",selectedValue:r,onSelectionChange:l=>{a(n,l,{shouldDirty:!0})},children:[s.jsx(J,{startIcon:s.jsx(Vt,{viewBox:"0 0 48 48",className:k("icon-lg",i)}),children:s.jsx(m,{message:"Navbar"})}),s.jsx(Cs,{children:is.map(({label:l,value:c,bgColor:d})=>s.jsx(re,{value:c,startIcon:s.jsx("div",{className:k("h-20 w-20 rounded border",d)}),children:s.jsx(m,{...l})},c))})]})}function Fi({children:e,marginTop:t="mt-22"}){return s.jsx("div",{className:k("mb-6 text-sm font-semibold",t),children:e})}const Di=[{label:C("Background"),key:"--be-background"},{label:C("Background alt"),key:"--be-background-alt"},{label:C("Foreground"),key:"--be-foreground-base"},{label:C("Accent light"),key:"--be-primary-light"},{label:C("Accent"),key:"--be-primary"},{label:C("Accent dark"),key:"--be-primary-dark"},{label:C("Text on accent"),key:"--be-on-primary"},{label:C("Chip"),key:"--be-background-chip"}];function So(){const e=be(),{themeIndex:t}=se(),{getValues:a,watch:n}=q(),r=a(`appearance.themes.${+t}`),i=n(`appearance.themes.${+t}.font.family`);return f.useEffect(()=>{r||e("..",{relative:"path",replace:!0})},[e,r]),f.useEffect(()=>{let o=!1;return r!=null&&r.id&&Mr.then(()=>{o||S().preview.setActiveTheme(r.id)}),()=>{o=!0,S().preview.setActiveTheme(null)}},[r==null?void 0:r.id]),r?s.jsxs(f.Fragment,{children:[s.jsxs("div",{className:"mb-20 flex items-center justify-between gap-10",children:[s.jsx(wi,{}),s.jsx(Ni,{})]}),s.jsxs("div",{children:[s.jsx(J,{elementType:ie,to:"font",description:i||s.jsx(m,{message:"System"}),children:s.jsx(m,{message:"Font"})}),s.jsx(J,{elementType:ie,to:"radius",children:s.jsx(m,{message:"Rounding"})}),s.jsx(Fi,{children:s.jsx(m,{message:"Colors"})}),s.jsx(Si,{}),Di.map(o=>s.jsx(Pi,{colorName:o.key,label:s.jsx(m,{...o.label}),initialThemeValue:r.values[o.key],theme:r},o.key))]})]}):null}function Pi({label:e,theme:t,colorName:a,initialThemeValue:n}){const{setValue:r}=q(),{themeIndex:i}=se(),[o,l]=f.useState(n),c=d=>{l(d),S().preview.setThemeValue(a,d)};return f.useEffect(()=>{l(n)},[n]),s.jsxs(le,{value:Ga(o),type:"popover",placement:"right",offset:10,onValueChange:d=>{c(rs(d))},onClose:(d,{valueChanged:u,initialValue:h})=>{d&&u?r(`appearance.themes.${+i}.values.${a}`,rs(d),{shouldDirty:!0}):c(h)},children:[s.jsx(J,{className:"capitalize",startIcon:s.jsx(Vt,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:`rgb(${o})`}}),children:e}),s.jsx(na,{})]})}function Fo(){const e=fe(a=>{var n;return(n=a.config)==null?void 0:n.sections}),t=f.useMemo(()=>e?Object.entries(e||[]).map(([a,n])=>({...n,key:a})).sort((a,n)=>((a==null?void 0:a.position)||1)-((n==null?void 0:n.position)||1)):[],[e]);return s.jsx(Mt,{children:t.map(a=>s.jsx(J,{to:a.key,elementType:ms,children:s.jsx(m,{...a.label})},a.key))})}const zi="/build/assets/font-a5a81d1a.svg";function Ri({state:{filters:e,setFilters:t}}){const{trans:a}=Tt();return s.jsxs("div",{className:"mb-24 items-center gap-24 @xs:flex",children:[s.jsx(Qa,{className:"mb-12 flex-auto @xs:mb-0",value:e.query,onChange:n=>{t({...e,query:n.target.value})},startAdornment:s.jsx(Ya,{}),placeholder:a(C("Search fonts"))}),s.jsxs(Xa,{className:"flex-auto",selectionMode:"single",selectedValue:e.category,onSelectionChange:n=>{t({...e,category:n})},children:[s.jsx(re,{value:"",children:s.jsx(m,{message:"All categories"})}),s.jsx(re,{value:"serif",children:s.jsx(m,{message:"Serif"})}),s.jsx(re,{value:"sans-serif",children:s.jsx(m,{message:"Sans serif"})}),s.jsx(re,{value:"display",children:s.jsx(m,{message:"Display"})}),s.jsx(re,{value:"handwriting",children:s.jsx(m,{message:"Handwriting"})}),s.jsx(re,{value:"monospace",children:s.jsx(m,{message:"Monospace"})})]})]})}const Li=[{label:C("System"),family:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',category:"sans-serif"},{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}];function Mi(e,t){return e.reduce((a,n,r)=>{const i=Math.floor(r/t);return a[i]||(a[i]=[]),a[i].push(n),a},[])}function Vi(e){const t=Za({usage:"search",...e});return f.useMemo(()=>({startsWith(a,n){return n.length===0?!0:(a=a.normalize("NFC"),n=n.normalize("NFC"),t.compare(a.slice(0,n.length),n)===0)},endsWith(a,n){return n.length===0?!0:(a=a.normalize("NFC"),n=n.normalize("NFC"),t.compare(a.slice(-n.length),n)===0)},contains(a,n){if(n.length===0)return!0;a=a.normalize("NFC"),n=n.normalize("NFC");let r=0;const i=n.length;for(;r+i<=a.length;r++){const o=a.slice(r,r+i);if(t.compare(n,o)===0)return!0}return!1}}),[t])}function $i({value:e,onChange:t}){const{data:a,isLoading:n}=Bs(["googleFonts"]),[r,i]=f.useState(0),[o,l]=f.useState({query:"",category:(e==null?void 0:e.category)??""}),{contains:c}=Vi({sensitivity:"base"}),d=f.useMemo(()=>Li.concat((a==null?void 0:a.googleFonts)??[]),[a==null?void 0:a.googleFonts]),u=f.useMemo(()=>d.filter(b=>{var v;return c(b.family,o.query)&&(!o.category||((v=b.category)==null?void 0:v.toLowerCase())===o.category.toLowerCase())}),[d,o,c]),h=f.useMemo(()=>Mi(u,20),[u]),p=h[r];f.useEffect(()=>{if(a&&(e!=null&&e.family)){const b=u.findIndex(v=>v.family===e.family);b>=0&&i(Math.floor(b/20))}},[a,u,e==null?void 0:e.family]),f.useEffect(()=>{const b="font-selector";p!=null&&p.length&&Ps(p,{id:b})},[p,r]);const g=f.useCallback(b=>{l(b),i(0)},[]);return{fonts:p||[],currentPage:r,filteredFonts:u||[],setCurrentPage:i,isLoading:n,filters:o,setFilters:g,value:e,onChange:t,pages:h}}function _i({state:{currentPage:e=0,setCurrentPage:t,filteredFonts:a,pages:n}}){const r=(a==null?void 0:a.length)||0;return s.jsxs("div",{className:"mt-30 flex items-center justify-end gap-24 border-t pt-14 text-sm",children:[r>0&&s.jsx("div",{children:s.jsx(m,{message:":from - :to of :total",values:{from:e*20+1,to:Math.min((e+1)*20,r),total:r}})}),s.jsxs("div",{className:"text-muted",children:[s.jsx(xe,{disabled:e<1,onClick:()=>{t(Math.max(0,e-1))},children:s.jsx(ws,{})}),s.jsx(xe,{disabled:e>=n.length-1,onClick:()=>{t(e+1)},children:s.jsx(Et,{})})]})]})}function Oi(e){const t=$i(e);return s.jsxs("div",{className:e.className,children:[s.jsx(Ri,{state:t}),s.jsx(Es,{initial:!1,mode:"wait",children:s.jsx(Ui,{state:t})}),s.jsx(_i,{state:t})]})}function Ui({state:e}){const{isLoading:t,fonts:a}=e,n="grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start";return t?s.jsx(Bi,{className:n}):a!=null&&a.length?s.jsx(St.div,{...Ns,className:n,children:a==null?void 0:a.map(r=>s.jsx(Hi,{font:r,state:e},r.family))},"font-list"):s.jsx(Ms,{className:"mt-60",size:"sm",image:s.jsx(Ts,{src:zi}),title:s.jsx(m,{message:"No matching fonts"}),description:s.jsx(m,{message:"Try another search query or different category"})})}function Hi({font:e,state:{value:t,onChange:a}}){const n=(t==null?void 0:t.family)===e.family,r=e.family.split(",")[0].replace(/"/g,"");return s.jsxs(Ve,{display:"block",onClick:()=>{a(e)},children:[s.jsx("span",{className:k("flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl",n&&"ring-2 ring-primary ring-offset-2"),children:s.jsx("span",{style:{fontFamily:e.family},children:"Aa"})}),s.jsx("span",{className:k("mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",n&&"text-primary"),children:e.label?s.jsx(m,{...e.label}):r})]},e.family)}function Bi({className:e}){const t=Array.from(Array(20).keys());return s.jsx(St.div,{...Ns,className:e,children:t.map(a=>s.jsxs("div",{children:[s.jsx("div",{className:"aspect-square",children:s.jsx(Ht,{display:"block",variant:"rect"})}),s.jsx(Ht,{className:"mt-6 text-sm"})]},a))},"font-list-skeleton")}function Do(){const{setValue:e,watch:t}=q(),{themeIndex:a}=se(),n=`appearance.themes.${a}.font`;return s.jsx(Oi,{value:t(n),onChange:r=>{e(n,r,{shouldDirty:!0}),S().preview.setThemeFont(r)}})}const Ki={"rounded-none":{label:C("Square"),value:"0px"},rounded:{label:C("Small"),value:"0.25rem"},"rounded-md":{label:C("Medium"),value:"0.375rem"},"rounded-lg":{label:C("Large"),value:"0.5rem"},"rounded-xl":{label:C("Larger"),value:"0.75rem"},"rounded-full":{label:C("Pill"),value:"9999px"}};function Po(){return s.jsxs("div",{className:"space-y-24",children:[s.jsx(yt,{label:s.jsx(m,{message:"Button rounding"}),name:"button-radius"}),s.jsx(yt,{label:s.jsx(m,{message:"Input rounding"}),name:"input-radius"}),s.jsx(yt,{label:s.jsx(m,{message:"Panel rounding"}),name:"panel-radius",hidePill:!0})]})}function yt({label:e,name:t,hidePill:a}){const{themeIndex:n}=se(),{watch:r,setValue:i}=q(),o=`appearance.themes.${n}.values.--be-${t}`,l=r(o);return s.jsxs("div",{children:[s.jsx("div",{className:"mb-10 text-sm font-semibold",children:e}),s.jsx("div",{className:"grid grid-cols-3 gap-10 text-sm",children:Object.entries(Ki).filter(([c])=>!a||!c.includes("full")).map(([c,{label:d,value:u}])=>s.jsx(qi,{radius:c,isActive:u===l,onClick:()=>{i(o,u,{shouldDirty:!0}),S().preview.setThemeValue(`--be-${t}`,u)},children:s.jsx(m,{...d})},c))})]})}function qi({radius:e,children:t,isActive:a,onClick:n}){return s.jsx(Ve,{display:"block",className:k("h-36 border-2 hover:bg-hover",e,a&&"border-primary"),onClick:n,children:t})}function zo(){const e=He(),t=ve({defaultValues:{appearance:{themes:e.appearance.themes.filter(a=>a.type==="site")}}});return s.jsx(Be,{form:t,breadcrumb:s.jsx(Wi,{form:t}),blockerAllowedPath:"themes",children:s.jsx(Je,{})})}function Wi({form:e,children:t}){const{pathname:a}=je(),n=a.split("/").pop(),{themeIndex:r}=se(),i=tt({control:e.control,name:"appearance.themes"}),o=r?i[r]:null;return s.jsxs(Ie,{children:[t,s.jsx(m,{message:"Themes"}),o&&s.jsx("span",{children:o.name}),n==="font"&&s.jsx(m,{message:"Font"}),n==="radius"&&s.jsx(m,{message:"Rounding"})]})}function Ro(){const e=He(),t=ve({defaultValues:{settings:{menus:e.settings.menus}}});return s.jsx(Be,{form:t,breadcrumb:s.jsx(Gi,{form:t}),blockerAllowedPath:"menus",children:s.jsx(Je,{})})}function Gi({form:e}){const{menuIndex:t,menuItemIndex:a}=se(),n=tt({control:e.control,name:"settings.menus"}),r=t?n[t]:null,i=a&&r?r.items[a]:null;return s.jsxs(Ie,{children:[s.jsx(m,{message:"Menus"}),r&&s.jsx("span",{children:r.name}),i&&s.jsx("span",{children:i.label})]})}function Lo(){const e=He(),t=ve({defaultValues:{settings:{homepage:{appearance:{headerTitle:e.settings.homepage.appearance.headerTitle??"",headerSubtitle:e.settings.homepage.appearance.headerSubtitle??"",headerImage:e.settings.homepage.appearance.headerImage??"",headerImageOpacity:e.settings.homepage.appearance.headerImageOpacity??"",headerOverlayColor1:e.settings.homepage.appearance.headerOverlayColor1??"",headerOverlayColor2:e.settings.homepage.appearance.headerOverlayColor2??"",footerTitle:e.settings.homepage.appearance.footerTitle??"",footerSubtitle:e.settings.homepage.appearance.footerSubtitle??"",footerImage:e.settings.homepage.appearance.footerImage??"",primaryFeatures:e.settings.homepage.appearance.primaryFeatures??[],secondaryFeatures:e.settings.homepage.appearance.secondaryFeatures??[],actions:e.settings.homepage.appearance.actions??[]}}}}});return s.jsx(Be,{form:t,breadcrumb:s.jsx(Qi,{}),blockerAllowedPath:"landing-page",children:s.jsx(Je,{})})}function Qi(){const{pathname:e}=je(),t=e.split("/").pop();return s.jsxs(Ie,{children:[s.jsx(m,{message:"Landing page"}),t==="action-buttons"&&s.jsx(m,{message:"Action buttons"}),t==="primary-features"&&s.jsx(m,{message:"Primary features"}),t==="secondary-features"&&s.jsx(m,{message:"Secondary features"})]})}function Yi(e){const{size:t="md",inline:a,label:n,showValueLabel:r=!!n,className:i,width:o="w-full",slider:l,children:c,trackColor:d="primary",fillColor:u="primary"}=e,{domProps:h,trackRef:p,getThumbPercent:g,getThumbValueLabel:b,labelId:v,groupId:w,thumbIds:x,isDisabled:y,numberFormatter:j,minValue:T,maxValue:I,step:F,values:A,getValueLabel:P}=l;let D="",V=Math.max([...j.format(T)].length,[...j.format(I)].length,[...j.format(F)].length);P?D=P(A[0]):A.length===1?D=b(0):A.length===2&&(D=`${b(0)} – ${b(1)}`,V=3+2*Math.max(V,[...j.format(T)].length,[...j.format(I)].length));const G=Oe({size:t,disabled:y,labelDisplay:"flex"}),B=k("touch-none",i,o,{"flex items-center":a});return s.jsxs("div",{className:B,role:"group",id:w,children:[(n||r)&&s.jsxs("div",{className:k(G.label,"select-none"),children:[n&&s.jsx("label",{onClick:()=>{var K;(K=document.getElementById(x[0]))==null||K.focus()},id:v,htmlFor:w,children:n}),r&&s.jsx("output",{htmlFor:x[0],className:"ml-auto text-right","aria-live":"off",style:V?{width:`${V}ch`,minWidth:`${V}ch`}:void 0,children:D})]}),s.jsxs("div",{ref:p,className:k("relative",Xi(e)),...h,role:"presentation",children:[s.jsx("div",{className:k("absolute inset-0 m-auto rounded",Zi(d,y),os(t))}),s.jsx("div",{className:k("absolute inset-0 my-auto rounded",Ji(u,y),os(t)),style:{width:`${Math.max(g(0)*100,0)}%`}}),c]})]})}function Xi({size:e,wrapperHeight:t}){if(t)return t;switch(e){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function os(e){switch(e){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function Zi(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return e}}function Ji(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return e}}function eo({minValue:e=0,maxValue:t=100,isDisabled:a=!1,step:n=1,formatOptions:r,onChangeEnd:i,onPointerDown:o,label:l,getValueLabel:c,showThumbOnHoverOnly:d,thumbSize:u,onPointerMove:h,...p}){const[g,b]=f.useState(!1),v=vs(r),{addGlobalListener:w,removeGlobalListener:x}=Ze(),y=f.useRef(null),[j,T]=Nt(p.value?p.value:void 0,p.defaultValue??[e],p.onChange),I=f.useRef(null);I.current=j;const[F,A]=f.useState(new Array(j.length).fill(!1)),P=f.useRef(null);P.current=F;function D(N){return v.format(N)}const V=N=>{var M;return((M=P.current)==null?void 0:M[N])||!1},G=N=>D(j[N]),B=N=>N===0?e:j[N-1],K=N=>N===j.length-1?t:j[N+1],O=(N,M)=>{if(a||!dt(N)||!I.current)return;const ne=B(N),de=K(N);M=Aa(M,ne,de,n),I.current=ls(I.current,N,M),T(I.current)},U=(N,M)=>{var de;if(a||!dt(N))return;const ne=(de=P.current)==null?void 0:de[N];P.current=ls(P.current||[],N,M),A(P.current),i&&ne&&!P.current.some(Boolean)&&i(I.current||[])},[H,E]=f.useState(void 0),R=N=>{const M=Math.min(1,(N-e)/(t-e));return isNaN(M)?0:M},X=N=>R(I.current[N]),$=(N,M)=>{O(N,Ee(M))},_=N=>Math.round((N-e)/n)*n+e,Ee=N=>{const M=N*(t-e)+e;return Re(_(M),e,t)},$t=f.useRef(new Array(j.length).fill(!0)),dt=N=>$t.current[N],ra=(N,M)=>{$t.current[N]=M},ee=f.useRef(null),_t=f.useRef(void 0),ia=N=>{if(!(N.pointerType==="mouse"&&(N.button!==0||N.altKey||N.ctrlKey||N.metaKey))&&(o==null||o(),y.current&&!a&&j.every((M,ne)=>!F[ne]))){const M=y.current.offsetWidth,ne=y.current.getBoundingClientRect().left,ft=(N.clientX-ne)/M,Ke=Ee(ft);let ce;const pe=j.findIndex(pt=>Ke-pt<0);if(pe===0)ce=pe;else if(pe===-1)ce=j.length-1;else{const pt=j[pe-1],ma=j[pe];Math.abs(pt-Ke)<Math.abs(ma-Ke)?ce=pe-1:ce=pe}ce>=0&&dt(ce)?(N.preventDefault(),ee.current=ce,E(ce),_t.current=N.pointerId,U(ee.current,!0),O(ce,Ke),w(window,"pointerup",Ot,!1)):ee.current=null}},Te=f.useRef(null),{domProps:oa}=zr({onPointerDown:ia,onMoveStart(){Te.current=null},onMove(N,M){var de;const ne=((de=y.current)==null?void 0:de.offsetWidth)||0;if(Te.current==null&&(Te.current=X(ee.current||0)*ne),Te.current+=M,ee.current!=null&&y.current){const ft=Re(Te.current/ne,0,1);$(ee.current,ft)}},onMoveEnd(){ee.current!=null&&(U(ee.current,!1),ee.current=null)}}),la=we(oa,{onPointerEnter:()=>{b(!0)},onPointerLeave:()=>{b(!1)},onPointerMove:N=>{h==null||h(N)}}),Ot=N=>{N.pointerId===_t.current&&(ee.current!=null&&(U(ee.current,!1),ee.current=null),x(window,"pointerup",Ot,!1))},mt=f.useId(),ca=l?`${mt}-label`:void 0,ua=`${mt}-group`,da=[...Array(j.length)].map((N,M)=>`${mt}-thumb-${M}`);return{domProps:la,trackRef:y,isDisabled:a,step:n,values:j,minValue:e,maxValue:t,focusedThumb:H,labelId:ca,groupId:ua,thumbIds:da,numberFormatter:v,getThumbPercent:X,getThumbMinValue:B,getThumbMaxValue:K,getThumbValueLabel:G,isThumbDragging:V,setThumbValue:O,updateDraggedThumbs:U,setThumbEditable:ra,setFocusedThumb:E,getValueLabel:c,isPointerOver:g,showThumbOnHoverOnly:d,thumbSize:u}}function ls(e,t,a){return e[t]===a?e:[...e.slice(0,t),a,...e.slice(t+1)]}function to({index:e,slider:t,isDisabled:a,ariaLabel:n,inputRef:r,onBlur:i,fillColor:o="primary"}){const l=ds(r),{addGlobalListener:c,removeGlobalListener:d}=Ze(),{step:u,values:h,focusedThumb:p,labelId:g,thumbIds:b,isDisabled:v,getThumbPercent:w,getThumbMinValue:x,getThumbMaxValue:y,getThumbValueLabel:j,setThumbValue:T,updateDraggedThumbs:I,isThumbDragging:F,setThumbEditable:A,setFocusedThumb:P,isPointerOver:D,showThumbOnHoverOnly:V,thumbSize:G="w-18 h-18"}=t,B=F(e),K=h[e];A(e,!a);const O=a||v,U=f.useCallback(()=>{l.current&&l.current.focus({preventScroll:!0})},[l]),H=p===e;f.useEffect(()=>{H&&U()},[H,U]);const E=f.useRef(void 0),R=$=>{$.pointerId===E.current&&(U(),I(e,!1),d(window,"pointerup",R,!1))},X=k("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",G,!O&&"shadow-md",so({fillColor:o,isDisabled:O,isDragging:B}),!V||V&&B||D?"visible":"invisible");return s.jsx("div",{role:"presentation",className:X,style:{left:`${Math.max(w(e)*100,0)}%`},onPointerDown:$=>{$.button!==0||$.altKey||$.ctrlKey||$.metaKey||(U(),E.current=$.pointerId,I(e,!0),c(window,"pointerup",R,!1))},children:s.jsx("input",{id:b[e],onKeyDown:Qe(()=>{I(e,!0)}),onKeyUp:Qe(()=>{I(e,!1)}),ref:l,tabIndex:O?void 0:0,min:x(e),max:y(e),step:u,value:K,disabled:O,"aria-label":n,"aria-labelledby":g,"aria-orientation":"horizontal","aria-valuetext":j(e),onFocus:()=>{P(e)},onBlur:$=>{P(void 0),I(e,!1),i==null||i($)},onChange:$=>{T(e,parseFloat($.target.value))},type:"range",className:"sr-only"})})}function so({isDisabled:e,isDragging:t,fillColor:a}){return e?"bg-slider-disabled cursor-default":a&&a!=="primary"?a:k("hover:bg-primary-dark",t?"bg-primary-dark":"bg-primary")}function ao({inputRef:e,onBlur:t,...a}){const{onChange:n,onChangeEnd:r,value:i,defaultValue:o,...l}=a,c={...l,value:i!=null?[i]:void 0,defaultValue:o!=null?[o]:void 0,onChange:u=>{n==null||n(u[0])},onChangeEnd:u=>{r==null||r(u[0])}},d=eo(c);return s.jsx(Yi,{...c,slider:d,children:s.jsx(to,{fillColor:a.fillColor,index:0,slider:d,inputRef:e,onBlur:t})})}function no({name:e,...t}){const{field:{onChange:a,onBlur:n,value:r="",ref:i}}=kt({name:e}),o={onChange:a,onBlur:n,value:r||""};return s.jsx(ao,{inputRef:i,...we(o,t)})}function Mo(){return s.jsxs(f.Fragment,{children:[s.jsx(ro,{}),s.jsxs("div",{className:"my-24 border-y py-24",children:[s.jsx(J,{to:"action-buttons",elementType:ie,className:"mb-20",children:s.jsx(m,{message:"Action buttons"})}),s.jsx(J,{to:"primary-features",elementType:ie,children:s.jsx(m,{message:"Primary features"})}),s.jsx(J,{to:"secondary-features",elementType:ie,children:s.jsx(m,{message:"Secondary features"})})]}),s.jsx(io,{})]})}function ro(){const e=fe(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.headerImage});return s.jsxs(s.Fragment,{children:[s.jsx(Y,{label:s.jsx(m,{message:"Header title"}),className:"mb-20",name:"settings.homepage.appearance.headerTitle",onFocus:()=>{S().preview.setHighlight('[data-testid="headerTitle"]')}}),s.jsx(Y,{label:s.jsx(m,{message:"Header subtitle"}),className:"mb-30",inputElementType:"textarea",rows:4,name:"settings.homepage.appearance.headerSubtitle",onFocus:()=>{S().preview.setHighlight('[data-testid="headerSubtitle"]')}}),s.jsx(Ue,{name:"settings.homepage.appearance.headerImage",className:"mb-30",label:s.jsx(m,{message:"Header image"}),defaultValue:e,diskPrefix:"homepage"}),s.jsx(no,{name:"settings.homepage.appearance.headerImageOpacity",label:s.jsx(m,{message:"Header image opacity"}),minValue:0,step:.1,maxValue:1,formatOptions:{style:"percent"}}),s.jsx("div",{className:"mb-20 text-xs text-muted",children:s.jsx(m,{message:"In order for overlay colors to appear, header image opacity will need to be less then 100%"})}),s.jsx(cs,{formKey:"settings.homepage.appearance.headerOverlayColor1",label:s.jsx(m,{message:"Header overlay color 1"})}),s.jsx(cs,{formKey:"settings.homepage.appearance.headerOverlayColor2",label:s.jsx(m,{message:"Header overlay color 2"})})]})}function io(){const e=fe(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.footerImage});return s.jsxs(f.Fragment,{children:[s.jsx(Y,{label:s.jsx(m,{message:"Footer title"}),className:"mb-20",name:"settings.homepage.appearance.footerTitle",onFocus:()=>{S().preview.setHighlight('[data-testid="footerTitle"]')}}),s.jsx(Y,{label:s.jsx(m,{message:"Footer subtitle"}),className:"mb-20",name:"settings.homepage.appearance.footerSubtitle",onFocus:()=>{S().preview.setHighlight('[data-testid="footerSubtitle"]')}}),s.jsx(Ue,{name:"settings.homepage.appearance.footerImage",className:"mb-30",label:s.jsx(m,{message:"Footer background image"}),defaultValue:e,diskPrefix:"homepage"})]})}function cs({label:e,formKey:t}){const a=t,{watch:n,setValue:r}=q(),i=n(a),o=l=>{r(t,l,{shouldDirty:!0})};return s.jsxs(le,{type:"popover",value:i,alwaysReturnCurrentValueOnClose:!0,onValueChange:l=>o(l),onClose:l=>o(l),children:[s.jsx(J,{className:"capitalize",startIcon:s.jsx(Vt,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:i}}),children:e}),s.jsx(na,{})]})}function Vo(){const[e,t]=f.useState(["cta1"]);return s.jsxs(ut,{variant:"outline",expandedValues:e,onExpandedChange:a=>{t(a),a.length&&S().preview.setHighlight(`[data-testid="${a[0]}"]`)},children:[s.jsx(me,{value:"cta1",label:s.jsx(m,{message:"Header button 1"}),children:s.jsx(Ge,{formPathPrefix:"settings.homepage.appearance.actions.cta1"})}),s.jsx(me,{value:"ct2",label:s.jsx(m,{message:"Header button 2"}),children:s.jsx(Ge,{formPathPrefix:"settings.homepage.appearance.actions.cta2"})}),s.jsx(me,{value:"cta3",label:s.jsx(m,{message:"Footer button"}),children:s.jsx(Ge,{formPathPrefix:"settings.homepage.appearance.actions.cta3"})})]})}function $o(){const{fields:e,remove:t,append:a}=et({name:"settings.homepage.appearance.primaryFeatures"}),[n,r]=f.useState([0]);return s.jsxs("div",{children:[s.jsx(ut,{variant:"outline",expandedValues:n,onExpandedChange:i=>{r(i),i.length&&S().preview.setHighlight(`[data-testid="primary-root-${i[0]}"]`)},children:e.map((i,o)=>s.jsxs(me,{value:o,label:s.jsx(m,{message:`Primary feature ${o+1}`}),children:[s.jsx(oo,{index:o}),s.jsx("div",{className:"text-right",children:s.jsx(L,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:s.jsx(m,{message:"Remove"})})})]},i.id))}),s.jsx("div",{className:"mt-20 text-right",children:s.jsx(L,{size:"xs",variant:"outline",color:"primary",startIcon:s.jsx(Ne,{}),onClick:()=>{a({}),r([e.length])},children:s.jsx(m,{message:"Add feature"})})})]})}function oo({index:e}){const t=fe(a=>{var n,r,i;return(i=(r=(n=a.defaults)==null?void 0:n.settings.homepage.appearance)==null?void 0:r.primaryFeatures[e])==null?void 0:i.image});return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{name:`settings.homepage.appearance.primaryFeatures.${e}.image`,className:"mb-30",label:s.jsx(m,{message:"Image"}),defaultValue:t,diskPrefix:"homepage"}),s.jsx(Y,{name:`settings.homepage.appearance.primaryFeatures.${e}.title`,label:s.jsx(m,{message:"Title"}),className:"mb-20",onFocus:()=>{S().preview.setHighlight(`[data-testid="primary-title-${e}"]`)}}),s.jsx(Y,{name:`settings.homepage.appearance.primaryFeatures.${e}.subtitle`,label:s.jsx(m,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{S().preview.setHighlight(`[data-testid="primary-subtitle-${e}"]`)}})]})}function _o(){const{fields:e,remove:t,append:a}=et({name:"settings.homepage.appearance.secondaryFeatures"}),[n,r]=f.useState([0]);return s.jsxs("div",{children:[s.jsx(ut,{variant:"outline",expandedValues:n,onExpandedChange:i=>{r(i),i.length&&S().preview.setHighlight(`[data-testid="secondary-root-${i[0]}"]`)},children:e.map((i,o)=>s.jsxs(me,{value:o,label:s.jsx(m,{message:`Secondary feature ${o+1}`}),children:[s.jsx(lo,{index:o}),s.jsx("div",{className:"text-right",children:s.jsx(L,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:s.jsx(m,{message:"Remove"})})})]},i.id))}),s.jsx("div",{className:"mt-20 text-right",children:s.jsx(L,{size:"xs",variant:"outline",color:"primary",startIcon:s.jsx(Ne,{}),onClick:()=>{a({}),r([e.length])},children:s.jsx(m,{message:"Add feature"})})})]})}function lo({index:e}){return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{name:`settings.homepage.appearance.secondaryFeatures.${e}.image`,className:"mb-30",label:s.jsx(m,{message:"Image"}),defaultValue:co(e),diskPrefix:"homepage"}),s.jsx(Y,{name:`settings.homepage.appearance.secondaryFeatures.${e}.title`,label:s.jsx(m,{message:"Title"}),className:"mb-20",onFocus:()=>{S().preview.setHighlight(`[data-testid="secondary-title-${e}"]`)}}),s.jsx(Y,{name:`settings.homepage.appearance.secondaryFeatures.${e}.subtitle`,label:s.jsx(m,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{S().preview.setHighlight(`[data-testid="secondary-subtitle-${e}"]`)}}),s.jsx(Y,{name:`settings.homepage.appearance.secondaryFeatures.${e}.description`,label:s.jsx(m,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{S().preview.setHighlight(`[data-testid="secondary-description-${e}"]`)}})]})}function co(e){var t,a;return(a=((t=S().defaults)==null?void 0:t.settings.homepage.appearance).secondaryFeatures[e])==null?void 0:a.image}export{Xt as $,wo as A,zr as B,ct as C,jo as D,bn as E,Pt as F,Io as G,Ls as H,Ms as I,ut as J,me as K,Lo as L,ko as M,Ne as N,vr as O,ur as P,As as Q,tr as R,Ts as S,Eo as T,Ue as U,Ur as V,Or as W,Pn as X,fr as Y,Rr as Z,nr as _,zs as a,Lt as a0,ea as a1,or as a2,Ye as a3,hn as a4,na as a5,yn as a6,vn as a7,vo as a8,dr as a9,Ln as aa,Kr as ab,Ci as ac,ji as ad,li as ae,Cr as af,Hr as ag,Kt as ah,fn as ai,it as aj,Ds as ak,yo as al,bo as am,qe as an,Le as ao,lr as ap,Dr as aq,Er as ar,te as as,Ks as at,qs as au,Nr as av,xt as aw,Vi as ax,ge as b,Bs as c,zn as d,Mo as e,Vo as f,Rs as g,$o as h,_o as i,Co as j,No as k,To as l,Ao as m,So as n,In as o,Fo as p,Do as q,Po as r,Ft as s,oe as t,Dt as u,zo as v,Ro as w,br as x,$n as y,Pr as z};
//# sourceMappingURL=admin-appearance-7a196083.js.map
